"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[8539],{31555:(e,a,t)=>{t.d(a,{E:()=>o});var s=t(27051),r=t(53986),n=(t(65043),t(99766)),i=t(70579);const d=["className"];function o(e){let{className:a}=e,t=(0,r.A)(e,d);return(0,i.jsx)("div",(0,s.A)({className:(0,n.cn)("animate-pulse rounded-md bg-muted",a)},t))}},51654:(e,a,t)=>{t.d(a,{d:()=>l});var s=t(27051),r=t(53986),n=t(65043),i=t(77943),d=t(99766),o=t(70579);const c=["className"],l=n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,c);return(0,o.jsx)(i.bL,(0,s.A)((0,s.A)({className:(0,d.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t)},n),{},{ref:a,children:(0,o.jsx)(i.zi,{className:(0,d.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}))});l.displayName=i.bL.displayName},58539:(e,a,t)=>{t.r(a),t.d(a,{default:()=>S});var s=t(27051),r=t(65043),n=t(6931),i=t(63248),d=t(47097),o=t(81228),c=t(35613),l=t(36210),m=t(8393),u=t(27673),p=t(50516),g=t(88693),h=t(27940),y=t(82300),x=t(56099),f=t(94505),w=t(91140),b=t(92264),v=t(59938),N=t(13390),j=t(51654),A=t(31555),k=t(99766),C=t(70579);const B=[{name:"Spotify Green",value:"#1DB954"},{name:"YouTube Red",value:"#FF0000"},{name:"Apple Blue",value:"#007AFF"},{name:"SoundCloud Orange",value:"#FF5500"},{name:"Tidal Cyan",value:"#00FFFF"},{name:"Purple",value:"#8B5CF6"},{name:"Pink",value:"#EC4899"},{name:"Gold",value:"#F59E0B"}];function S(){var e;const a=(0,i.jE)(),[t,S]=(0,r.useState)(""),[R,F]=(0,r.useState)({appName:"",primaryColor:"#1DB954",darkMode:!0}),[M,P]=(0,r.useState)(!1),{data:I,isLoading:T}=(0,n.I)({queryKey:["admin","settings"],queryFn:()=>f.ic.getSettings(),onSuccess:e=>{var a;const t=(null===(a=e.data)||void 0===a?void 0:a.settings)||{};F({appName:t.appName||"MediaCore",primaryColor:t.primaryColor||"#1DB954",darkMode:!1!==t.darkMode})}}),U=(null===I||void 0===I||null===(e=I.data)||void 0===e?void 0:e.settings)||{},D=(0,d.n)({mutationFn:e=>f.ic.updateSettings(e),onSuccess:()=>{a.invalidateQueries(["admin","settings"]),S("Settings saved successfully!"),P(!1),setTimeout(()=>S(""),3e3)}}),L=(e,a)=>{F(t=>(0,s.A)((0,s.A)({},t),{},{[e]:a})),P(!0)};return(0,C.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("h2",{className:"text-2xl font-bold",children:"Settings"}),(0,C.jsx)("p",{className:"text-muted-foreground",children:"Configure your MediaCore application"})]}),t&&(0,C.jsxs)(o.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex items-center gap-2 p-4 bg-green-500/10 border border-green-500/20 rounded-lg text-green-500",children:[(0,C.jsx)(l.A,{className:"h-5 w-5"}),t]}),D.isError&&(0,C.jsxs)("div",{className:"flex items-center gap-2 p-4 bg-destructive/10 border border-destructive/20 rounded-lg text-destructive",children:[(0,C.jsx)(c.A,{className:"h-5 w-5"}),"Failed to save settings. Please try again."]}),(0,C.jsxs)("form",{onSubmit:e=>{e.preventDefault(),D.mutate(R)},className:"space-y-6",children:[(0,C.jsxs)(w.Zp,{children:[(0,C.jsxs)(w.aR,{children:[(0,C.jsxs)(w.ZB,{className:"flex items-center gap-2",children:[(0,C.jsx)(y.A,{className:"h-5 w-5 text-muted-foreground"}),"Application Name"]}),(0,C.jsx)(w.BT,{children:"The name displayed throughout your application"})]}),(0,C.jsx)(w.Wu,{children:T?(0,C.jsx)(A.E,{className:"h-10 w-full"}):(0,C.jsx)(b.p,{value:R.appName,onChange:e=>L("appName",e.target.value),placeholder:"MediaCore",className:"max-w-sm"})})]}),(0,C.jsxs)(w.Zp,{children:[(0,C.jsxs)(w.aR,{children:[(0,C.jsxs)(w.ZB,{className:"flex items-center gap-2",children:[(0,C.jsx)(u.A,{className:"h-5 w-5 text-muted-foreground"}),"Primary Color"]}),(0,C.jsx)(w.BT,{children:"Choose your brand's primary color for accents and highlights"})]}),(0,C.jsx)(w.Wu,{className:"space-y-4",children:T?(0,C.jsx)(A.E,{className:"h-32 w-full"}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"grid grid-cols-4 gap-3",children:B.map(e=>(0,C.jsxs)("button",{type:"button",onClick:()=>L("primaryColor",e.value),className:(0,k.cn)("flex flex-col items-center gap-2 p-3 rounded-lg border-2 transition-all",R.primaryColor===e.value?"border-primary bg-primary/10":"border-transparent hover:bg-muted"),children:[(0,C.jsx)("div",{className:"w-8 h-8 rounded-full ring-2 ring-offset-2 ring-offset-background",style:{backgroundColor:e.value}}),(0,C.jsx)("span",{className:"text-xs text-muted-foreground",children:e.name})]},e.value))}),(0,C.jsxs)("div",{className:"flex items-center gap-4 pt-4 border-t",children:[(0,C.jsx)(v.J,{htmlFor:"customColor",children:"Custom:"}),(0,C.jsxs)("div",{className:"flex items-center gap-2",children:[(0,C.jsx)("input",{type:"color",id:"customColor",value:R.primaryColor,onChange:e=>L("primaryColor",e.target.value),className:"w-10 h-10 rounded cursor-pointer bg-transparent"}),(0,C.jsx)(b.p,{value:R.primaryColor,onChange:e=>L("primaryColor",e.target.value),className:"w-28 font-mono uppercase",maxLength:7})]})]}),(0,C.jsxs)("div",{className:"pt-4 border-t",children:[(0,C.jsx)(v.J,{className:"mb-2 block",children:"Preview"}),(0,C.jsxs)("div",{className:"flex items-center gap-4",children:[(0,C.jsxs)(N.$,{type:"button",style:{backgroundColor:R.primaryColor},className:"text-white hover:opacity-90",children:[(0,C.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Primary Button"]}),(0,C.jsx)("span",{className:"font-semibold",style:{color:R.primaryColor},children:"Accent Text"})]})]})]})})]}),(0,C.jsxs)(w.Zp,{children:[(0,C.jsxs)(w.aR,{children:[(0,C.jsxs)(w.ZB,{className:"flex items-center gap-2",children:[(0,C.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"}),"Appearance"]}),(0,C.jsx)(w.BT,{children:"Configure the default appearance settings"})]}),(0,C.jsx)(w.Wu,{children:T?(0,C.jsx)(A.E,{className:"h-12 w-full"}):(0,C.jsxs)("div",{className:"flex items-center justify-between",children:[(0,C.jsxs)("div",{className:"flex items-center gap-3",children:[R.darkMode?(0,C.jsx)(m.A,{className:"h-5 w-5"}):(0,C.jsx)(h.A,{className:"h-5 w-5"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:"font-medium",children:"Dark Mode"}),(0,C.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enable dark mode as the default theme"})]})]}),(0,C.jsx)(j.d,{checked:R.darkMode,onCheckedChange:e=>L("darkMode",e)})]})})]}),(0,C.jsxs)("div",{className:"flex items-center gap-4 pt-4",children:[(0,C.jsx)(N.$,{type:"submit",disabled:!M||D.isPending,children:D.isPending?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(p.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),M&&(0,C.jsx)(N.$,{type:"button",variant:"outline",onClick:()=>{F({appName:U.appName||"MediaCore",primaryColor:U.primaryColor||"#1DB954",darkMode:!1!==U.darkMode}),P(!1)},children:"Reset"})]})]})]})}},59938:(e,a,t)=>{t.d(a,{J:()=>u});var s=t(27051),r=t(53986),n=t(65043),i=t(65131),d=t(10917),o=t(99766),c=t(70579);const l=["className"],m=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,l);return(0,c.jsx)(i.b,(0,s.A)({ref:a,className:(0,o.cn)(m(),t)},n))});u.displayName=i.b.displayName},91140:(e,a,t)=>{t.d(a,{BT:()=>x,Wu:()=>f,ZB:()=>y,Zp:()=>g,aR:()=>h});var s=t(27051),r=t(53986),n=t(65043),i=t(99766),d=t(70579);const o=["className"],c=["className"],l=["className","children"],m=["className"],u=["className"],p=["className"],g=n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,o);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",t)},n))});g.displayName="Card";const h=n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,c);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t)},n))});h.displayName="CardHeader";const y=n.forwardRef((e,a)=>{let{className:t,children:n}=e,o=(0,r.A)(e,l);return(0,d.jsx)("h3",(0,s.A)((0,s.A)({ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t)},o),{},{children:n}))});y.displayName="CardTitle";const x=n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,m);return(0,d.jsx)("p",(0,s.A)({ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t)},n))});x.displayName="CardDescription";const f=n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,u);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,i.cn)("p-6 pt-0",t)},n))});f.displayName="CardContent";n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,p);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",t)},n))}).displayName="CardFooter"},92264:(e,a,t)=>{t.d(a,{p:()=>c});var s=t(27051),r=t(53986),n=t(65043),i=t(99766),d=t(70579);const o=["className","type"],c=n.forwardRef((e,a)=>{let{className:t,type:n}=e,c=(0,r.A)(e,o);return(0,d.jsx)("input",(0,s.A)({type:n,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",t),ref:a},c))});c.displayName="Input"},94505:(e,a,t)=>{t.d(a,{O0:()=>l,ic:()=>m});var s=t(27051),r=t(79722),n=t(3550);const i="https://test.mediacoreapi.masakalirestrobar.ca",d="mc_3f177f8a673446ba8ee152728d877b00";console.log("[API] Base URL:",i);const o=r.A.create({baseURL:i,timeout:3e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{var a;return console.log("[API] ".concat(null===(a=e.method)||void 0===a?void 0:a.toUpperCase()," ").concat(e.baseURL).concat(e.url)),e},e=>(console.error("[API Request Error]",e),Promise.reject(e))),o.interceptors.response.use(e=>(console.log("[API] Response:",e.status),e),e=>{var a,t,s;return console.error("[API Error]",{status:null===(a=e.response)||void 0===a?void 0:a.status,data:null===(t=e.response)||void 0===t?void 0:t.data,message:e.message,url:null===(s=e.config)||void 0===s?void 0:s.url}),Promise.reject(e)});const c=async()=>{const e=await(0,n.p9)();return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},l={healthCheck:async()=>(await o.get("/health")).data,getMedia:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:a,limit:t=50,orderBy:s="createdAt",order:r="desc"}=e,n=new URLSearchParams({limit:String(t),orderBy:s,order:r});a&&n.append("type",a);return(await o.get("/api/feed?".concat(n),{headers:{"x-api-key":d}})).data},getMediaById:async e=>(await o.get("/api/media/".concat(e),{headers:{"x-api-key":d}})).data,getSettings:async()=>(await o.get("/api/settings",{headers:{"x-api-key":d}})).data,getArtists:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{limit:a=50,orderBy:t="createdAt",order:s="desc"}=e,r=new URLSearchParams({limit:String(a),orderBy:t,order:s});return(await o.get("/api/artists?".concat(r),{headers:{"x-api-key":d}})).data},getArtistById:async e=>(await o.get("/api/artists/".concat(e),{headers:{"x-api-key":d}})).data,getArtistAlbums:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{orderBy:t="releaseDate",order:s="desc"}=a,r=new URLSearchParams({orderBy:t,order:s});return(await o.get("/api/artists/".concat(e,"/albums?").concat(r),{headers:{"x-api-key":d}})).data},getArtistMedia:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:t,orderBy:s="createdAt",order:r="desc"}=a,n=new URLSearchParams({orderBy:s,order:r});t&&n.append("type",t);return(await o.get("/api/artists/".concat(e,"/media?").concat(n),{headers:{"x-api-key":d}})).data},getAlbums:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{artistId:a,limit:t=50,orderBy:s="releaseDate",order:r="desc"}=e,n=new URLSearchParams({limit:String(t),orderBy:s,order:r});a&&n.append("artistId",a);return(await o.get("/api/albums?".concat(n),{headers:{"x-api-key":d}})).data},getAlbumById:async e=>(await o.get("/api/albums/".concat(e),{headers:{"x-api-key":d}})).data,getAlbumMedia:async e=>(await o.get("/api/albums/".concat(e,"/media"),{headers:{"x-api-key":d}})).data},m={uploadMedia:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"video",r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0;const c=await(0,n.p9)(),l=new FormData;l.append("file",e),l.append("title",a),l.append("subtitle",t),l.append("type",s),i&&l.append("artistId",i),d&&l.append("albumId",d),console.log("[API] Upload:",{fileName:e.name,fileType:e.type,title:a,type:s,artistId:i,albumId:d});return(await o.post("/admin/media",l,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(r&&e.total){const a=Math.round(100*e.loaded/e.total);r(a)}}})).data},updateMedia:async(e,a)=>{const t=await c();return(await o.put("/admin/media/".concat(e),a,{headers:t})).data},deleteMedia:async function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=await c();return(await o.delete("/admin/media/".concat(e,"?deleteFile=").concat(a),{headers:t})).data},createArtist:async e=>{const a=await c();return(await o.post("/admin/artists",e,{headers:a})).data},updateArtist:async(e,a)=>{const t=await c();return(await o.put("/admin/artists/".concat(e),a,{headers:t})).data},deleteArtist:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await c();return(await o.delete("/admin/artists/".concat(e,"?cascade=").concat(a),{headers:t})).data},createAlbum:async e=>{const a=await c();return(await o.post("/admin/albums",e,{headers:a})).data},updateAlbum:async(e,a)=>{const t=await c();return(await o.put("/admin/albums/".concat(e),a,{headers:t})).data},deleteAlbum:async e=>{const a=await c();return(await o.delete("/admin/albums/".concat(e),{headers:a})).data},addMediaToAlbum:async(e,a,t)=>{const s=await c();return(await o.post("/admin/albums/".concat(e,"/media"),{mediaId:a,trackNumber:t},{headers:s})).data},removeMediaFromAlbum:async(e,a)=>{const t=await c();return(await o.delete("/admin/albums/".concat(e,"/media/").concat(a),{headers:t})).data},reorderAlbumTracks:async(e,a)=>{const t=await c();return(await o.put("/admin/albums/".concat(e,"/media/reorder"),{tracks:a},{headers:t})).data},generateApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read_only",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await c();return(await o.post("/admin/generate-key",(0,s.A)({name:e,accessType:a},t),{headers:r})).data},getApiKeys:async()=>{const e=await c();return(await o.get("/admin/api-keys",{headers:e})).data},deleteApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await c();return(await o.delete("/admin/api-keys/".concat(e,"?hardDelete=").concat(a),{headers:t})).data},getSettings:async()=>{const e=await c();return(await o.get("/api/settings",{headers:e})).data},updateSettings:async e=>{const a=await c();return(await o.put("/admin/settings",e,{headers:a})).data},getDashboard:async()=>{const e=await c();return(await o.get("/admin/analytics/dashboard",{headers:e})).data},getAnalyticsSummary:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const a=await c();return(await o.get("/admin/analytics/summary?days=".concat(e),{headers:a})).data},getRealTimeStats:async()=>{const e=await c();return(await o.get("/admin/analytics/realtime",{headers:e})).data},getApiKeyStats:async e=>{const a=await c(),t=e?"/admin/analytics/api-keys?keyId=".concat(e):"/admin/analytics/api-keys";return(await o.get(t,{headers:a})).data},getUsers:async()=>{const e=await c();return(await o.get("/admin/users",{headers:e})).data},getUserById:async e=>{const a=await c();return(await o.get("/admin/users/".concat(e),{headers:a})).data},updateUserRole:async(e,a)=>{const t=await c();return(await o.put("/admin/users/".concat(e,"/role"),{role:a},{headers:t})).data},updateUserStatus:async(e,a)=>{const t=await c();return(await o.put("/admin/users/".concat(e,"/status"),{disabled:a},{headers:t})).data},deleteUser:async e=>{const a=await c();return(await o.delete("/admin/users/".concat(e),{headers:a})).data}}}}]);
//# sourceMappingURL=8539.ed4e0665.chunk.js.map