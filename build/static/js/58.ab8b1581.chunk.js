/*! For license information please see 58.ab8b1581.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[58],{764:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(1639).A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},1140:(e,a,t)=>{t.d(a,{BT:()=>v,Wu:()=>y,ZB:()=>x,Zp:()=>p,aR:()=>g});var s=t(7051),r=t(3986),i=t(5043),n=t(9766),d=t(579);const l=["className"],c=["className"],o=["className","children"],u=["className"],m=["className"],h=["className"],p=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,l);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",t)},i))});p.displayName="Card";const g=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,c);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t)},i))});g.displayName="CardHeader";const x=i.forwardRef((e,a)=>{let{className:t,children:i}=e,l=(0,r.A)(e,o);return(0,d.jsx)("h3",(0,s.A)((0,s.A)({ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t)},l),{},{children:i}))});x.displayName="CardTitle";const v=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,u);return(0,d.jsx)("p",(0,s.A)({ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t)},i))});v.displayName="CardDescription";const y=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,m);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("p-6 pt-0",t)},i))});y.displayName="CardContent";i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,h);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t)},i))}).displayName="CardFooter"},1360:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(1639).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1555:(e,a,t)=>{t.d(a,{E:()=>l});var s=t(7051),r=t(3986),i=(t(5043),t(9766)),n=t(579);const d=["className"];function l(e){let{className:a}=e,t=(0,r.A)(e,d);return(0,n.jsx)("div",(0,s.A)({className:(0,i.cn)("animate-pulse rounded-md bg-muted",a)},t))}},2264:(e,a,t)=>{t.d(a,{p:()=>c});var s=t(7051),r=t(3986),i=t(5043),n=t(9766),d=t(579);const l=["className","type"],c=i.forwardRef((e,a)=>{let{className:t,type:i}=e,c=(0,r.A)(e,l);return(0,d.jsx)("input",(0,s.A)({type:i,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",t),ref:a},c))});c.displayName="Input"},3416:(e,a,t)=>{t.d(a,{T:()=>c});var s=t(7051),r=t(3986),i=t(5043),n=t(9766),d=t(579);const l=["className"],c=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,l);return(0,d.jsx)("textarea",(0,s.A)({className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a},i))});c.displayName="Textarea"},4058:(e,a,t)=>{t.r(a),t.d(a,{default:()=>I});var s=t(7051),r=t(5043),i=t(6931),n=t(3248),d=t(7097),l=t(9521),c=t(764),o=t(6360),u=t(8186),m=t(9829),h=t(1360),p=t(9292),g=t(9855),x=t(4459),v=t(4265),y=t(5475),f=t(4505),A=t(2539),b=t(1140),w=t(2264),j=t(3390),N=t(5949),k=t(9938),C=t(3416),S=t(1555),M=t(5598),R=t(7484),L=t(9766),E=t(579);function I(){const e=(0,n.jE)(),{addToast:a}=(0,A.j_)(),{setArtistsCache:t,setAlbumsCache:I}=(0,A.uV)(),[P,B]=(0,r.useState)(""),[U,T]=(0,r.useState)(!1),[O,D]=(0,r.useState)(!1),[F,q]=(0,r.useState)(!1),[z,J]=(0,r.useState)(null),[_,K]=(0,r.useState)({name:"",bio:"",genre:"",image:"",website:""}),{data:W,isLoading:$}=(0,i.I)({queryKey:["artists"],queryFn:()=>f.O0.getArtists({limit:200}),onSuccess:e=>{null!==e&&void 0!==e&&e.data&&t(e.data)}}),{data:G}=(0,i.I)({queryKey:["albums"],queryFn:()=>f.O0.getAlbums({limit:500}),onSuccess:e=>{null!==e&&void 0!==e&&e.data&&I(e.data)}}),Q=(null===W||void 0===W?void 0:W.data)||[],V=(null===G||void 0===G?void 0:G.data)||[],H=(0,d.n)({mutationFn:e=>f.ic.createArtist(e),onSuccess:()=>{e.invalidateQueries(["artists"]),T(!1),K({name:"",bio:"",genre:"",image:"",website:""}),a({message:"Artist created successfully",type:"success"})},onError:e=>{var t,s;a({message:(null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to create artist",type:"error"})}}),Z=(0,d.n)({mutationFn:e=>{let{id:a,data:t}=e;return f.ic.updateArtist(a,t)},onSuccess:()=>{e.invalidateQueries(["artists"]),D(!1),J(null),a({message:"Artist updated successfully",type:"success"})},onError:e=>{var t,s;a({message:(null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to update artist",type:"error"})}}),X=(0,d.n)({mutationFn:e=>{let{id:a,cascade:t}=e;return f.ic.deleteArtist(a,t)},onSuccess:()=>{e.invalidateQueries(["artists"]),e.invalidateQueries(["albums"]),q(!1),J(null),a({message:"Artist deleted successfully",type:"success"})},onError:e=>{var t,s;a({message:(null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Failed to delete artist",type:"error"})}}),Y=P?Q.filter(e=>{var a;return e.name.toLowerCase().includes(P.toLowerCase())||(null===(a=e.genre)||void 0===a?void 0:a.toLowerCase().includes(P.toLowerCase()))}):Q,ee=()=>{K({name:"",bio:"",genre:"",image:"",website:""}),T(!0)};return(0,E.jsxs)("div",{className:"space-y-6",children:[(0,E.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("h2",{className:"text-2xl font-bold",children:"Artists"}),(0,E.jsx)("p",{className:"text-muted-foreground",children:"Manage artists and their content"})]}),(0,E.jsxs)(j.$,{onClick:ee,children:[(0,E.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Add Artist"]})]}),(0,E.jsxs)("div",{className:"relative max-w-md",children:[(0,E.jsx)(p.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,E.jsx)(w.p,{placeholder:"Search artists...",value:P,onChange:e=>B(e.target.value),className:"pl-10"})]}),(0,E.jsxs)("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[(0,E.jsxs)("span",{children:[Y.length," artists"]}),(0,E.jsx)("span",{children:"\u2022"}),(0,E.jsxs)("span",{children:[V.length," albums total"]})]}),$?(0,E.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Array.from({length:8}).map((e,a)=>(0,E.jsx)(b.Zp,{children:(0,E.jsxs)(b.Wu,{className:"p-0",children:[(0,E.jsx)(S.E,{className:"aspect-square w-full"}),(0,E.jsxs)("div",{className:"p-4 space-y-2",children:[(0,E.jsx)(S.E,{className:"h-5 w-3/4"}),(0,E.jsx)(S.E,{className:"h-4 w-1/2"})]})]})},a))}):0===Y.length?(0,E.jsxs)("div",{className:"text-center py-12",children:[(0,E.jsx)(x.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,E.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No artists found"}),(0,E.jsx)("p",{className:"text-muted-foreground mb-4",children:P?"Try a different search term":"Create your first artist to organize your content"}),!P&&(0,E.jsxs)(j.$,{onClick:ee,children:[(0,E.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Add Artist"]})]}):(0,E.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Y.map(e=>{const a=(e=>{const a=V.filter(a=>a.artistId===e);return{albumCount:a.length,trackCount:a.reduce((e,a)=>e+(a.trackCount||0),0)}})(e.id);return(0,E.jsx)(b.Zp,{className:"group overflow-hidden hover:border-primary/50 transition-colors",children:(0,E.jsxs)(b.Wu,{className:"p-0",children:[(0,E.jsx)(y.N_,{to:"/admin/artists/".concat(e.id),children:(0,E.jsxs)("div",{className:(0,L.cn)("aspect-square relative overflow-hidden",!e.image&&"bg-gradient-to-br ".concat((0,L.O3)(e.id))),children:[e.image?(0,E.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,E.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,E.jsx)(x.A,{className:"h-20 w-20 text-white/50"})}),(0,E.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),(0,E.jsxs)("div",{className:"absolute bottom-3 left-3 right-3 flex items-center gap-3 text-white text-sm",children:[(0,E.jsxs)("div",{className:"flex items-center gap-1",children:[(0,E.jsx)(l.A,{className:"h-4 w-4"}),(0,E.jsx)("span",{children:a.albumCount})]}),(0,E.jsxs)("div",{className:"flex items-center gap-1",children:[(0,E.jsx)(m.A,{className:"h-4 w-4"}),(0,E.jsx)("span",{children:a.trackCount})]})]})]})}),(0,E.jsxs)("div",{className:"p-4",children:[(0,E.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,E.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,E.jsx)(y.N_,{to:"/admin/artists/".concat(e.id),className:"font-semibold truncate block hover:underline",children:e.name}),e.genre&&(0,E.jsx)(N.E,{variant:"secondary",className:"mt-1",children:e.genre})]}),(0,E.jsxs)(R.rI,{children:[(0,E.jsx)(R.ty,{asChild:!0,children:(0,E.jsx)(j.$,{variant:"ghost",size:"iconSm",children:(0,E.jsx)(u.A,{className:"h-4 w-4"})})}),(0,E.jsxs)(R.SQ,{align:"end",children:[(0,E.jsx)(R._2,{asChild:!0,children:(0,E.jsxs)(y.N_,{to:"/admin/artists/".concat(e.id),children:[(0,E.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"View Details"]})}),(0,E.jsxs)(R._2,{onClick:()=>(e=>{J(e),K({name:e.name,bio:e.bio||"",genre:e.genre||"",image:e.image||"",website:e.website||""}),D(!0)})(e),children:[(0,E.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.website&&(0,E.jsx)(R._2,{asChild:!0,children:(0,E.jsxs)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",children:[(0,E.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Website"]})}),(0,E.jsx)(R.mB,{}),(0,E.jsxs)(R._2,{onClick:()=>(e=>{J(e),q(!0)})(e),className:"text-destructive",children:[(0,E.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),e.bio&&(0,E.jsx)("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:e.bio})]})]})},e.id)})}),(0,E.jsx)(M.lG,{open:U,onOpenChange:T,children:(0,E.jsxs)(M.Cf,{className:"max-w-md",children:[(0,E.jsxs)(M.c7,{children:[(0,E.jsx)(M.L3,{children:"Add New Artist"}),(0,E.jsx)(M.rr,{children:"Create a new artist to organize your media content"})]}),(0,E.jsxs)("div",{className:"space-y-4 py-4",children:[(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(k.J,{children:"Name *"}),(0,E.jsx)(w.p,{value:_.name,onChange:e=>K((0,s.A)((0,s.A)({},_),{},{name:e.target.value})),placeholder:"Artist name"})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(k.J,{children:"Genre"}),(0,E.jsx)(w.p,{value:_.genre,onChange:e=>K((0,s.A)((0,s.A)({},_),{},{genre:e.target.value})),placeholder:"e.g., Spirituality, Jazz, Rock"})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(k.J,{children:"Biography"}),(0,E.jsx)(C.T,{value:_.bio,onChange:e=>K((0,s.A)((0,s.A)({},_),{},{bio:e.target.value})),placeholder:"Brief description of the artist",rows:3})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(k.J,{children:"Image URL"}),(0,E.jsx)(w.p,{value:_.image,onChange:e=>K((0,s.A)((0,s.A)({},_),{},{image:e.target.value})),placeholder:"https://example.com/image.jpg"})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(k.J,{children:"Website"}),(0,E.jsx)(w.p,{value:_.website,onChange:e=>K((0,s.A)((0,s.A)({},_),{},{website:e.target.value})),placeholder:"https://example.com"})]})]}),(0,E.jsxs)(M.Es,{children:[(0,E.jsx)(j.$,{variant:"ghost",onClick:()=>T(!1),children:"Cancel"}),(0,E.jsxs)(j.$,{onClick:()=>{_.name.trim()?H.mutate(_):a({message:"Artist name is required",type:"error"})},disabled:H.isLoading,children:[H.isLoading&&(0,E.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Artist"]})]})]})}),(0,E.jsx)(M.lG,{open:O,onOpenChange:D,children:(0,E.jsxs)(M.Cf,{className:"max-w-md",children:[(0,E.jsxs)(M.c7,{children:[(0,E.jsx)(M.L3,{children:"Edit Artist"}),(0,E.jsx)(M.rr,{children:"Update artist information"})]}),(0,E.jsxs)("div",{className:"space-y-4 py-4",children:[(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(k.J,{children:"Name *"}),(0,E.jsx)(w.p,{value:_.name,onChange:e=>K((0,s.A)((0,s.A)({},_),{},{name:e.target.value})),placeholder:"Artist name"})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(k.J,{children:"Genre"}),(0,E.jsx)(w.p,{value:_.genre,onChange:e=>K((0,s.A)((0,s.A)({},_),{},{genre:e.target.value})),placeholder:"e.g., Spirituality, Jazz, Rock"})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(k.J,{children:"Biography"}),(0,E.jsx)(C.T,{value:_.bio,onChange:e=>K((0,s.A)((0,s.A)({},_),{},{bio:e.target.value})),placeholder:"Brief description of the artist",rows:3})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(k.J,{children:"Image URL"}),(0,E.jsx)(w.p,{value:_.image,onChange:e=>K((0,s.A)((0,s.A)({},_),{},{image:e.target.value})),placeholder:"https://example.com/image.jpg"})]}),(0,E.jsxs)("div",{className:"space-y-2",children:[(0,E.jsx)(k.J,{children:"Website"}),(0,E.jsx)(w.p,{value:_.website,onChange:e=>K((0,s.A)((0,s.A)({},_),{},{website:e.target.value})),placeholder:"https://example.com"})]})]}),(0,E.jsxs)(M.Es,{children:[(0,E.jsx)(j.$,{variant:"ghost",onClick:()=>D(!1),children:"Cancel"}),(0,E.jsxs)(j.$,{onClick:()=>{_.name.trim()?Z.mutate({id:z.id,data:_}):a({message:"Artist name is required",type:"error"})},disabled:Z.isLoading,children:[Z.isLoading&&(0,E.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})}),(0,E.jsx)(M.lG,{open:F,onOpenChange:e=>!X.isPending&&q(e),children:(0,E.jsxs)(M.Cf,{className:"relative",children:[X.isPending&&(0,E.jsxs)("div",{className:"absolute inset-0 bg-background/80 backdrop-blur-sm flex flex-col items-center justify-center z-50 rounded-lg",children:[(0,E.jsxs)("div",{className:"relative",children:[(0,E.jsx)("div",{className:"h-16 w-16 rounded-full border-4 border-muted animate-pulse"}),(0,E.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,E.jsx)(o.A,{className:"h-8 w-8 animate-spin text-destructive"})})]}),(0,E.jsx)("p",{className:"mt-4 text-sm font-medium text-muted-foreground animate-pulse",children:"Deleting artist..."})]}),(0,E.jsxs)(M.c7,{children:[(0,E.jsx)(M.L3,{children:"Delete Artist"}),(0,E.jsxs)(M.rr,{children:['Are you sure you want to delete "',null===z||void 0===z?void 0:z.name,'"?']})]}),(0,E.jsx)("div",{className:"py-4",children:(0,E.jsx)("p",{className:"text-sm text-muted-foreground",children:"This will also remove all albums associated with this artist. The media files will not be deleted but will be unassigned."})}),(0,E.jsxs)(M.Es,{children:[(0,E.jsx)(j.$,{variant:"ghost",onClick:()=>q(!1),disabled:X.isPending,children:"Cancel"}),(0,E.jsx)(j.$,{variant:"destructive",onClick:()=>{X.mutate({id:z.id,cascade:!0})},disabled:X.isPending,children:X.isPending?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(o.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Artist"})]})]})})]})}},4265:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(1639).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},4505:(e,a,t)=>{t.d(a,{O0:()=>o,ic:()=>u});var s=t(7051),r=t(9722),i=t(3550);const n="https://test.mediacoreapi.masakalirestrobar.ca",d="mc_3f177f8a673446ba8ee152728d877b00";console.log("[API] Base URL:",n);const l=r.A.create({baseURL:n,timeout:3e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{var a;return console.log("[API] ".concat(null===(a=e.method)||void 0===a?void 0:a.toUpperCase()," ").concat(e.baseURL).concat(e.url)),e},e=>(console.error("[API Request Error]",e),Promise.reject(e))),l.interceptors.response.use(e=>(console.log("[API] Response:",e.status),e),e=>{var a,t,s;return console.error("[API Error]",{status:null===(a=e.response)||void 0===a?void 0:a.status,data:null===(t=e.response)||void 0===t?void 0:t.data,message:e.message,url:null===(s=e.config)||void 0===s?void 0:s.url}),Promise.reject(e)});const c=async()=>{const e=await(0,i.p9)();return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},o={healthCheck:async()=>(await l.get("/health")).data,getMedia:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:a,limit:t=50,orderBy:s="createdAt",order:r="desc"}=e,i=new URLSearchParams({limit:String(t),orderBy:s,order:r});a&&i.append("type",a);return(await l.get("/api/feed?".concat(i),{headers:{"x-api-key":d}})).data},getMediaById:async e=>(await l.get("/api/media/".concat(e),{headers:{"x-api-key":d}})).data,getSettings:async()=>(await l.get("/api/settings",{headers:{"x-api-key":d}})).data,getArtists:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{limit:a=50,orderBy:t="createdAt",order:s="desc"}=e,r=new URLSearchParams({limit:String(a),orderBy:t,order:s});return(await l.get("/api/artists?".concat(r),{headers:{"x-api-key":d}})).data},getArtistById:async e=>(await l.get("/api/artists/".concat(e),{headers:{"x-api-key":d}})).data,getArtistAlbums:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{orderBy:t="releaseDate",order:s="desc"}=a,r=new URLSearchParams({orderBy:t,order:s});return(await l.get("/api/artists/".concat(e,"/albums?").concat(r),{headers:{"x-api-key":d}})).data},getArtistMedia:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:t,orderBy:s="createdAt",order:r="desc"}=a,i=new URLSearchParams({orderBy:s,order:r});t&&i.append("type",t);return(await l.get("/api/artists/".concat(e,"/media?").concat(i),{headers:{"x-api-key":d}})).data},getAlbums:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{artistId:a,limit:t=50,orderBy:s="releaseDate",order:r="desc"}=e,i=new URLSearchParams({limit:String(t),orderBy:s,order:r});a&&i.append("artistId",a);return(await l.get("/api/albums?".concat(i),{headers:{"x-api-key":d}})).data},getAlbumById:async e=>(await l.get("/api/albums/".concat(e),{headers:{"x-api-key":d}})).data,getAlbumMedia:async e=>(await l.get("/api/albums/".concat(e,"/media"),{headers:{"x-api-key":d}})).data},u={uploadMedia:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"video",r=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0;const c=await(0,i.p9)(),o=new FormData;o.append("file",e),o.append("title",a),o.append("subtitle",t),o.append("type",s),n&&o.append("artistId",n),d&&o.append("albumId",d),console.log("[API] Upload:",{fileName:e.name,fileType:e.type,title:a,type:s,artistId:n,albumId:d});return(await l.post("/admin/media",o,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(r&&e.total){const a=Math.round(100*e.loaded/e.total);r(a)}}})).data},updateMedia:async(e,a)=>{const t=await c();return(await l.put("/admin/media/".concat(e),a,{headers:t})).data},deleteMedia:async function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=await c();return(await l.delete("/admin/media/".concat(e,"?deleteFile=").concat(a),{headers:t})).data},createArtist:async e=>{const a=await c();return(await l.post("/admin/artists",e,{headers:a})).data},updateArtist:async(e,a)=>{const t=await c();return(await l.put("/admin/artists/".concat(e),a,{headers:t})).data},deleteArtist:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await c();return(await l.delete("/admin/artists/".concat(e,"?cascade=").concat(a),{headers:t})).data},createAlbum:async e=>{const a=await c();return(await l.post("/admin/albums",e,{headers:a})).data},updateAlbum:async(e,a)=>{const t=await c();return(await l.put("/admin/albums/".concat(e),a,{headers:t})).data},deleteAlbum:async e=>{const a=await c();return(await l.delete("/admin/albums/".concat(e),{headers:a})).data},addMediaToAlbum:async(e,a,t)=>{const s=await c();return(await l.post("/admin/albums/".concat(e,"/media"),{mediaId:a,trackNumber:t},{headers:s})).data},removeMediaFromAlbum:async(e,a)=>{const t=await c();return(await l.delete("/admin/albums/".concat(e,"/media/").concat(a),{headers:t})).data},reorderAlbumTracks:async(e,a)=>{const t=await c();return(await l.put("/admin/albums/".concat(e,"/media/reorder"),{tracks:a},{headers:t})).data},generateApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read_only",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await c();return(await l.post("/admin/generate-key",(0,s.A)({name:e,accessType:a},t),{headers:r})).data},getApiKeys:async()=>{const e=await c();return(await l.get("/admin/api-keys",{headers:e})).data},deleteApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await c();return(await l.delete("/admin/api-keys/".concat(e,"?hardDelete=").concat(a),{headers:t})).data},getSettings:async()=>{const e=await c();return(await l.get("/api/settings",{headers:e})).data},updateSettings:async e=>{const a=await c();return(await l.put("/admin/settings",e,{headers:a})).data},getDashboard:async()=>{const e=await c();return(await l.get("/admin/analytics/dashboard",{headers:e})).data},getAnalyticsSummary:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const a=await c();return(await l.get("/admin/analytics/summary?days=".concat(e),{headers:a})).data},getRealTimeStats:async()=>{const e=await c();return(await l.get("/admin/analytics/realtime",{headers:e})).data},getApiKeyStats:async e=>{const a=await c(),t=e?"/admin/analytics/api-keys?keyId=".concat(e):"/admin/analytics/api-keys";return(await l.get(t,{headers:a})).data},getUsers:async()=>{const e=await c();return(await l.get("/admin/users",{headers:e})).data},getUserById:async e=>{const a=await c();return(await l.get("/admin/users/".concat(e),{headers:a})).data},updateUserRole:async(e,a)=>{const t=await c();return(await l.put("/admin/users/".concat(e,"/role"),{role:a},{headers:t})).data},updateUserStatus:async(e,a)=>{const t=await c();return(await l.put("/admin/users/".concat(e,"/status"),{disabled:a},{headers:t})).data},deleteUser:async e=>{const a=await c();return(await l.delete("/admin/users/".concat(e),{headers:a})).data}}},5131:(e,a,t)=>{t.d(a,{b:()=>u});var s=t(7051),r=t(5043),i=t(3986),n=(t(7950),t(6851)),d=t(579);const l=["asChild"];var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{const t=(0,n.TL)("Primitive.".concat(a)),c=r.forwardRef((e,r)=>{const{asChild:n}=e,c=(0,i.A)(e,l),o=n?t:a;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,d.jsx)(o,(0,s.A)((0,s.A)({},c),{},{ref:r}))});return c.displayName="Primitive.".concat(a),(0,s.A)((0,s.A)({},e),{},{[a]:c})},{});var o=r.forwardRef((e,a)=>(0,d.jsx)(c.label,(0,s.A)((0,s.A)({},e),{},{ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}})));o.displayName="Label";var u=o},5949:(e,a,t)=>{t.d(a,{E:()=>o});var s=t(7051),r=t(3986),i=(t(5043),t(917)),n=t(9766),d=t(579);const l=["className","variant"],c=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/20 text-green-500",warning:"border-transparent bg-yellow-500/20 text-yellow-500"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:t}=e,i=(0,r.A)(e,l);return(0,d.jsx)("div",(0,s.A)({className:(0,n.cn)(c({variant:t}),a)},i))}},7097:(e,a,t)=>{t.d(a,{n:()=>j});var s,r,i,n,d,l=t(7051),c=t(5043),o=t(9790),u=t(5149),m=t(8458),h=t(6562),p=t(4558),g=t(5239),x=t(1454),v=t(329),y=t(9723),f=(s=new WeakMap,r=new WeakMap,i=new WeakMap,n=new WeakMap,d=new WeakSet,class extends v.Q{constructor(e,a){super(),(0,o.A)(this,d),(0,u.A)(this,s,void 0),(0,u.A)(this,r,void 0),(0,u.A)(this,i,void 0),(0,u.A)(this,n,void 0),(0,p.A)(s,this,e),this.setOptions(a),this.bindMethods(),(0,h.A)(d,this,A).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var a;const t=this.options;this.options=(0,m.A)(s,this).defaultMutationOptions(e),(0,y.f8)(this.options,t)||(0,m.A)(s,this).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,m.A)(i,this),observer:this}),null!==t&&void 0!==t&&t.mutationKey&&this.options.mutationKey&&(0,y.EN)(t.mutationKey)!==(0,y.EN)(this.options.mutationKey)?this.reset():"pending"===(null===(a=(0,m.A)(i,this))||void 0===a?void 0:a.state.status)&&(0,m.A)(i,this).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null===(e=(0,m.A)(i,this))||void 0===e||e.removeObserver(this))}onMutationUpdate(e){(0,h.A)(d,this,A).call(this),(0,h.A)(d,this,b).call(this,e)}getCurrentResult(){return(0,m.A)(r,this)}reset(){var e;null===(e=(0,m.A)(i,this))||void 0===e||e.removeObserver(this),(0,p.A)(i,this,void 0),(0,h.A)(d,this,A).call(this),(0,h.A)(d,this,b).call(this)}mutate(e,a){var t;return(0,p.A)(n,this,a),null===(t=(0,m.A)(i,this))||void 0===t||t.removeObserver(this),(0,p.A)(i,this,(0,m.A)(s,this).getMutationCache().build((0,m.A)(s,this),this.options)),(0,m.A)(i,this).addObserver(this),(0,m.A)(i,this).execute(e)}});function A(){var e,a;const t=null!==(e=null===(a=(0,m.A)(i,this))||void 0===a?void 0:a.state)&&void 0!==e?e:(0,g.$)();(0,p.A)(r,this,(0,l.A)((0,l.A)({},t),{},{isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}))}function b(e){x.jG.batch(()=>{if((0,m.A)(n,this)&&this.hasListeners()){const h=(0,m.A)(r,this).variables,p=(0,m.A)(r,this).context,g={client:(0,m.A)(s,this),meta:this.options.meta,mutationKey:this.options.mutationKey};var a,t,i,d;if("success"===(null===e||void 0===e?void 0:e.type))null===(a=(t=(0,m.A)(n,this)).onSuccess)||void 0===a||a.call(t,e.data,h,p,g),null===(i=(d=(0,m.A)(n,this)).onSettled)||void 0===i||i.call(d,e.data,null,h,p,g);else if("error"===(null===e||void 0===e?void 0:e.type)){var l,c,o,u;null===(l=(c=(0,m.A)(n,this)).onError)||void 0===l||l.call(c,e.error,h,p,g),null===(o=(u=(0,m.A)(n,this)).onSettled)||void 0===o||o.call(u,void 0,e.error,h,p,g)}}this.listeners.forEach(e=>{e((0,m.A)(r,this))})})}var w=t(3248);function j(e,a){const t=(0,w.jE)(a),[s]=c.useState(()=>new f(t,e));c.useEffect(()=>{s.setOptions(e)},[s,e]);const r=c.useSyncExternalStore(c.useCallback(e=>s.subscribe(x.jG.batchCalls(e)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=c.useCallback((e,a)=>{s.mutate(e,a).catch(y.lQ)},[s]);if(r.error&&(0,y.GU)(s.options.throwOnError,[r.error]))throw r.error;return(0,l.A)((0,l.A)({},r),{},{mutate:i,mutateAsync:r.mutate})}},8186:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(1639).A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},9521:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(1639).A)("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},9855:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(1639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9938:(e,a,t)=>{t.d(a,{J:()=>m});var s=t(7051),r=t(3986),i=t(5043),n=t(5131),d=t(917),l=t(9766),c=t(579);const o=["className"],u=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,o);return(0,c.jsx)(n.b,(0,s.A)({ref:a,className:(0,l.cn)(u(),t)},i))});m.displayName=n.b.displayName}}]);
//# sourceMappingURL=58.ab8b1581.chunk.js.map