"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[127],{1140:(e,a,s)=>{s.d(a,{BT:()=>f,Wu:()=>g,ZB:()=>y,Zp:()=>h,aR:()=>x});var t=s(7051),i=s(3986),r=s(5043),n=s(9766),l=s(579);const d=["className"],c=["className"],o=["className","children"],m=["className"],u=["className"],p=["className"],h=r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,d);return(0,l.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",s)},r))});h.displayName="Card";const x=r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,c);return(0,l.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s)},r))});x.displayName="CardHeader";const y=r.forwardRef((e,a)=>{let{className:s,children:r}=e,d=(0,i.A)(e,o);return(0,l.jsx)("h3",(0,t.A)((0,t.A)({ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s)},d),{},{children:r}))});y.displayName="CardTitle";const f=r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,m);return(0,l.jsx)("p",(0,t.A)({ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s)},r))});f.displayName="CardDescription";const g=r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,u);return(0,l.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("p-6 pt-0",s)},r))});g.displayName="CardContent";r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,p);return(0,l.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",s)},r))}).displayName="CardFooter"},2264:(e,a,s)=>{s.d(a,{p:()=>c});var t=s(7051),i=s(3986),r=s(5043),n=s(9766),l=s(579);const d=["className","type"],c=r.forwardRef((e,a)=>{let{className:s,type:r}=e,c=(0,i.A)(e,d);return(0,l.jsx)("input",(0,t.A)({type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",s),ref:a},c))});c.displayName="Input"},3416:(e,a,s)=>{s.d(a,{T:()=>c});var t=s(7051),i=s(3986),r=s(5043),n=s(9766),l=s(579);const d=["className"],c=r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,d);return(0,l.jsx)("textarea",(0,t.A)({className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a},r))});c.displayName="Textarea"},4370:(e,a,s)=>{s.d(a,{bq:()=>N,eb:()=>C,gC:()=>A,l6:()=>v,yv:()=>j});var t=s(7051),i=s(3986),r=s(5043),n=s(2095),l=s(6210),d=s(2382),c=s(5711),o=s(9766),m=s(579);const u=["className","children"],p=["className"],h=["className"],x=["className","children","position"],y=["className"],f=["className","children"],g=["className"],v=n.bL,j=(n.YJ,n.WT),N=r.forwardRef((e,a)=>{let{className:s,children:r}=e,l=(0,i.A)(e,u);return(0,m.jsxs)(n.l9,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s)},l),{},{children:[r,(0,m.jsx)(n.In,{asChild:!0,children:(0,m.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]}))});N.displayName=n.l9.displayName;const b=r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,p);return(0,m.jsx)(n.PP,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s)},r),{},{children:(0,m.jsx)(c.A,{className:"h-4 w-4"})}))});b.displayName=n.PP.displayName;const w=r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,h);return(0,m.jsx)(n.wn,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s)},r),{},{children:(0,m.jsx)(d.A,{className:"h-4 w-4"})}))});w.displayName=n.wn.displayName;const A=r.forwardRef((e,a)=>{let{className:s,children:r,position:l="popper"}=e,d=(0,i.A)(e,x);return(0,m.jsx)(n.ZL,{children:(0,m.jsxs)(n.UC,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l},d),{},{children:[(0,m.jsx)(b,{}),(0,m.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,m.jsx)(w,{})]}))})});A.displayName=n.UC.displayName;r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,y);return(0,m.jsx)(n.JU,(0,t.A)({ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s)},r))}).displayName=n.JU.displayName;const C=r.forwardRef((e,a)=>{let{className:s,children:r}=e,d=(0,i.A)(e,f);return(0,m.jsxs)(n.q7,(0,t.A)((0,t.A)({ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s)},d),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(n.VF,{children:(0,m.jsx)(l.A,{className:"h-4 w-4"})})}),(0,m.jsx)(n.p4,{children:r})]}))});C.displayName=n.q7.displayName;r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,g);return(0,m.jsx)(n.wv,(0,t.A)({ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s)},r))}).displayName=n.wv.displayName},4505:(e,a,s)=>{s.d(a,{O0:()=>o,ic:()=>m});var t=s(7051),i=s(9722),r=s(3550);const n="https://test.mediacoreapi.masakalirestrobar.ca",l="mc_3f177f8a673446ba8ee152728d877b00";console.log("[API] Base URL:",n);const d=i.A.create({baseURL:n,timeout:3e4,headers:{"Content-Type":"application/json"}});d.interceptors.request.use(e=>{var a;return console.log("[API] ".concat(null===(a=e.method)||void 0===a?void 0:a.toUpperCase()," ").concat(e.baseURL).concat(e.url)),e},e=>(console.error("[API Request Error]",e),Promise.reject(e))),d.interceptors.response.use(e=>(console.log("[API] Response:",e.status),e),e=>{var a,s,t;return console.error("[API Error]",{status:null===(a=e.response)||void 0===a?void 0:a.status,data:null===(s=e.response)||void 0===s?void 0:s.data,message:e.message,url:null===(t=e.config)||void 0===t?void 0:t.url}),Promise.reject(e)});const c=async()=>{const e=await(0,r.p9)();return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},o={healthCheck:async()=>(await d.get("/health")).data,getMedia:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:a,limit:s=50,orderBy:t="createdAt",order:i="desc"}=e,r=new URLSearchParams({limit:String(s),orderBy:t,order:i});a&&r.append("type",a);return(await d.get("/api/feed?".concat(r),{headers:{"x-api-key":l}})).data},getMediaById:async e=>(await d.get("/api/media/".concat(e),{headers:{"x-api-key":l}})).data,getSettings:async()=>(await d.get("/api/settings",{headers:{"x-api-key":l}})).data,getArtists:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{limit:a=50,orderBy:s="createdAt",order:t="desc"}=e,i=new URLSearchParams({limit:String(a),orderBy:s,order:t});return(await d.get("/api/artists?".concat(i),{headers:{"x-api-key":l}})).data},getArtistById:async e=>(await d.get("/api/artists/".concat(e),{headers:{"x-api-key":l}})).data,getArtistAlbums:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{orderBy:s="releaseDate",order:t="desc"}=a,i=new URLSearchParams({orderBy:s,order:t});return(await d.get("/api/artists/".concat(e,"/albums?").concat(i),{headers:{"x-api-key":l}})).data},getArtistMedia:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:s,orderBy:t="createdAt",order:i="desc"}=a,r=new URLSearchParams({orderBy:t,order:i});s&&r.append("type",s);return(await d.get("/api/artists/".concat(e,"/media?").concat(r),{headers:{"x-api-key":l}})).data},getAlbums:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{artistId:a,limit:s=50,orderBy:t="releaseDate",order:i="desc"}=e,r=new URLSearchParams({limit:String(s),orderBy:t,order:i});a&&r.append("artistId",a);return(await d.get("/api/albums?".concat(r),{headers:{"x-api-key":l}})).data},getAlbumById:async e=>(await d.get("/api/albums/".concat(e),{headers:{"x-api-key":l}})).data,getAlbumMedia:async e=>(await d.get("/api/albums/".concat(e,"/media"),{headers:{"x-api-key":l}})).data},m={uploadMedia:async function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"video",i=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;const c=await(0,r.p9)(),o=new FormData;o.append("file",e),o.append("title",a),o.append("subtitle",s),o.append("type",t),n&&o.append("artistId",n),l&&o.append("albumId",l),console.log("[API] Upload:",{fileName:e.name,fileType:e.type,title:a,type:t,artistId:n,albumId:l});return(await d.post("/admin/media",o,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(i&&e.total){const a=Math.round(100*e.loaded/e.total);i(a)}}})).data},updateMedia:async(e,a)=>{const s=await c();return(await d.put("/admin/media/".concat(e),a,{headers:s})).data},deleteMedia:async function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=await c();return(await d.delete("/admin/media/".concat(e,"?deleteFile=").concat(a),{headers:s})).data},createArtist:async e=>{const a=await c();return(await d.post("/admin/artists",e,{headers:a})).data},updateArtist:async(e,a)=>{const s=await c();return(await d.put("/admin/artists/".concat(e),a,{headers:s})).data},deleteArtist:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=await c();return(await d.delete("/admin/artists/".concat(e,"?cascade=").concat(a),{headers:s})).data},createAlbum:async e=>{const a=await c();return(await d.post("/admin/albums",e,{headers:a})).data},updateAlbum:async(e,a)=>{const s=await c();return(await d.put("/admin/albums/".concat(e),a,{headers:s})).data},deleteAlbum:async e=>{const a=await c();return(await d.delete("/admin/albums/".concat(e),{headers:a})).data},addMediaToAlbum:async(e,a,s)=>{const t=await c();return(await d.post("/admin/albums/".concat(e,"/media"),{mediaId:a,trackNumber:s},{headers:t})).data},removeMediaFromAlbum:async(e,a)=>{const s=await c();return(await d.delete("/admin/albums/".concat(e,"/media/").concat(a),{headers:s})).data},reorderAlbumTracks:async(e,a)=>{const s=await c();return(await d.put("/admin/albums/".concat(e,"/media/reorder"),{tracks:a},{headers:s})).data},generateApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read_only",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await c();return(await d.post("/admin/generate-key",(0,t.A)({name:e,accessType:a},s),{headers:i})).data},getApiKeys:async()=>{const e=await c();return(await d.get("/admin/api-keys",{headers:e})).data},deleteApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=await c();return(await d.delete("/admin/api-keys/".concat(e,"?hardDelete=").concat(a),{headers:s})).data},getSettings:async()=>{const e=await c();return(await d.get("/api/settings",{headers:e})).data},updateSettings:async e=>{const a=await c();return(await d.put("/admin/settings",e,{headers:a})).data},getDashboard:async()=>{const e=await c();return(await d.get("/admin/analytics/dashboard",{headers:e})).data},getAnalyticsSummary:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const a=await c();return(await d.get("/admin/analytics/summary?days=".concat(e),{headers:a})).data},getRealTimeStats:async()=>{const e=await c();return(await d.get("/admin/analytics/realtime",{headers:e})).data},getApiKeyStats:async e=>{const a=await c(),s=e?"/admin/analytics/api-keys?keyId=".concat(e):"/admin/analytics/api-keys";return(await d.get(s,{headers:a})).data},getUsers:async()=>{const e=await c();return(await d.get("/admin/users",{headers:e})).data},getUserById:async e=>{const a=await c();return(await d.get("/admin/users/".concat(e),{headers:a})).data},updateUserRole:async(e,a)=>{const s=await c();return(await d.put("/admin/users/".concat(e,"/role"),{role:a},{headers:s})).data},updateUserStatus:async(e,a)=>{const s=await c();return(await d.put("/admin/users/".concat(e,"/status"),{disabled:a},{headers:s})).data},deleteUser:async e=>{const a=await c();return(await d.delete("/admin/users/".concat(e),{headers:a})).data}}},9127:(e,a,s)=>{s.r(a),s.d(a,{default:()=>L});var t=s(5043),i=s(3248),r=s(6931),n=s(7097),l=s(6938),d=s(1228),c=s(9940),o=s(7193),m=s(614),u=s(797),p=s(7170),h=s(9829),x=s(4459),y=s(1360),f=s(4319),g=s(5613),v=s(6360),j=s(4505),N=s(2539),b=s(1140),w=s(2264),A=s(9938),C=s(3416),k=s(3390),S=s(7051),P=s(3986),R=s(7989),U=s(9766),I=s(579);const M=["className","value"],T=t.forwardRef((e,a)=>{let{className:s,value:t}=e,i=(0,P.A)(e,M);return(0,I.jsx)(R.bL,(0,S.A)((0,S.A)({ref:a,className:(0,U.cn)("relative h-2 w-full overflow-hidden rounded-full bg-secondary",s)},i),{},{children:(0,I.jsx)(R.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})}))});T.displayName=R.bL.displayName;var B=s(4370),F=s(5598);function L(){var e,a,s;const S=(0,i.jE)(),{addToast:P}=(0,N.j_)(),[R,M]=(0,t.useState)(null),[L,D]=(0,t.useState)(""),[q,z]=(0,t.useState)(""),[E,J]=(0,t.useState)("video"),[$,W]=(0,t.useState)(0),[Z,O]=(0,t.useState)(!1),[K,Q]=(0,t.useState)(""),[V,_]=(0,t.useState)(""),[G,H]=(0,t.useState)(!1),[X,Y]=(0,t.useState)(!1),[ee,ae]=(0,t.useState)(""),[se,te]=(0,t.useState)(""),{data:ie}=(0,r.I)({queryKey:["artists"],queryFn:()=>j.O0.getArtists({limit:200})}),{data:re}=(0,r.I)({queryKey:["artist-albums",K],queryFn:()=>j.O0.getArtistAlbums(K),enabled:!!K}),ne=(null===ie||void 0===ie?void 0:ie.data)||[],le=(null===re||void 0===re?void 0:re.data)||[],de=(0,n.n)({mutationFn:e=>j.ic.createArtist(e),onSuccess:e=>{S.invalidateQueries(["artists"]),Q(e.data.id),ae(""),H(!1),P({message:"Artist created",type:"success"})},onError:e=>{var a,s;P({message:(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to create artist",type:"error"})}}),ce=(0,n.n)({mutationFn:e=>j.ic.createAlbum(e),onSuccess:e=>{S.invalidateQueries(["artist-albums",K]),_(e.data.id),te(""),Y(!1),P({message:"Album created",type:"success"})},onError:e=>{var a,s;P({message:(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to create album",type:"error"})}}),oe=(0,n.n)({mutationFn:e=>{let{file:a,title:s,subtitle:t,type:i,artistId:r,albumId:n}=e;return j.ic.uploadMedia(a,s,t,i,W,r||null,n||null)},onSuccess:async e=>{var a;S.invalidateQueries(["media"]),S.invalidateQueries(["admin-media"]),S.invalidateQueries(["artist-media",K]);const s=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.id;if(s&&V)try{const e=await j.O0.getAlbumMedia(V),a=((null===e||void 0===e?void 0:e.data)||[]).length+1;await j.ic.addMediaToAlbum(V,s,a),S.invalidateQueries(["album-media",V])}catch(t){console.error("Failed to add media to album:",t)}me(),P({message:"Media uploaded successfully!",type:"success"})},onError:e=>{var a,s;P({message:(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Upload failed",type:"error"})}}),me=()=>{M(null),D(""),z(""),J("video"),W(0),Q(""),_("")},ue=(0,t.useCallback)(e=>{var a,s;e.preventDefault(),O(!1);const t=(null===(a=e.dataTransfer)||void 0===a?void 0:a.files[0])||(null===(s=e.target)||void 0===s?void 0:s.files[0]);if(t){const e=t.type;if(e.startsWith("video/")||e.startsWith("audio/")){if(M(t),J(e.startsWith("video/")?"video":"audio"),!L){const e=t.name.replace(/\.[^/.]+$/,"");D(e)}}else P({message:"Please upload a video (MP4) or audio (MP3) file",type:"error"})}},[L,P]),pe=ne.find(e=>e.id===K),he=le.find(e=>e.id===V);return(0,I.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("h2",{className:"text-2xl font-bold",children:"Upload Media"}),(0,I.jsx)("p",{className:"text-muted-foreground",children:"Upload video or audio files to your media library"})]}),(0,I.jsxs)("form",{onSubmit:e=>{e.preventDefault(),R&&L.trim()?oe.mutate({file:R,title:L.trim(),subtitle:q.trim(),type:E,artistId:K||null,albumId:V||null}):P({message:"Please select a file and enter a title",type:"error"})},className:"space-y-6",children:[(0,I.jsx)(b.Zp,{children:(0,I.jsx)(b.Wu,{className:"p-6",children:(0,I.jsxs)("div",{onDrop:ue,onDragOver:e=>{e.preventDefault(),O(!0)},onDragLeave:e=>{e.preventDefault(),O(!1)},className:(0,U.cn)("border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer",Z?"border-primary bg-primary/10":"border-border hover:border-primary/50",R&&"border-primary bg-primary/5"),children:[(0,I.jsx)("input",{type:"file",accept:"video/mp4,audio/mp3,audio/mpeg",onChange:ue,className:"hidden",id:"file-upload"}),(0,I.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:(0,I.jsx)(l.N,{mode:"wait",children:R?(0,I.jsxs)(d.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-4",children:[(0,I.jsx)("div",{className:"inline-flex p-4 rounded-full bg-primary/20",children:"video"===E?(0,I.jsx)(c.A,{className:"h-8 w-8 text-primary"}):(0,I.jsx)(o.A,{className:"h-8 w-8 text-primary"})}),(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{className:"font-medium",children:R.name}),(0,I.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,U.v7)(R.size)})]}),(0,I.jsxs)(k.$,{type:"button",variant:"ghost",size:"sm",onClick:e=>{e.preventDefault(),M(null)},children:[(0,I.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Remove"]})]},"file-selected"):(0,I.jsxs)(d.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"space-y-4",children:[(0,I.jsx)("div",{className:"inline-flex p-4 rounded-full bg-muted",children:(0,I.jsx)(u.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{className:"font-medium",children:"Drag and drop your file here"}),(0,I.jsx)("p",{className:"text-sm text-muted-foreground",children:"or click to browse"})]}),(0,I.jsxs)("div",{className:"flex justify-center gap-4 text-sm text-muted-foreground",children:[(0,I.jsxs)("span",{className:"flex items-center gap-1",children:[(0,I.jsx)(p.A,{className:"h-4 w-4"}),"MP4 Videos"]}),(0,I.jsxs)("span",{className:"flex items-center gap-1",children:[(0,I.jsx)(h.A,{className:"h-4 w-4"}),"MP3 Audio"]})]}),(0,I.jsx)("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 500MB"})]},"drop-zone")})})]})})}),(0,I.jsxs)(b.Zp,{children:[(0,I.jsx)(b.aR,{children:(0,I.jsx)(b.ZB,{children:"Media Details"})}),(0,I.jsxs)(b.Wu,{className:"space-y-4",children:[(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsx)(A.J,{htmlFor:"title",children:"Title *"}),(0,I.jsx)(w.p,{id:"title",placeholder:"Enter media title",value:L,onChange:e=>D(e.target.value),required:!0})]}),(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsx)(A.J,{htmlFor:"subtitle",children:"Description"}),(0,I.jsx)(C.T,{id:"subtitle",placeholder:"Enter a description (optional)",value:q,onChange:e=>z(e.target.value),rows:3})]}),(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsx)(A.J,{htmlFor:"type",children:"Media Type"}),(0,I.jsxs)(B.l6,{value:E,onValueChange:J,children:[(0,I.jsx)(B.bq,{children:(0,I.jsx)(B.yv,{})}),(0,I.jsxs)(B.gC,{children:[(0,I.jsx)(B.eb,{value:"video",children:(0,I.jsxs)("span",{className:"flex items-center gap-2",children:[(0,I.jsx)(p.A,{className:"h-4 w-4"}),"Video"]})}),(0,I.jsx)(B.eb,{value:"audio",children:(0,I.jsxs)("span",{className:"flex items-center gap-2",children:[(0,I.jsx)(h.A,{className:"h-4 w-4"}),"Audio"]})})]})]})]})]})]}),(0,I.jsxs)(b.Zp,{children:[(0,I.jsx)(b.aR,{children:(0,I.jsxs)(b.ZB,{className:"flex items-center gap-2",children:[(0,I.jsx)(x.A,{className:"h-5 w-5"}),"Artist & Album (Optional)"]})}),(0,I.jsxs)(b.Wu,{className:"space-y-4",children:[(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsx)(A.J,{children:"Artist"}),(0,I.jsxs)("div",{className:"flex gap-2",children:[(0,I.jsxs)(B.l6,{value:K||"none",onValueChange:e=>{Q("none"===e?"":e),_("")},children:[(0,I.jsx)(B.bq,{className:"flex-1",children:(0,I.jsx)(B.yv,{placeholder:"Select an artist"})}),(0,I.jsxs)(B.gC,{children:[(0,I.jsx)(B.eb,{value:"none",children:"No artist"}),ne.map(e=>(0,I.jsx)(B.eb,{value:e.id,children:e.name},e.id))]})]}),(0,I.jsx)(k.$,{type:"button",variant:"outline",size:"icon",onClick:()=>H(!0),children:(0,I.jsx)(y.A,{className:"h-4 w-4"})})]})]}),K&&(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsx)(A.J,{children:"Album"}),(0,I.jsxs)("div",{className:"flex gap-2",children:[(0,I.jsxs)(B.l6,{value:V||"none",onValueChange:e=>_("none"===e?"":e),children:[(0,I.jsx)(B.bq,{className:"flex-1",children:(0,I.jsx)(B.yv,{placeholder:"Select an album"})}),(0,I.jsxs)(B.gC,{children:[(0,I.jsx)(B.eb,{value:"none",children:"No album (singles)"}),le.map(e=>(0,I.jsx)(B.eb,{value:e.id,children:e.title},e.id))]})]}),(0,I.jsx)(k.$,{type:"button",variant:"outline",size:"icon",onClick:()=>Y(!0),children:(0,I.jsx)(y.A,{className:"h-4 w-4"})})]})]}),K&&(0,I.jsxs)("p",{className:"text-xs text-muted-foreground",children:["This media will be assigned to"," ",(0,I.jsx)("strong",{children:null===pe||void 0===pe?void 0:pe.name}),V&&(0,I.jsxs)(I.Fragment,{children:[" ","in album"," ",(0,I.jsx)("strong",{children:null===he||void 0===he?void 0:he.title})]})]})]})]}),oe.isPending&&(0,I.jsx)(b.Zp,{children:(0,I.jsx)(b.Wu,{className:"py-4",children:(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,I.jsx)("span",{children:"Uploading..."}),(0,I.jsxs)("span",{children:[$,"%"]})]}),(0,I.jsx)(T,{value:$})]})})}),(0,I.jsxs)("div",{className:"flex gap-4",children:[(0,I.jsx)(k.$,{type:"button",variant:"outline",onClick:me,disabled:oe.isPending,children:"Cancel"}),(0,I.jsx)(k.$,{type:"submit",className:"flex-1",disabled:!R||!L.trim()||oe.isPending,children:oe.isPending?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(u.A,{className:"h-4 w-4 mr-2 animate-pulse"}),"Uploading..."]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Upload Media"]})})]}),(0,I.jsxs)(l.N,{children:[oe.isSuccess&&(0,I.jsxs)(d.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 text-green-500 bg-green-500/10 p-4 rounded-lg",children:[(0,I.jsx)(f.A,{className:"h-5 w-5"}),(0,I.jsx)("span",{children:"Upload successful!"})]}),oe.isError&&(0,I.jsxs)(d.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 text-red-500 bg-red-500/10 p-4 rounded-lg",children:[(0,I.jsx)(g.A,{className:"h-5 w-5"}),(0,I.jsx)("span",{children:(null===(e=oe.error)||void 0===e||null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Upload failed"})]})]})]}),(0,I.jsx)(F.lG,{open:G,onOpenChange:H,children:(0,I.jsxs)(F.Cf,{className:"max-w-sm",children:[(0,I.jsxs)(F.c7,{children:[(0,I.jsx)(F.L3,{children:"Create New Artist"}),(0,I.jsx)(F.rr,{children:"Add a new artist to organize your content"})]}),(0,I.jsxs)("div",{className:"py-4",children:[(0,I.jsx)(A.J,{children:"Artist Name"}),(0,I.jsx)(w.p,{value:ee,onChange:e=>ae(e.target.value),placeholder:"e.g., Eckhart Tolle",className:"mt-2"})]}),(0,I.jsxs)(F.Es,{children:[(0,I.jsx)(k.$,{variant:"ghost",onClick:()=>H(!1),children:"Cancel"}),(0,I.jsxs)(k.$,{onClick:()=>{ee.trim()&&de.mutate({name:ee.trim()})},disabled:!ee.trim()||de.isLoading,children:[de.isLoading&&(0,I.jsx)(v.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Artist"]})]})]})}),(0,I.jsx)(F.lG,{open:X,onOpenChange:Y,children:(0,I.jsxs)(F.Cf,{className:"max-w-sm",children:[(0,I.jsxs)(F.c7,{children:[(0,I.jsx)(F.L3,{children:"Create New Album"}),(0,I.jsxs)(F.rr,{children:["Add a new album for ",null===pe||void 0===pe?void 0:pe.name]})]}),(0,I.jsxs)("div",{className:"py-4",children:[(0,I.jsx)(A.J,{children:"Album Title"}),(0,I.jsx)(w.p,{value:se,onChange:e=>te(e.target.value),placeholder:"e.g., The Power of Now",className:"mt-2"})]}),(0,I.jsxs)(F.Es,{children:[(0,I.jsx)(k.$,{variant:"ghost",onClick:()=>Y(!1),children:"Cancel"}),(0,I.jsxs)(k.$,{onClick:()=>{se.trim()&&K&&ce.mutate({title:se.trim(),artistId:K})},disabled:!se.trim()||ce.isLoading,children:[ce.isLoading&&(0,I.jsx)(v.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Album"]})]})]})})]})}},9938:(e,a,s)=>{s.d(a,{J:()=>u});var t=s(7051),i=s(3986),r=s(5043),n=s(5131),l=s(917),d=s(9766),c=s(579);const o=["className"],m=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=r.forwardRef((e,a)=>{let{className:s}=e,r=(0,i.A)(e,o);return(0,c.jsx)(n.b,(0,t.A)({ref:a,className:(0,d.cn)(m(),s)},r))});u.displayName=n.b.displayName}}]);
//# sourceMappingURL=127.3daa8d5f.chunk.js.map