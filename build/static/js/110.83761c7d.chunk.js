"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[110],{1140:(e,s,a)=>{a.d(s,{BT:()=>j,Wu:()=>g,ZB:()=>p,Zp:()=>f,aR:()=>h});var t=a(7051),r=a(3986),l=a(5043),n=a(9766),d=a(579);const i=["className"],c=["className"],o=["className","children"],m=["className"],x=["className"],u=["className"],f=l.forwardRef((e,s)=>{let{className:a}=e,l=(0,r.A)(e,i);return(0,d.jsx)("div",(0,t.A)({ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",a)},l))});f.displayName="Card";const h=l.forwardRef((e,s)=>{let{className:a}=e,l=(0,r.A)(e,c);return(0,d.jsx)("div",(0,t.A)({ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a)},l))});h.displayName="CardHeader";const p=l.forwardRef((e,s)=>{let{className:a,children:l}=e,i=(0,r.A)(e,o);return(0,d.jsx)("h3",(0,t.A)((0,t.A)({ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a)},i),{},{children:l}))});p.displayName="CardTitle";const j=l.forwardRef((e,s)=>{let{className:a}=e,l=(0,r.A)(e,m);return(0,d.jsx)("p",(0,t.A)({ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a)},l))});j.displayName="CardDescription";const g=l.forwardRef((e,s)=>{let{className:a}=e,l=(0,r.A)(e,x);return(0,d.jsx)("div",(0,t.A)({ref:s,className:(0,n.cn)("p-6 pt-0",a)},l))});g.displayName="CardContent";l.forwardRef((e,s)=>{let{className:a}=e,l=(0,r.A)(e,u);return(0,d.jsx)("div",(0,t.A)({ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a)},l))}).displayName="CardFooter"},1555:(e,s,a)=>{a.d(s,{E:()=>i});var t=a(7051),r=a(3986),l=(a(5043),a(9766)),n=a(579);const d=["className"];function i(e){let{className:s}=e,a=(0,r.A)(e,d);return(0,n.jsx)("div",(0,t.A)({className:(0,l.cn)("animate-pulse rounded-md bg-muted",s)},a))}},4370:(e,s,a)=>{a.d(s,{bq:()=>v,eb:()=>R,gC:()=>A,l6:()=>N,yv:()=>y});var t=a(7051),r=a(3986),l=a(5043),n=a(2095),d=a(6210),i=a(2382),c=a(5711),o=a(9766),m=a(579);const x=["className","children"],u=["className"],f=["className"],h=["className","children","position"],p=["className"],j=["className","children"],g=["className"],N=n.bL,y=(n.YJ,n.WT),v=l.forwardRef((e,s)=>{let{className:a,children:l}=e,d=(0,r.A)(e,x);return(0,m.jsxs)(n.l9,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a)},d),{},{children:[l,(0,m.jsx)(n.In,{asChild:!0,children:(0,m.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]}))});v.displayName=n.l9.displayName;const b=l.forwardRef((e,s)=>{let{className:a}=e,l=(0,r.A)(e,u);return(0,m.jsx)(n.PP,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},l),{},{children:(0,m.jsx)(c.A,{className:"h-4 w-4"})}))});b.displayName=n.PP.displayName;const w=l.forwardRef((e,s)=>{let{className:a}=e,l=(0,r.A)(e,f);return(0,m.jsx)(n.wn,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a)},l),{},{children:(0,m.jsx)(i.A,{className:"h-4 w-4"})}))});w.displayName=n.wn.displayName;const A=l.forwardRef((e,s)=>{let{className:a,children:l,position:d="popper"}=e,i=(0,r.A)(e,h);return(0,m.jsx)(n.ZL,{children:(0,m.jsxs)(n.UC,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:d},i),{},{children:[(0,m.jsx)(b,{}),(0,m.jsx)(n.LM,{className:(0,o.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,m.jsx)(w,{})]}))})});A.displayName=n.UC.displayName;l.forwardRef((e,s)=>{let{className:a}=e,l=(0,r.A)(e,p);return(0,m.jsx)(n.JU,(0,t.A)({ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a)},l))}).displayName=n.JU.displayName;const R=l.forwardRef((e,s)=>{let{className:a,children:l}=e,i=(0,r.A)(e,j);return(0,m.jsxs)(n.q7,(0,t.A)((0,t.A)({ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a)},i),{},{children:[(0,m.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,m.jsx)(n.VF,{children:(0,m.jsx)(d.A,{className:"h-4 w-4"})})}),(0,m.jsx)(n.p4,{children:l})]}))});R.displayName=n.q7.displayName;l.forwardRef((e,s)=>{let{className:a}=e,l=(0,r.A)(e,g);return(0,m.jsx)(n.wv,(0,t.A)({ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a)},l))}).displayName=n.wv.displayName},5949:(e,s,a)=>{a.d(s,{E:()=>o});var t=a(7051),r=a(3986),l=(a(5043),a(917)),n=a(9766),d=a(579);const i=["className","variant"],c=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/20 text-green-500",warning:"border-transparent bg-yellow-500/20 text-yellow-500"}},defaultVariants:{variant:"default"}});function o(e){let{className:s,variant:a}=e,l=(0,r.A)(e,i);return(0,d.jsx)("div",(0,t.A)({className:(0,n.cn)(c({variant:a}),s)},l))}},7110:(e,s,a)=>{a.r(s),a.d(s,{default:()=>L});var t=a(5043),r=a(2265),l=a(1228),n=a(4537),d=a(9742),i=a(4319),c=a(5088),o=a(5731),m=a(4919),x=a(9875),u=a(73),f=a(6305),h=a(1140),p=a(1555),j=a(5949),g=a(4370),N=a(9766),y=a(6150),v=a(108),b=a(7869),w=a(4240),A=a(7734),R=a(3839),k=a(8643),q=a(2185),C=a(6026),Z=a(2291),F=a(163),S=a(877),B=a(579);const D=["#1DB954","#1ed760","#535353","#b3b3b3","#191414"];function L(){var e,s,a,L,W;const[E,T]=(0,t.useState)("30"),{data:V,isLoading:I}=(0,r.I)({queryKey:["admin","analytics","summary",E],queryFn:()=>f.ic.getAnalyticsSummary(parseInt(E))}),{data:K,isLoading:z}=(0,r.I)({queryKey:["admin","analytics","realtime"],queryFn:()=>f.ic.getRealTimeStats(),refetchInterval:3e4}),{data:P,isLoading:U}=(0,r.I)({queryKey:["admin","dashboard"],queryFn:()=>f.ic.getDashboard()}),O=(null===V||void 0===V?void 0:V.data)||{},J=(null===K||void 0===K?void 0:K.data)||{},M=((null===P||void 0===P?void 0:P.data)||{}).charts||{},_=I||z||U,G=M.methodDistribution?Object.entries(M.methodDistribution).map(e=>{let[s,a]=e;return{name:s,value:a}}):[];return(0,B.jsxs)("div",{className:"space-y-6",children:[(0,B.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,B.jsxs)("div",{children:[(0,B.jsx)("h2",{className:"text-2xl font-bold",children:"Analytics"}),(0,B.jsx)("p",{className:"text-muted-foreground",children:"Monitor API usage and performance"})]}),(0,B.jsxs)(g.l6,{value:E,onValueChange:T,children:[(0,B.jsx)(g.bq,{className:"w-40",children:(0,B.jsx)(g.yv,{})}),(0,B.jsxs)(g.gC,{children:[(0,B.jsx)(g.eb,{value:"7",children:"Last 7 days"}),(0,B.jsx)(g.eb,{value:"30",children:"Last 30 days"}),(0,B.jsx)(g.eb,{value:"90",children:"Last 90 days"})]})]})]}),(0,B.jsxs)(h.Zp,{children:[(0,B.jsx)(h.aR,{children:(0,B.jsxs)(h.ZB,{className:"flex items-center gap-2",children:[(0,B.jsx)(u.A,{className:"h-5 w-5 text-yellow-500"}),"Real-time (Last 24 hours)"]})}),(0,B.jsx)(h.Wu,{children:z?(0,B.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,s)=>(0,B.jsx)(p.E,{className:"h-20"},s))}):(0,B.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,B.jsxs)("div",{className:"text-center",children:[(0,B.jsx)("p",{className:"text-3xl font-bold text-primary",children:(0,N.ZV)(J.requestsLast24h||0)}),(0,B.jsx)("p",{className:"text-sm text-muted-foreground",children:"Requests"})]}),(0,B.jsxs)("div",{className:"text-center",children:[(0,B.jsxs)("p",{className:"text-3xl font-bold",children:[(null===(e=J.avgResponseTime)||void 0===e?void 0:e.toFixed(0))||0,"ms"]}),(0,B.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Response"})]}),(0,B.jsxs)("div",{className:"text-center",children:[(0,B.jsxs)("p",{className:"text-3xl font-bold text-green-500",children:[(null===(s=J.successRate)||void 0===s?void 0:s.toFixed(1))||0,"%"]}),(0,B.jsx)("p",{className:"text-sm text-muted-foreground",children:"Success Rate"})]}),(0,B.jsxs)("div",{className:"text-center",children:[(0,B.jsx)("p",{className:"text-3xl font-bold",children:J.uniqueVisitors||0}),(0,B.jsx)("p",{className:"text-sm text-muted-foreground",children:"Unique IPs"})]})]})})]}),(0,B.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{title:"Total Requests",value:(0,N.ZV)(O.totalRequests||0),icon:n.A,color:"text-blue-500"},{title:"Successful",value:(0,N.ZV)(O.successfulRequests||0),icon:i.A,color:"text-green-500"},{title:"Failed",value:(0,N.ZV)(O.failedRequests||0),icon:x.A,color:"text-red-500"},{title:"Avg Response",value:"".concat((null===(a=O.avgResponseTime)||void 0===a?void 0:a.toFixed(0))||0,"ms"),icon:c.A,color:"text-orange-500"}].map((e,s)=>(0,B.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},children:(0,B.jsx)(h.Zp,{children:(0,B.jsx)(h.Wu,{className:"p-4",children:_?(0,B.jsx)(p.E,{className:"h-16"}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,B.jsx)(e.icon,{className:"h-4 w-4 ".concat(e.color)}),(0,B.jsx)("span",{className:"text-sm text-muted-foreground",children:e.title})]}),(0,B.jsx)("p",{className:"text-2xl font-bold",children:e.value})]})})})},e.title))}),(0,B.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,B.jsxs)(h.Zp,{className:"lg:col-span-2",children:[(0,B.jsx)(h.aR,{children:(0,B.jsxs)(h.ZB,{className:"flex items-center gap-2",children:[(0,B.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"}),"Requests Over Time"]})}),(0,B.jsx)(h.Wu,{children:U?(0,B.jsx)(p.E,{className:"h-64 w-full"}):(null===(L=M.dailyRequests)||void 0===L?void 0:L.length)>0?(0,B.jsx)(v.u,{width:"100%",height:300,children:(0,B.jsxs)(S.Q,{data:M.dailyRequests,children:[(0,B.jsx)(A.d,{strokeDasharray:"3 3",stroke:"#333"}),(0,B.jsx)(q.W,{dataKey:"date",stroke:"#888",fontSize:12,tickFormatter:e=>new Date(e).toLocaleDateString("en",{day:"numeric",month:"short"})}),(0,B.jsx)(C.h,{stroke:"#888",fontSize:12}),(0,B.jsx)(y.m,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"},labelFormatter:e=>new Date(e).toLocaleDateString()}),(0,B.jsx)(R.G,{type:"monotone",dataKey:"count",stroke:"#1DB954",fill:"#1DB954",fillOpacity:.2,strokeWidth:2})]})}):(0,B.jsx)("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No data available for this period"})})]}),(0,B.jsxs)(h.Zp,{children:[(0,B.jsx)(h.aR,{children:(0,B.jsxs)(h.ZB,{className:"flex items-center gap-2",children:[(0,B.jsx)(d.A,{className:"h-5 w-5 text-muted-foreground"}),"Top Endpoints"]})}),(0,B.jsx)(h.Wu,{children:U?(0,B.jsx)(p.E,{className:"h-64 w-full"}):(null===(W=M.topEndpoints)||void 0===W?void 0:W.length)>0?(0,B.jsx)(v.u,{width:"100%",height:250,children:(0,B.jsxs)(Z.E,{data:M.topEndpoints.slice(0,5),children:[(0,B.jsx)(A.d,{strokeDasharray:"3 3",stroke:"#333"}),(0,B.jsx)(q.W,{dataKey:"endpoint",stroke:"#888",fontSize:10,tickFormatter:e=>e.length>12?e.slice(0,12)+"...":e}),(0,B.jsx)(C.h,{stroke:"#888",fontSize:12}),(0,B.jsx)(y.m,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),(0,B.jsx)(k.y,{dataKey:"count",fill:"#1DB954",radius:[4,4,0,0]})]})}):(0,B.jsx)("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No data available"})})]}),(0,B.jsxs)(h.Zp,{children:[(0,B.jsx)(h.aR,{children:(0,B.jsxs)(h.ZB,{className:"flex items-center gap-2",children:[(0,B.jsx)(o.A,{className:"h-5 w-5 text-muted-foreground"}),"Request Methods"]})}),(0,B.jsx)(h.Wu,{children:U?(0,B.jsx)(p.E,{className:"h-64 w-full"}):G.length>0?(0,B.jsx)(v.u,{width:"100%",height:250,children:(0,B.jsxs)(F.r,{children:[(0,B.jsx)(w.F,{data:G,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:s,percent:a}=e;return"".concat(s," ").concat((100*a).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:G.map((e,s)=>(0,B.jsx)(b.f,{fill:D[s%D.length]},"cell-".concat(s)))}),(0,B.jsx)(y.m,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}})]})}):(0,B.jsx)("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No data available"})})]})]}),O.statusCodeBreakdown&&(0,B.jsxs)(h.Zp,{children:[(0,B.jsx)(h.aR,{children:(0,B.jsx)(h.ZB,{children:"Status Code Breakdown"})}),(0,B.jsx)(h.Wu,{children:(0,B.jsx)("div",{className:"flex flex-wrap gap-4",children:Object.entries(O.statusCodeBreakdown).map(e=>{let[s,a]=e;return(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(j.E,{variant:s.startsWith("2")?"success":s.startsWith("4")?"warning":"destructive",children:s}),(0,B.jsx)("span",{className:"text-sm text-muted-foreground",children:(0,N.ZV)(a)})]},s)})})})]})]})}}}]);
//# sourceMappingURL=110.83761c7d.chunk.js.map