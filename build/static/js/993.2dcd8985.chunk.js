"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[993],{10993:(e,a,t)=>{t.r(a),t.d(a,{default:()=>R});t(65043);var s=t(6931),r=t(81228),n=t(34537),d=t(14319),i=t(75088),c=t(57170),o=t(77737),l=t(19829),m=t(44919),u=t(94505),p=t(91140),h=t(31555),y=t(99766),g=t(86150),x=t(50108),w=t(87734),f=t(90168),v=t(38643),j=t(52185),b=t(6026),N=t(75748),A=t(82291),k=t(70579);function R(){var e,a,t,R;const{data:C,isLoading:B}=(0,s.I)({queryKey:["admin","dashboard"],queryFn:()=>u.ic.getDashboard(),refetchInterval:3e4}),{data:S,isLoading:I}=(0,s.I)({queryKey:["media","all"],queryFn:()=>u.O0.getMedia({limit:1e3})}),{data:E,isLoading:P}=(0,s.I)({queryKey:["admin","api-keys"],queryFn:()=>u.ic.getApiKeys()}),U=(null===C||void 0===C?void 0:C.data)||{},q=U.overview||{},D=U.charts||{},T=(null===S||void 0===S?void 0:S.data)||[],K=(null===E||void 0===E?void 0:E.data)||[],L=T.filter(e=>"video"===e.type).length,M=T.filter(e=>"audio"===e.type).length,F=K.filter(e=>e.isActive).length,Z=[{title:"Total Media",value:T.length,icon:c.A,color:"text-blue-500",bgColor:"bg-blue-500/10"},{title:"Videos",value:L,icon:c.A,color:"text-purple-500",bgColor:"bg-purple-500/10"},{title:"Audio",value:M,icon:l.A,color:"text-green-500",bgColor:"bg-green-500/10"},{title:"Active API Keys",value:F,icon:o.A,color:"text-orange-500",bgColor:"bg-orange-500/10"},{title:"Total Requests",value:(0,y.ZV)(q.totalRequests||0),icon:n.A,color:"text-cyan-500",bgColor:"bg-cyan-500/10"},{title:"Success Rate",value:"".concat((null===(e=q.successRate)||void 0===e?void 0:e.toFixed(1))||0,"%"),icon:d.A,color:"text-emerald-500",bgColor:"bg-emerald-500/10"}],W=B||I||P;return(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h2",{className:"text-2xl font-bold",children:"Overview"}),(0,k.jsx)("p",{className:"text-muted-foreground",children:"Welcome to your MediaCore admin dashboard"})]}),(0,k.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Z.map((e,a)=>(0,k.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},children:(0,k.jsx)(p.Zp,{children:(0,k.jsx)(p.Wu,{className:"p-4",children:W?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.E,{className:"h-8 w-8 rounded mb-2"}),(0,k.jsx)(h.E,{className:"h-8 w-16 mb-1"}),(0,k.jsx)(h.E,{className:"h-4 w-20"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"inline-flex p-2 rounded-lg ".concat(e.bgColor," mb-2"),children:(0,k.jsx)(e.icon,{className:"h-5 w-5 ".concat(e.color)})}),(0,k.jsx)("p",{className:"text-2xl font-bold",children:e.value}),(0,k.jsx)("p",{className:"text-sm text-muted-foreground",children:e.title})]})})})},e.title))}),(0,k.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,k.jsxs)(p.Zp,{children:[(0,k.jsx)(p.aR,{children:(0,k.jsxs)(p.ZB,{className:"flex items-center gap-2",children:[(0,k.jsx)(m.A,{className:"h-5 w-5 text-muted-foreground"}),"Daily Requests"]})}),(0,k.jsx)(p.Wu,{children:B?(0,k.jsx)(h.E,{className:"h-64 w-full"}):(null===(a=D.dailyRequests)||void 0===a?void 0:a.length)>0?(0,k.jsx)(x.u,{width:"100%",height:250,children:(0,k.jsxs)(N.b,{data:D.dailyRequests,children:[(0,k.jsx)(w.d,{strokeDasharray:"3 3",stroke:"#333"}),(0,k.jsx)(j.W,{dataKey:"date",stroke:"#888",fontSize:12,tickFormatter:e=>new Date(e).toLocaleDateString("en",{day:"numeric",month:"short"})}),(0,k.jsx)(b.h,{stroke:"#888",fontSize:12}),(0,k.jsx)(g.m,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),(0,k.jsx)(f.N,{type:"monotone",dataKey:"count",stroke:"#1DB954",strokeWidth:2,dot:!1})]})}):(0,k.jsx)("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No data available"})})]}),(0,k.jsxs)(p.Zp,{children:[(0,k.jsx)(p.aR,{children:(0,k.jsxs)(p.ZB,{className:"flex items-center gap-2",children:[(0,k.jsx)(n.A,{className:"h-5 w-5 text-muted-foreground"}),"Top Endpoints"]})}),(0,k.jsx)(p.Wu,{children:B?(0,k.jsx)(h.E,{className:"h-64 w-full"}):(null===(t=D.topEndpoints)||void 0===t?void 0:t.length)>0?(0,k.jsx)(x.u,{width:"100%",height:250,children:(0,k.jsxs)(A.E,{data:D.topEndpoints.slice(0,5),layout:"vertical",children:[(0,k.jsx)(w.d,{strokeDasharray:"3 3",stroke:"#333"}),(0,k.jsx)(j.W,{type:"number",stroke:"#888",fontSize:12}),(0,k.jsx)(b.h,{type:"category",dataKey:"endpoint",stroke:"#888",fontSize:12,width:100,tickFormatter:e=>e.length>15?e.slice(0,15)+"...":e}),(0,k.jsx)(g.m,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),(0,k.jsx)(v.y,{dataKey:"count",fill:"#1DB954",radius:[0,4,4,0]})]})}):(0,k.jsx)("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No data available"})})]})]}),(0,k.jsxs)(p.Zp,{children:[(0,k.jsx)(p.aR,{children:(0,k.jsxs)(p.ZB,{className:"flex items-center gap-2",children:[(0,k.jsx)(i.A,{className:"h-5 w-5 text-muted-foreground"}),"Recent Activity"]})}),(0,k.jsx)(p.Wu,{children:B?(0,k.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,a)=>(0,k.jsxs)("div",{className:"flex items-center gap-4",children:[(0,k.jsx)(h.E,{className:"h-10 w-10 rounded"}),(0,k.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,k.jsx)(h.E,{className:"h-4 w-48"}),(0,k.jsx)(h.E,{className:"h-3 w-32"})]}),(0,k.jsx)(h.E,{className:"h-4 w-16"})]},a))}):(null===(R=U.recentRequests)||void 0===R?void 0:R.length)>0?(0,k.jsx)("div",{className:"space-y-3",children:U.recentRequests.slice(0,10).map((e,a)=>(0,k.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.statusCode<400?"bg-green-500":"bg-red-500")}),(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{className:"font-medium text-sm",children:[e.method," ",e.endpoint]}),(0,k.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.ipAddress," \u2022 ",e.responseTime,"ms"]})]})]}),(0,k.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]},a))}):(0,k.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No recent activity"})})]})]})}},31555:(e,a,t)=>{t.d(a,{E:()=>c});var s=t(27051),r=t(53986),n=(t(65043),t(99766)),d=t(70579);const i=["className"];function c(e){let{className:a}=e,t=(0,r.A)(e,i);return(0,d.jsx)("div",(0,s.A)({className:(0,n.cn)("animate-pulse rounded-md bg-muted",a)},t))}},91140:(e,a,t)=>{t.d(a,{BT:()=>x,Wu:()=>w,ZB:()=>g,Zp:()=>h,aR:()=>y});var s=t(27051),r=t(53986),n=t(65043),d=t(99766),i=t(70579);const c=["className"],o=["className"],l=["className","children"],m=["className"],u=["className"],p=["className"],h=n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,c);return(0,i.jsx)("div",(0,s.A)({ref:a,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",t)},n))});h.displayName="Card";const y=n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,o);return(0,i.jsx)("div",(0,s.A)({ref:a,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",t)},n))});y.displayName="CardHeader";const g=n.forwardRef((e,a)=>{let{className:t,children:n}=e,c=(0,r.A)(e,l);return(0,i.jsx)("h3",(0,s.A)((0,s.A)({ref:a,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",t)},c),{},{children:n}))});g.displayName="CardTitle";const x=n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,m);return(0,i.jsx)("p",(0,s.A)({ref:a,className:(0,d.cn)("text-sm text-muted-foreground",t)},n))});x.displayName="CardDescription";const w=n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,u);return(0,i.jsx)("div",(0,s.A)({ref:a,className:(0,d.cn)("p-6 pt-0",t)},n))});w.displayName="CardContent";n.forwardRef((e,a)=>{let{className:t}=e,n=(0,r.A)(e,p);return(0,i.jsx)("div",(0,s.A)({ref:a,className:(0,d.cn)("flex items-center p-6 pt-0",t)},n))}).displayName="CardFooter"},94505:(e,a,t)=>{t.d(a,{O0:()=>l,ic:()=>m});var s=t(27051),r=t(79722),n=t(3550);const d="https://test.mediacoreapi.masakalirestrobar.ca",i="mc_3f177f8a673446ba8ee152728d877b00";console.log("[API] Base URL:",d);const c=r.A.create({baseURL:d,timeout:3e4,headers:{"Content-Type":"application/json"}});c.interceptors.request.use(e=>{var a;return console.log("[API] ".concat(null===(a=e.method)||void 0===a?void 0:a.toUpperCase()," ").concat(e.baseURL).concat(e.url)),e},e=>(console.error("[API Request Error]",e),Promise.reject(e))),c.interceptors.response.use(e=>(console.log("[API] Response:",e.status),e),e=>{var a,t,s;return console.error("[API Error]",{status:null===(a=e.response)||void 0===a?void 0:a.status,data:null===(t=e.response)||void 0===t?void 0:t.data,message:e.message,url:null===(s=e.config)||void 0===s?void 0:s.url}),Promise.reject(e)});const o=async()=>{const e=await(0,n.p9)();return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},l={healthCheck:async()=>(await c.get("/health")).data,getMedia:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:a,limit:t=50,orderBy:s="createdAt",order:r="desc"}=e,n=new URLSearchParams({limit:String(t),orderBy:s,order:r});a&&n.append("type",a);return(await c.get("/api/feed?".concat(n),{headers:{"x-api-key":i}})).data},getMediaById:async e=>(await c.get("/api/media/".concat(e),{headers:{"x-api-key":i}})).data,getSettings:async()=>(await c.get("/api/settings",{headers:{"x-api-key":i}})).data,getArtists:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{limit:a=50,orderBy:t="createdAt",order:s="desc"}=e,r=new URLSearchParams({limit:String(a),orderBy:t,order:s});return(await c.get("/api/artists?".concat(r),{headers:{"x-api-key":i}})).data},getArtistById:async e=>(await c.get("/api/artists/".concat(e),{headers:{"x-api-key":i}})).data,getArtistAlbums:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{orderBy:t="releaseDate",order:s="desc"}=a,r=new URLSearchParams({orderBy:t,order:s});return(await c.get("/api/artists/".concat(e,"/albums?").concat(r),{headers:{"x-api-key":i}})).data},getArtistMedia:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:t,orderBy:s="createdAt",order:r="desc"}=a,n=new URLSearchParams({orderBy:s,order:r});t&&n.append("type",t);return(await c.get("/api/artists/".concat(e,"/media?").concat(n),{headers:{"x-api-key":i}})).data},getAlbums:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{artistId:a,limit:t=50,orderBy:s="releaseDate",order:r="desc"}=e,n=new URLSearchParams({limit:String(t),orderBy:s,order:r});a&&n.append("artistId",a);return(await c.get("/api/albums?".concat(n),{headers:{"x-api-key":i}})).data},getAlbumById:async e=>(await c.get("/api/albums/".concat(e),{headers:{"x-api-key":i}})).data,getAlbumMedia:async e=>(await c.get("/api/albums/".concat(e,"/media"),{headers:{"x-api-key":i}})).data},m={uploadMedia:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"video",r=arguments.length>4?arguments[4]:void 0,d=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;const o=await(0,n.p9)(),l=new FormData;l.append("file",e),l.append("title",a),l.append("subtitle",t),l.append("type",s),d&&l.append("artistId",d),i&&l.append("albumId",i),console.log("[API] Upload:",{fileName:e.name,fileType:e.type,title:a,type:s,artistId:d,albumId:i});return(await c.post("/admin/media",l,{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(r&&e.total){const a=Math.round(100*e.loaded/e.total);r(a)}}})).data},updateMedia:async(e,a)=>{const t=await o();return(await c.put("/admin/media/".concat(e),a,{headers:t})).data},deleteMedia:async function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=await o();return(await c.delete("/admin/media/".concat(e,"?deleteFile=").concat(a),{headers:t})).data},createArtist:async e=>{const a=await o();return(await c.post("/admin/artists",e,{headers:a})).data},updateArtist:async(e,a)=>{const t=await o();return(await c.put("/admin/artists/".concat(e),a,{headers:t})).data},deleteArtist:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await o();return(await c.delete("/admin/artists/".concat(e,"?cascade=").concat(a),{headers:t})).data},createAlbum:async e=>{const a=await o();return(await c.post("/admin/albums",e,{headers:a})).data},updateAlbum:async(e,a)=>{const t=await o();return(await c.put("/admin/albums/".concat(e),a,{headers:t})).data},deleteAlbum:async e=>{const a=await o();return(await c.delete("/admin/albums/".concat(e),{headers:a})).data},addMediaToAlbum:async(e,a,t)=>{const s=await o();return(await c.post("/admin/albums/".concat(e,"/media"),{mediaId:a,trackNumber:t},{headers:s})).data},removeMediaFromAlbum:async(e,a)=>{const t=await o();return(await c.delete("/admin/albums/".concat(e,"/media/").concat(a),{headers:t})).data},reorderAlbumTracks:async(e,a)=>{const t=await o();return(await c.put("/admin/albums/".concat(e,"/media/reorder"),{tracks:a},{headers:t})).data},generateApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read_only",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await o();return(await c.post("/admin/generate-key",(0,s.A)({name:e,accessType:a},t),{headers:r})).data},getApiKeys:async()=>{const e=await o();return(await c.get("/admin/api-keys",{headers:e})).data},deleteApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await o();return(await c.delete("/admin/api-keys/".concat(e,"?hardDelete=").concat(a),{headers:t})).data},getSettings:async()=>{const e=await o();return(await c.get("/api/settings",{headers:e})).data},updateSettings:async e=>{const a=await o();return(await c.put("/admin/settings",e,{headers:a})).data},getDashboard:async()=>{const e=await o();return(await c.get("/admin/analytics/dashboard",{headers:e})).data},getAnalyticsSummary:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const a=await o();return(await c.get("/admin/analytics/summary?days=".concat(e),{headers:a})).data},getRealTimeStats:async()=>{const e=await o();return(await c.get("/admin/analytics/realtime",{headers:e})).data},getApiKeyStats:async e=>{const a=await o(),t=e?"/admin/analytics/api-keys?keyId=".concat(e):"/admin/analytics/api-keys";return(await c.get(t,{headers:a})).data},getUsers:async()=>{const e=await o();return(await c.get("/admin/users",{headers:e})).data},getUserById:async e=>{const a=await o();return(await c.get("/admin/users/".concat(e),{headers:a})).data},updateUserRole:async(e,a)=>{const t=await o();return(await c.put("/admin/users/".concat(e,"/role"),{role:a},{headers:t})).data},updateUserStatus:async(e,a)=>{const t=await o();return(await c.put("/admin/users/".concat(e,"/status"),{disabled:a},{headers:t})).data},deleteUser:async e=>{const a=await o();return(await c.delete("/admin/users/".concat(e),{headers:a})).data}}}}]);
//# sourceMappingURL=993.2dcd8985.chunk.js.map