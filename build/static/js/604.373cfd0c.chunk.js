/*! For license information please see 604.373cfd0c.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[604],{1555:(a,e,t)=>{t.d(e,{E:()=>c});var s=t(7051),r=t(3986),i=(t(5043),t(9766)),n=t(579);const d=["className"];function c(a){let{className:e}=a,t=(0,r.A)(a,d);return(0,n.jsx)("div",(0,s.A)({className:(0,i.cn)("animate-pulse rounded-md bg-muted",e)},t))}},2264:(a,e,t)=>{t.d(e,{p:()=>o});var s=t(7051),r=t(3986),i=t(5043),n=t(9766),d=t(579);const c=["className","type"],o=i.forwardRef((a,e)=>{let{className:t,type:i}=a,o=(0,r.A)(a,c);return(0,d.jsx)("input",(0,s.A)({type:i,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",t),ref:e},o))});o.displayName="Input"},4223:(a,e,t)=>{t.r(e),t.d(e,{default:()=>x});var s=t(5043),r=t(5475),i=t(6931),n=t(1228),d=t(5613),c=t(9521),o=t(9829),l=t(9292),u=t(4459),m=t(4505),p=t(2264),h=t(1555),g=t(9766),y=t(579);function x(){const[a,e]=(0,s.useState)(""),{data:t,isLoading:r,isError:n,error:c}=(0,i.I)({queryKey:["artists"],queryFn:m.O0.getArtists}),o=(0,s.useMemo)(()=>(null===t||void 0===t?void 0:t.data)||[],[null===t||void 0===t?void 0:t.data]),g=(0,s.useMemo)(()=>{if(!a)return o;const e=a.toLowerCase();return o.filter(a=>{var t;return a.name.toLowerCase().includes(e)||(null===(t=a.genre)||void 0===t?void 0:t.toLowerCase().includes(e))})},[o,a]);return r?(0,y.jsxs)("div",{className:"space-y-6 pb-32",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Artists"}),(0,y.jsx)("p",{className:"text-muted-foreground",children:"Browse all artists in your library"})]}),(0,y.jsx)("div",{className:"relative max-w-md",children:(0,y.jsx)(h.E,{className:"h-10 w-full"})}),(0,y.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:Array.from({length:12}).map((a,e)=>(0,y.jsxs)("div",{className:"p-4",children:[(0,y.jsx)(h.E,{className:"aspect-square rounded-full mb-4"}),(0,y.jsx)(h.E,{className:"h-4 w-3/4 mx-auto mb-2"}),(0,y.jsx)(h.E,{className:"h-3 w-1/2 mx-auto"})]},e))})]}):n?(0,y.jsxs)("div",{className:"space-y-6 pb-32",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Artists"}),(0,y.jsx)("p",{className:"text-muted-foreground",children:"Browse all artists in your library"})]}),(0,y.jsxs)("div",{className:"text-center py-16",children:[(0,y.jsx)(d.A,{className:"h-16 w-16 mx-auto text-destructive mb-4"}),(0,y.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Failed to load artists"}),(0,y.jsx)("p",{className:"text-muted-foreground",children:(null===c||void 0===c?void 0:c.message)||"An error occurred while loading artists"})]})]}):(0,y.jsxs)("div",{className:"space-y-6 pb-32",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Artists"}),(0,y.jsx)("p",{className:"text-muted-foreground",children:"Browse all artists in your library"})]}),(0,y.jsxs)("div",{className:"relative max-w-md",children:[(0,y.jsx)(l.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,y.jsx)(p.p,{placeholder:"Search artists...",value:a,onChange:a=>e(a.target.value),className:"pl-10"})]}),0===g.length?(0,y.jsxs)("div",{className:"text-center py-16",children:[(0,y.jsx)(u.A,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),(0,y.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"No artists found"}),(0,y.jsx)("p",{className:"text-muted-foreground",children:a?"Try a different search term":"No artists have been added yet"})]}):(0,y.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:g.map((a,e)=>(0,y.jsx)(w,{artist:a,index:e},a.id))})]})}function w(a){var e,t;let{artist:s,index:d}=a;const{data:l}=(0,i.I)({queryKey:["artist",s.id,"albums"],queryFn:()=>m.O0.getArtistAlbums(s.id),staleTime:3e5}),{data:p}=(0,i.I)({queryKey:["artist",s.id,"media"],queryFn:()=>m.O0.getArtistMedia(s.id),staleTime:3e5}),h=(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.length)||0,x=(null===p||void 0===p||null===(t=p.data)||void 0===t?void 0:t.length)||0;return(0,y.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.03*d},children:(0,y.jsx)(r.N_,{to:"/artist/".concat(s.id),children:(0,y.jsxs)("div",{className:"group p-4 rounded-lg bg-card hover:bg-card/80 transition-colors",children:[(0,y.jsx)("div",{className:(0,g.cn)("aspect-square rounded-full mb-4 mx-auto w-full max-w-[160px] overflow-hidden shadow-lg group-hover:shadow-xl transition-shadow",!s.image&&"bg-gradient-to-br ".concat((0,g.O3)(s.id))),children:s.image?(0,y.jsx)("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}):(0,y.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,y.jsx)(u.A,{className:"h-16 w-16 text-white/50"})})}),(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("h3",{className:"font-semibold truncate",children:s.name}),(0,y.jsx)("p",{className:"text-sm text-muted-foreground",children:"Artist"}),(0,y.jsxs)("div",{className:"flex items-center justify-center gap-3 mt-2 text-xs text-muted-foreground",children:[(0,y.jsxs)("span",{className:"flex items-center gap-1",children:[(0,y.jsx)(c.A,{className:"h-3 w-3"}),h]}),(0,y.jsxs)("span",{className:"flex items-center gap-1",children:[(0,y.jsx)(o.A,{className:"h-3 w-3"}),x]})]})]})]})})})}},4505:(a,e,t)=>{t.d(e,{O0:()=>l,ic:()=>u});var s=t(7051),r=t(9722),i=t(3550);const n="https://test.mediacoreapi.masakalirestrobar.ca",d="mc_3f177f8a673446ba8ee152728d877b00";console.log("[API] Base URL:",n);const c=r.A.create({baseURL:n,timeout:3e4,headers:{"Content-Type":"application/json"}});c.interceptors.request.use(a=>{var e;return console.log("[API] ".concat(null===(e=a.method)||void 0===e?void 0:e.toUpperCase()," ").concat(a.baseURL).concat(a.url)),a},a=>(console.error("[API Request Error]",a),Promise.reject(a))),c.interceptors.response.use(a=>(console.log("[API] Response:",a.status),a),a=>{var e,t,s;return console.error("[API Error]",{status:null===(e=a.response)||void 0===e?void 0:e.status,data:null===(t=a.response)||void 0===t?void 0:t.data,message:a.message,url:null===(s=a.config)||void 0===s?void 0:s.url}),Promise.reject(a)});const o=async()=>{const a=await(0,i.p9)();return{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}},l={healthCheck:async()=>(await c.get("/health")).data,getMedia:async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:e,limit:t=50,orderBy:s="createdAt",order:r="desc"}=a,i=new URLSearchParams({limit:String(t),orderBy:s,order:r});e&&i.append("type",e);return(await c.get("/api/feed?".concat(i),{headers:{"x-api-key":d}})).data},getMediaById:async a=>(await c.get("/api/media/".concat(a),{headers:{"x-api-key":d}})).data,getSettings:async()=>(await c.get("/api/settings",{headers:{"x-api-key":d}})).data,getArtists:async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{limit:e=50,orderBy:t="createdAt",order:s="desc"}=a,r=new URLSearchParams({limit:String(e),orderBy:t,order:s});return(await c.get("/api/artists?".concat(r),{headers:{"x-api-key":d}})).data},getArtistById:async a=>(await c.get("/api/artists/".concat(a),{headers:{"x-api-key":d}})).data,getArtistAlbums:async function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{orderBy:t="releaseDate",order:s="desc"}=e,r=new URLSearchParams({orderBy:t,order:s});return(await c.get("/api/artists/".concat(a,"/albums?").concat(r),{headers:{"x-api-key":d}})).data},getArtistMedia:async function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:t,orderBy:s="createdAt",order:r="desc"}=e,i=new URLSearchParams({orderBy:s,order:r});t&&i.append("type",t);return(await c.get("/api/artists/".concat(a,"/media?").concat(i),{headers:{"x-api-key":d}})).data},getAlbums:async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{artistId:e,limit:t=50,orderBy:s="releaseDate",order:r="desc"}=a,i=new URLSearchParams({limit:String(t),orderBy:s,order:r});e&&i.append("artistId",e);return(await c.get("/api/albums?".concat(i),{headers:{"x-api-key":d}})).data},getAlbumById:async a=>(await c.get("/api/albums/".concat(a),{headers:{"x-api-key":d}})).data,getAlbumMedia:async a=>(await c.get("/api/albums/".concat(a,"/media"),{headers:{"x-api-key":d}})).data},u={uploadMedia:async function(a,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"video",r=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0;const o=await(0,i.p9)(),l=new FormData;l.append("file",a),l.append("title",e),l.append("subtitle",t),l.append("type",s),n&&l.append("artistId",n),d&&l.append("albumId",d),console.log("[API] Upload:",{fileName:a.name,fileType:a.type,title:e,type:s,artistId:n,albumId:d});return(await c.post("/admin/media",l,{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"multipart/form-data"},onUploadProgress:a=>{if(r&&a.total){const e=Math.round(100*a.loaded/a.total);r(e)}}})).data},updateMedia:async(a,e)=>{const t=await o();return(await c.put("/admin/media/".concat(a),e,{headers:t})).data},deleteMedia:async function(a){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=await o();return(await c.delete("/admin/media/".concat(a,"?deleteFile=").concat(e),{headers:t})).data},createArtist:async a=>{const e=await o();return(await c.post("/admin/artists",a,{headers:e})).data},updateArtist:async(a,e)=>{const t=await o();return(await c.put("/admin/artists/".concat(a),e,{headers:t})).data},deleteArtist:async function(a){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await o();return(await c.delete("/admin/artists/".concat(a,"?cascade=").concat(e),{headers:t})).data},createAlbum:async a=>{const e=await o();return(await c.post("/admin/albums",a,{headers:e})).data},updateAlbum:async(a,e)=>{const t=await o();return(await c.put("/admin/albums/".concat(a),e,{headers:t})).data},deleteAlbum:async a=>{const e=await o();return(await c.delete("/admin/albums/".concat(a),{headers:e})).data},addMediaToAlbum:async(a,e,t)=>{const s=await o();return(await c.post("/admin/albums/".concat(a,"/media"),{mediaId:e,trackNumber:t},{headers:s})).data},removeMediaFromAlbum:async(a,e)=>{const t=await o();return(await c.delete("/admin/albums/".concat(a,"/media/").concat(e),{headers:t})).data},reorderAlbumTracks:async(a,e)=>{const t=await o();return(await c.put("/admin/albums/".concat(a,"/media/reorder"),{tracks:e},{headers:t})).data},generateApiKey:async function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read_only",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await o();return(await c.post("/admin/generate-key",(0,s.A)({name:a,accessType:e},t),{headers:r})).data},getApiKeys:async()=>{const a=await o();return(await c.get("/admin/api-keys",{headers:a})).data},deleteApiKey:async function(a){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await o();return(await c.delete("/admin/api-keys/".concat(a,"?hardDelete=").concat(e),{headers:t})).data},getSettings:async()=>{const a=await o();return(await c.get("/api/settings",{headers:a})).data},updateSettings:async a=>{const e=await o();return(await c.put("/admin/settings",a,{headers:e})).data},getDashboard:async()=>{const a=await o();return(await c.get("/admin/analytics/dashboard",{headers:a})).data},getAnalyticsSummary:async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const e=await o();return(await c.get("/admin/analytics/summary?days=".concat(a),{headers:e})).data},getRealTimeStats:async()=>{const a=await o();return(await c.get("/admin/analytics/realtime",{headers:a})).data},getApiKeyStats:async a=>{const e=await o(),t=a?"/admin/analytics/api-keys?keyId=".concat(a):"/admin/analytics/api-keys";return(await c.get(t,{headers:e})).data},getUsers:async()=>{const a=await o();return(await c.get("/admin/users",{headers:a})).data},getUserById:async a=>{const e=await o();return(await c.get("/admin/users/".concat(a),{headers:e})).data},updateUserRole:async(a,e)=>{const t=await o();return(await c.put("/admin/users/".concat(a,"/role"),{role:e},{headers:t})).data},updateUserStatus:async(a,e)=>{const t=await o();return(await c.put("/admin/users/".concat(a,"/status"),{disabled:e},{headers:t})).data},deleteUser:async a=>{const e=await o();return(await c.delete("/admin/users/".concat(a),{headers:e})).data}}},9521:(a,e,t)=>{t.d(e,{A:()=>s});const s=(0,t(1639).A)("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])}}]);
//# sourceMappingURL=604.373cfd0c.chunk.js.map