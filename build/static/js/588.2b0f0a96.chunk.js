/*! For license information please see 588.2b0f0a96.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[588],{9333:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},9855:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},30588:(e,s,a)=>{a.d(s,{hT:()=>S,bq:()=>I});var t=a(65043),l=a(81228),i=a(9333),c=a(19829),r=a(19340),n=a(64830),o=a(48186),d=a(14918),m=a(31837),x=a(9855),h=a(7104),u=a(99766),j=a(2340),p=a(77024),y=a(19273),w=a(16347),g=a(51149),N=a(13390),v=a(36210),f=a(36360),k=a(50516),b=a(15844),D=a(70579);const A=(0,t.memo)(function(e){let{media:s,size:a="default",className:t,showLabel:i=!1}=e;const{user:c}=(0,g.A)(),{startDownload:r,cancelDownload:n,removeDownload:o,retryDownload:d,getDownloadInfo:m}=(0,w.default)(),x=(0,w.default)(e=>e.downloads[null===s||void 0===s?void 0:s.id]);if(!c||!s)return null;const j=null===x||void 0===x?void 0:x.status,p=(null===x||void 0===x?void 0:x.progress)||0,y={sm:"w-4 h-4",default:"w-5 h-5",lg:"w-6 h-6"};return(0,D.jsx)(b.Bc,{delayDuration:300,children:(0,D.jsxs)(b.m_,{children:[(0,D.jsx)(b.k$,{asChild:!0,children:(0,D.jsxs)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async e=>{e.stopPropagation(),e.preventDefault(),j&&j!==w.DownloadStatus.FAILED?j===w.DownloadStatus.DOWNLOADING?n(s.id):w.DownloadStatus.COMPLETED:await r(s)},onContextMenu:e=>{e.preventDefault(),e.stopPropagation(),j===w.DownloadStatus.COMPLETED&&o(s.id)},className:(0,u.cn)("relative rounded-full flex items-center justify-center transition-colors",{sm:"w-8 h-8",default:"w-10 h-10",lg:"w-12 h-12"}[a],(()=>{switch(j){case w.DownloadStatus.COMPLETED:return"bg-green-500/20 text-green-500 hover:bg-green-500/30";case w.DownloadStatus.DOWNLOADING:return"bg-primary/20 text-primary";case w.DownloadStatus.FAILED:return"bg-red-500/20 text-red-500 hover:bg-red-500/30";default:return"bg-white/10 text-white hover:bg-white/20"}})(),t),children:[j===w.DownloadStatus.DOWNLOADING&&(0,D.jsxs)("svg",{className:"absolute inset-0 -rotate-90",viewBox:"0 0 36 36",children:[(0,D.jsx)("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"opacity-20"}),(0,D.jsx)("circle",{cx:"18",cy:"18",r:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"".concat(p," 100"),strokeLinecap:"round",className:"transition-all duration-300"})]}),(0,D.jsx)("span",{className:"relative z-10",children:(()=>{switch(j){case w.DownloadStatus.COMPLETED:return(0,D.jsx)(v.A,{className:y[a]});case w.DownloadStatus.DOWNLOADING:return(0,D.jsx)(f.A,{className:(0,u.cn)(y[a],"animate-spin")});case w.DownloadStatus.FAILED:return(0,D.jsx)(k.A,{className:y[a]});default:return(0,D.jsx)(h.A,{className:y[a]})}})()})]})}),(0,D.jsx)(b.ZI,{side:"top",children:(0,D.jsx)("p",{children:(()=>{switch(j){case w.DownloadStatus.COMPLETED:return"Downloaded (Right-click to remove)";case w.DownloadStatus.DOWNLOADING:return"Downloading ".concat(p,"% (Click to cancel)");case w.DownloadStatus.FAILED:return"Download failed (Click to retry)";default:return"Download for offline"}})()})})]})})});var P=a(17484);function C(e){let{media:s,queue:a=[],index:t=0,size:v="medium"}=e;const{currentTrack:f,isPlaying:k,playTrack:b,togglePlay:C}=(0,j.A)(),{isFavorite:E,toggleFavorite:L}=(0,p.A)(),{openModal:M}=(0,y.A)(),{user:O}=(0,g.A)(),{startDownload:S,removeDownload:I,isDownloaded:T}=(0,w.default)(),H=(null===f||void 0===f?void 0:f.id)===s.id,z=E(s.id),F="video"===s.type,_=T(s.id),q=e=>{e.stopPropagation(),H?C():b(s,a.length>0?a:[s])};return(0,D.jsxs)(l.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{H?C():b(s,a.length>0?a:[s])},className:(0,u.cn)("media-card group cursor-pointer",{small:"w-36",medium:"w-44",large:"w-52"}[v]),children:[(0,D.jsxs)("div",{className:"media-card-image",children:[(0,D.jsx)("div",{className:(0,u.cn)("w-full h-full",!s.thumbnail&&"bg-gradient-to-br ".concat((0,u.O3)(s.id))),children:s.thumbnail?(0,D.jsx)("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover"}):(0,D.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:F?(0,D.jsx)(i.A,{className:"w-12 h-12 text-white/50"}):(0,D.jsx)(c.A,{className:"w-12 h-12 text-white/50"})})}),(0,D.jsx)("div",{className:"play-button-overlay",children:(0,D.jsx)(l.P.div,{initial:{scale:0},whileHover:{scale:1.1},animate:{scale:1},className:"relative",children:(0,D.jsx)(N.$,{variant:"spotify",size:"icon",className:(0,u.cn)("h-12 w-12 rounded-full shadow-xl",H&&k&&"animate-pulse-glow"),onClick:q,children:H&&k?(0,D.jsx)(r.A,{className:"h-6 w-6"}):(0,D.jsx)(n.A,{className:"h-6 w-6 ml-0.5"})})})}),(0,D.jsx)("div",{className:"absolute top-2 left-2",children:(0,D.jsx)("span",{className:(0,u.cn)("px-2 py-0.5 rounded text-xs font-medium",F?"bg-blue-500/80 text-white":"bg-green-500/80 text-white"),children:F?"VIDEO":"AUDIO"})}),O&&(0,D.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,D.jsx)(A,{media:s,size:"sm"})}),H&&k&&(0,D.jsxs)("div",{className:"absolute bottom-2 right-2 flex items-end gap-0.5",children:[(0,D.jsx)("div",{className:"audio-bar",style:{animationDelay:"0s"}}),(0,D.jsx)("div",{className:"audio-bar",style:{animationDelay:"0.1s"}}),(0,D.jsx)("div",{className:"audio-bar",style:{animationDelay:"0.2s"}}),(0,D.jsx)("div",{className:"audio-bar",style:{animationDelay:"0.3s"}})]})]}),(0,D.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,D.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,D.jsx)("h3",{className:(0,u.cn)("font-semibold text-sm truncate",H&&"text-primary"),children:s.title}),(0,D.jsx)("p",{className:"text-xs text-muted-foreground truncate mt-1",children:s.subtitle||"Unknown artist"})]}),(0,D.jsxs)(P.rI,{children:[(0,D.jsx)(P.ty,{asChild:!0,children:(0,D.jsx)(N.$,{variant:"ghost",size:"iconSm",className:"opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:e=>e.stopPropagation(),children:(0,D.jsx)(o.A,{className:"h-4 w-4"})})}),(0,D.jsxs)(P.SQ,{align:"end",children:[(0,D.jsxs)(P._2,{onClick:e=>{e.stopPropagation(),L(s)},children:[(0,D.jsx)(d.A,{className:(0,u.cn)("mr-2 h-4 w-4",z&&"fill-primary text-primary")}),z?"Remove from Liked":"Add to Liked"]}),(0,D.jsxs)(P._2,{onClick:e=>{e.stopPropagation(),M("addToPlaylist",s)},children:[(0,D.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Add to Playlist"]}),O&&(0,D.jsx)(P._2,{onClick:e=>{e.stopPropagation(),_?I(s.id):S(s)},children:_?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Remove Download"]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Download"]})}),(0,D.jsx)(P.mB,{}),(0,D.jsxs)(P._2,{onClick:e=>{e.stopPropagation(),q(e)},children:[(0,D.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Play Now"]})]})]})]})]})}var E=a(84259),L=a(18717);function M(e){let{media:s,queue:a=[],index:t=0,showIndex:r=!1,showDragHandle:x=!1,showDate:h=!1}=e;const{currentTrack:j,isPlaying:p,playTrack:y,togglePlay:w}=(0,L.ut)(),{isFavorite:g,toggleFavorite:v}=(0,L.CA)(),{openModal:f}=(0,L.j_)(),k=(null===j||void 0===j?void 0:j.id)===s.id,b=g(s.id),A="video"===s.type,C=()=>{k?w():y(s,a.length>0?a:[s])};return(0,D.jsxs)(l.P.div,{whileHover:{backgroundColor:"rgba(255,255,255,0.05)"},className:(0,u.cn)("group flex items-center gap-4 px-4 py-2 rounded-md cursor-pointer transition-colors",k&&"bg-white/5"),onClick:C,children:[x&&(0,D.jsx)("div",{className:"opacity-0 group-hover:opacity-100 cursor-grab",children:(0,D.jsx)(E.A,{className:"h-4 w-4 text-muted-foreground"})}),(0,D.jsx)("div",{className:"w-8 text-center shrink-0",children:k&&p?(0,D.jsxs)("div",{className:"flex items-end justify-center gap-0.5 h-4",children:[(0,D.jsx)("div",{className:"audio-bar",style:{animationDelay:"0s"}}),(0,D.jsx)("div",{className:"audio-bar",style:{animationDelay:"0.1s"}}),(0,D.jsx)("div",{className:"audio-bar",style:{animationDelay:"0.2s"}})]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("span",{className:"group-hover:hidden text-muted-foreground text-sm",children:r?t+1:null}),(0,D.jsx)(n.A,{className:"h-4 w-4 hidden group-hover:block mx-auto"})]})}),(0,D.jsx)("div",{className:(0,u.cn)("w-10 h-10 rounded shrink-0 overflow-hidden",!s.thumbnail&&"bg-gradient-to-br ".concat((0,u.O3)(s.id))),children:s.thumbnail?(0,D.jsx)("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover"}):(0,D.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:A?(0,D.jsx)(i.A,{className:"w-4 h-4 text-white/50"}):(0,D.jsx)(c.A,{className:"w-4 h-4 text-white/50"})})}),(0,D.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,D.jsx)("p",{className:(0,u.cn)("font-medium text-sm truncate",k&&"text-primary"),children:s.title}),(0,D.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:s.subtitle||"Unknown artist"})]}),(0,D.jsx)("span",{className:(0,u.cn)("px-2 py-0.5 rounded text-xs font-medium hidden sm:block",A?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"),children:A?"VIDEO":"AUDIO"}),h&&s.createdAt&&(0,D.jsx)("span",{className:"text-xs text-muted-foreground hidden md:block w-24",children:(0,u.fw)(s.createdAt)}),(0,D.jsx)(N.$,{variant:"ghost",size:"iconSm",className:(0,u.cn)("opacity-0 group-hover:opacity-100 transition-opacity",b&&"opacity-100"),onClick:e=>{e.stopPropagation(),v(s)},children:(0,D.jsx)(d.A,{className:(0,u.cn)("h-4 w-4",b&&"fill-primary text-primary")})}),(0,D.jsx)("span",{className:"text-xs text-muted-foreground w-12 text-right hidden sm:block",children:s.duration?(0,u.a3)(s.duration):"--:--"}),(0,D.jsxs)(P.rI,{children:[(0,D.jsx)(P.ty,{asChild:!0,children:(0,D.jsx)(N.$,{variant:"ghost",size:"iconSm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>e.stopPropagation(),children:(0,D.jsx)(o.A,{className:"h-4 w-4"})})}),(0,D.jsxs)(P.SQ,{align:"end",children:[(0,D.jsxs)(P._2,{onClick:e=>{e.stopPropagation(),v(s)},children:[(0,D.jsx)(d.A,{className:(0,u.cn)("mr-2 h-4 w-4",b&&"fill-primary text-primary")}),b?"Remove from Liked":"Add to Liked"]}),(0,D.jsxs)(P._2,{onClick:e=>{e.stopPropagation(),f("addToPlaylist",s)},children:[(0,D.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Add to Playlist"]}),(0,D.jsx)(P.mB,{}),(0,D.jsxs)(P._2,{onClick:C,children:[(0,D.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Play Now"]})]})]})]})}var O=a(31555);function S(e){let{media:s=[],isLoading:a=!1,title:t,showAll:i,onShowAll:c,emptyMessage:r="No media found"}=e;return a?(0,D.jsxs)("div",{className:"space-y-4",children:[t&&(0,D.jsx)(O.E,{className:"h-8 w-48"}),(0,D.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:Array.from({length:6}).map((e,s)=>(0,D.jsxs)("div",{className:"space-y-3",children:[(0,D.jsx)(O.E,{className:"aspect-square rounded-lg"}),(0,D.jsx)(O.E,{className:"h-4 w-full"}),(0,D.jsx)(O.E,{className:"h-3 w-3/4"})]},s))})]}):0===s.length?(0,D.jsxs)("div",{className:"space-y-4",children:[t&&(0,D.jsx)("h2",{className:"text-2xl font-bold",children:t}),"string"===typeof r?(0,D.jsx)("div",{className:"text-center py-12",children:(0,D.jsx)("p",{className:"text-muted-foreground",children:r})}):r]}):(0,D.jsxs)("div",{className:"space-y-4",children:[t&&(0,D.jsxs)("div",{className:"flex items-center justify-between",children:[(0,D.jsx)("h2",{className:"text-2xl font-bold",children:t}),i&&(0,D.jsx)("button",{onClick:c,className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Show all"})]}),(0,D.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:s.map((e,a)=>(0,D.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*a},children:(0,D.jsx)(C,{media:e,queue:s,index:a})},e.id))})]})}function I(e){let{media:s=[],isLoading:a=!1,title:t,showIndex:i=!0,showDragHandle:c=!1,showDate:r=!1,emptyMessage:n="No media found"}=e;return a?(0,D.jsxs)("div",{className:"space-y-4",children:[t&&(0,D.jsx)(O.E,{className:"h-8 w-48"}),(0,D.jsx)("div",{className:"space-y-2",children:Array.from({length:5}).map((e,s)=>(0,D.jsxs)("div",{className:"flex items-center gap-4 px-4 py-2",children:[(0,D.jsx)(O.E,{className:"w-8 h-4"}),(0,D.jsx)(O.E,{className:"w-10 h-10 rounded"}),(0,D.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,D.jsx)(O.E,{className:"h-4 w-48"}),(0,D.jsx)(O.E,{className:"h-3 w-32"})]}),(0,D.jsx)(O.E,{className:"w-12 h-4"})]},s))})]}):0===s.length?(0,D.jsx)("div",{className:"text-center py-12",children:(0,D.jsx)("p",{className:"text-muted-foreground",children:n})}):(0,D.jsxs)("div",{className:"space-y-4",children:[t&&(0,D.jsx)("h2",{className:"text-2xl font-bold",children:t}),(0,D.jsxs)("div",{className:"flex items-center gap-4 px-4 py-2 border-b border-border text-xs text-muted-foreground uppercase tracking-wider",children:[c&&(0,D.jsx)("div",{className:"w-4"}),(0,D.jsx)("div",{className:"w-8 text-center",children:"#"}),(0,D.jsx)("div",{className:"w-10"}),(0,D.jsx)("div",{className:"flex-1",children:"Title"}),(0,D.jsx)("div",{className:"w-20 hidden sm:block",children:"Type"}),r&&(0,D.jsx)("div",{className:"w-24 hidden md:block",children:"Date"}),(0,D.jsx)("div",{className:"w-8"}),(0,D.jsx)("div",{className:"w-12 text-right hidden sm:block",children:"Duration"}),(0,D.jsx)("div",{className:"w-8"})]}),(0,D.jsx)("div",{className:"space-y-1",children:s.map((e,a)=>(0,D.jsx)(l.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2,delay:.03*a},children:(0,D.jsx)(M,{media:e,queue:s,index:a,showIndex:i,showDragHandle:c,showDate:r})},e.id))})]})}},31555:(e,s,a)=>{a.d(s,{E:()=>n});var t=a(27051),l=a(53986),i=(a(65043),a(99766)),c=a(70579);const r=["className"];function n(e){let{className:s}=e,a=(0,l.A)(e,r);return(0,c.jsx)("div",(0,t.A)({className:(0,i.cn)("animate-pulse rounded-md bg-muted",s)},a))}},31837:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]])},48186:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},50516:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},84259:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(21639).A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])}}]);
//# sourceMappingURL=588.2b0f0a96.chunk.js.map