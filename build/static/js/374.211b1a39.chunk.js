/*! For license information please see 374.211b1a39.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[374],{14374:(e,s,t)=>{t.r(s),t.d(s,{default:()=>W});var a=t(65043),l=t(35475),r=t(81228),i=t(64830),n=t(14459),c=t(21639);const d=(0,c.A)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var o=t(7365),x=t(9493),m=t(19742),p=t(75088),h=t(19829);const u=(0,c.A)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]),j=(0,c.A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),y=(0,c.A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var g=t(29521),f=t(44919),N=t(34041),v=t(3550),b=t(18717),w=t(64168),k=t(91140),A=t(13390),C=t(63972),T=t(99766),M=t(70579);const S=e=>{if(!e||e<60)return"< 1 min";const s=Math.floor(e/3600),t=Math.floor(e%3600/60);return s>0?"".concat(s,"h ").concat(t,"m"):"".concat(t,"m")},B=e=>e>=1e3?(e/1e3).toFixed(1)+"k":e.toString(),Z=e=>{let{icon:s,label:t,value:a,subtext:l,gradient:i,delay:n=0}=e;return(0,M.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n},children:(0,M.jsxs)(k.Zp,{className:"relative overflow-hidden",children:[(0,M.jsx)("div",{className:(0,T.cn)("absolute inset-0 opacity-10",i)}),(0,M.jsx)(k.Wu,{className:"pt-6 relative",children:(0,M.jsxs)("div",{className:"flex items-start justify-between",children:[(0,M.jsxs)("div",{children:[(0,M.jsx)("p",{className:"text-sm text-muted-foreground",children:t}),(0,M.jsx)("p",{className:"text-3xl font-bold mt-1",children:a}),l&&(0,M.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:l})]}),(0,M.jsx)("div",{className:(0,T.cn)("p-3 rounded-full",i),children:(0,M.jsx)(s,{className:"h-5 w-5 text-white"})})]})})]})})},R=e=>{let{track:s,rank:t,onPlay:a}=e;return(0,M.jsxs)(r.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"flex items-center gap-4 p-3 rounded-lg hover:bg-accent/50 transition-colors group cursor-pointer",onClick:()=>a(s),children:[(0,M.jsx)("span",{className:"text-lg font-bold text-muted-foreground w-6",children:t}),(0,M.jsxs)("div",{className:"relative",children:[(0,M.jsx)("img",{src:s.thumbnail||"/placeholder-album.jpg",alt:s.title,className:"w-12 h-12 rounded object-cover"}),(0,M.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded",children:(0,M.jsx)(i.A,{className:"h-5 w-5 text-white",fill:"white"})})]}),(0,M.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,M.jsx)("p",{className:"font-medium truncate",children:s.title}),(0,M.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:s.artist})]}),(0,M.jsxs)("div",{className:"text-right",children:[(0,M.jsx)("p",{className:"font-semibold text-primary",children:s.playCount}),(0,M.jsx)("p",{className:"text-xs text-muted-foreground",children:"plays"})]})]})},H=e=>{let{artist:s,rank:t}=e;return(0,M.jsxs)(r.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"flex items-center gap-4 p-3 rounded-lg hover:bg-accent/50 transition-colors",children:[(0,M.jsx)("span",{className:"text-lg font-bold text-muted-foreground w-6",children:t}),(0,M.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center",children:(0,M.jsx)(n.A,{className:"h-6 w-6 text-white"})}),(0,M.jsx)("div",{className:"flex-1 min-w-0",children:(0,M.jsx)("p",{className:"font-medium truncate",children:s.name})}),(0,M.jsxs)("div",{className:"text-right",children:[(0,M.jsx)("p",{className:"font-semibold text-primary",children:s.playCount}),(0,M.jsx)("p",{className:"text-xs text-muted-foreground",children:"plays"})]})]})},P=e=>{let{data:s}=e;const t=Math.max(...s.map(e=>e.minutes),1);return(0,M.jsx)("div",{className:"flex items-end justify-between gap-2 h-32 px-2",children:s.map((e,s)=>(0,M.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,M.jsx)(r.P.div,{initial:{height:0},animate:{height:"".concat(e.minutes/t*100,"%")},transition:{delay:.05*s,duration:.5},className:"w-full bg-gradient-to-t from-primary to-primary/60 rounded-t min-h-[4px]",style:{maxHeight:"100%"}}),(0,M.jsx)("span",{className:"text-xs text-muted-foreground",children:e.displayDate})]},e.date))})};function W(){const{user:e,isAuthenticated:s,isAdminUser:t}=(0,b.nc)(),{playTrack:c}=(0,b.ut)(),{getStatsSummary:W,getTopTracks:z,getTopArtists:q,getTopGenres:L,getListeningTimeForPeriod:U,clearStats:V}=(0,w.A)(),F=(0,a.useMemo)(()=>W(),[W]),$=(0,a.useMemo)(()=>z(5),[z]),D=(0,a.useMemo)(()=>q(5),[q]),E=(0,a.useMemo)(()=>L(5),[L]),Y=(0,a.useMemo)(()=>U(7),[U]),_=e=>{e&&e.id&&c({id:e.id,title:e.title,artist:e.artist,thumbnail:e.thumbnail,duration:e.duration,type:e.type})};return s?(0,M.jsxs)("div",{className:"min-h-full px-6 py-4 pb-32",children:[(0,M.jsxs)(r.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative mb-8",children:[(0,M.jsx)("div",{className:"absolute inset-0 h-48 bg-gradient-to-br from-primary/20 via-purple-600/20 to-pink-600/20 rounded-xl -z-10"}),(0,M.jsx)("div",{className:"pt-8 px-6",children:(0,M.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-end gap-6",children:[(0,M.jsxs)(C.eu,{className:"h-28 w-28 border-4 border-background shadow-xl",children:[(0,M.jsx)(C.BK,{src:null===e||void 0===e?void 0:e.photoURL,alt:null===e||void 0===e?void 0:e.displayName}),(0,M.jsx)(C.q5,{className:"text-3xl bg-gradient-to-br from-primary to-purple-600 text-white",children:(G=(null===e||void 0===e?void 0:e.displayName)||(null===e||void 0===e?void 0:e.email),G?G.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U")})]}),(0,M.jsxs)("div",{className:"flex-1 text-center sm:text-left pb-4",children:[(0,M.jsx)("h1",{className:"text-3xl font-bold",children:(null===e||void 0===e?void 0:e.displayName)||"Music Lover"}),(0,M.jsx)("p",{className:"text-muted-foreground",children:null===e||void 0===e?void 0:e.email}),(0,M.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-2 justify-center sm:justify-start",children:[t&&(0,M.jsx)("span",{className:"px-2 py-1 bg-primary/20 text-primary text-xs rounded-full font-medium",children:"Admin"}),(0,M.jsxs)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded-full font-medium flex items-center gap-1",children:[(0,M.jsx)(d,{className:"h-3 w-3"}),F.currentStreak," day streak"]})]})]}),(0,M.jsxs)("div",{className:"flex gap-2 pb-4",children:[(0,M.jsx)(A.$,{variant:"outline",size:"sm",asChild:!0,children:(0,M.jsxs)(l.N_,{to:"/settings",children:[(0,M.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Settings"]})}),(0,M.jsxs)(A.$,{variant:"outline",size:"sm",onClick:async()=>{try{await(0,N.CI)(v.j2)}catch(e){console.error("Error signing out:",e)}},children:[(0,M.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})]}),(0,M.jsxs)("section",{className:"mb-8",children:[(0,M.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[(0,M.jsx)(m.A,{className:"h-5 w-5 text-primary"}),"Your Stats"]}),(0,M.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,M.jsx)(Z,{icon:p.A,label:"Total Listening",value:F.totalHours>0?"".concat(F.totalHours,"h"):"".concat(F.totalMinutes,"m"),subtext:"".concat(S(F.totalListeningTime)," of music"),gradient:"bg-gradient-to-br from-blue-500 to-cyan-500",delay:0}),(0,M.jsx)(Z,{icon:i.A,label:"Total Plays",value:B(F.totalPlays),subtext:"tracks played",gradient:"bg-gradient-to-br from-green-500 to-emerald-500",delay:.1}),(0,M.jsx)(Z,{icon:h.A,label:"Unique Tracks",value:B(F.uniqueTracks),subtext:"different songs",gradient:"bg-gradient-to-br from-purple-500 to-pink-500",delay:.2}),(0,M.jsx)(Z,{icon:u,label:"Artists",value:B(F.uniqueArtists),subtext:"unique artists",gradient:"bg-gradient-to-br from-orange-500 to-red-500",delay:.3})]})]}),(0,M.jsx)("section",{className:"mb-8",children:(0,M.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,M.jsxs)(k.Zp,{children:[(0,M.jsxs)(k.aR,{children:[(0,M.jsxs)(k.ZB,{className:"flex items-center gap-2",children:[(0,M.jsx)(d,{className:"h-5 w-5 text-orange-500"}),"Listening Streaks"]}),(0,M.jsx)(k.BT,{children:"Keep the music playing!"})]}),(0,M.jsx)(k.Wu,{children:(0,M.jsxs)("div",{className:"flex justify-around text-center",children:[(0,M.jsxs)("div",{children:[(0,M.jsx)("p",{className:"text-4xl font-bold text-orange-500",children:F.currentStreak}),(0,M.jsx)("p",{className:"text-sm text-muted-foreground",children:"Current Streak"})]}),(0,M.jsx)("div",{className:"w-px bg-border"}),(0,M.jsxs)("div",{children:[(0,M.jsx)("p",{className:"text-4xl font-bold text-yellow-500",children:F.longestStreak}),(0,M.jsx)("p",{className:"text-sm text-muted-foreground",children:"Longest Streak"})]})]})})]}),(0,M.jsxs)(k.Zp,{children:[(0,M.jsxs)(k.aR,{children:[(0,M.jsxs)(k.ZB,{className:"flex items-center gap-2",children:[(0,M.jsx)(j,{className:"h-5 w-5 text-primary"}),"This Week"]}),(0,M.jsx)(k.BT,{children:"Your listening activity"})]}),(0,M.jsx)(k.Wu,{children:(0,M.jsx)(P,{data:Y})})]})]})}),(0,M.jsx)("section",{className:"mb-8",children:(0,M.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,M.jsxs)(k.Zp,{children:[(0,M.jsxs)(k.aR,{children:[(0,M.jsxs)(k.ZB,{className:"flex items-center gap-2",children:[(0,M.jsx)(y,{className:"h-5 w-5 text-yellow-500"}),"Top Tracks"]}),(0,M.jsx)(k.BT,{children:"Your most played songs"})]}),(0,M.jsx)(k.Wu,{children:$.length>0?(0,M.jsx)("div",{className:"space-y-1",children:$.map((e,s)=>(0,M.jsx)(R,{track:e,rank:s+1,onPlay:_},e.id))}):(0,M.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,M.jsx)(g.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,M.jsx)("p",{children:"No plays yet"}),(0,M.jsx)("p",{className:"text-sm",children:"Start listening to see your top tracks"})]})})]}),(0,M.jsxs)(k.Zp,{children:[(0,M.jsxs)(k.aR,{children:[(0,M.jsxs)(k.ZB,{className:"flex items-center gap-2",children:[(0,M.jsx)(f.A,{className:"h-5 w-5 text-green-500"}),"Top Artists"]}),(0,M.jsx)(k.BT,{children:"Artists you love the most"})]}),(0,M.jsx)(k.Wu,{children:D.length>0?(0,M.jsx)("div",{className:"space-y-1",children:D.map((e,s)=>(0,M.jsx)(H,{artist:e,rank:s+1},e.name))}):(0,M.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,M.jsx)(n.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,M.jsx)("p",{children:"No artists yet"}),(0,M.jsx)("p",{className:"text-sm",children:"Explore and listen to discover artists"})]})})]})]})}),E.length>0&&(0,M.jsx)("section",{className:"mb-8",children:(0,M.jsxs)(k.Zp,{children:[(0,M.jsxs)(k.aR,{children:[(0,M.jsxs)(k.ZB,{className:"flex items-center gap-2",children:[(0,M.jsx)(h.A,{className:"h-5 w-5 text-purple-500"}),"Favorite Genres"]}),(0,M.jsx)(k.BT,{children:"Your musical taste"})]}),(0,M.jsx)(k.Wu,{children:(0,M.jsx)("div",{className:"flex flex-wrap gap-2",children:E.map((e,s)=>(0,M.jsxs)(r.P.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*s},className:(0,T.cn)("px-4 py-2 rounded-full text-sm font-medium",0===s&&"bg-gradient-to-r from-primary to-purple-600 text-white",1===s&&"bg-purple-500/20 text-purple-400",2===s&&"bg-pink-500/20 text-pink-400",s>2&&"bg-accent text-accent-foreground"),children:[e.name,(0,M.jsxs)("span",{className:"ml-2 opacity-75",children:["(",e.playCount,")"]})]},e.name))})})]})}),(0,M.jsx)("section",{children:(0,M.jsxs)(k.Zp,{children:[(0,M.jsxs)(k.aR,{children:[(0,M.jsx)(k.ZB,{children:"Data Management"}),(0,M.jsx)(k.BT,{children:"Manage your listening data"})]}),(0,M.jsx)(k.Wu,{children:(0,M.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,M.jsx)(A.$,{variant:"outline",asChild:!0,children:(0,M.jsxs)(l.N_,{to:"/history",children:[(0,M.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"View History"]})}),(0,M.jsx)(A.$,{variant:"destructive",onClick:()=>{window.confirm("Are you sure you want to clear all listening statistics? This cannot be undone.")&&V()},children:"Clear All Stats"})]})})]})})]}):(0,M.jsx)("div",{className:"min-h-full px-6 py-4",children:(0,M.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[(0,M.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-purple-600 flex items-center justify-center mb-6",children:(0,M.jsx)(n.A,{className:"h-10 w-10 text-white"})}),(0,M.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Welcome to MediaCore"}),(0,M.jsx)("p",{className:"text-muted-foreground mb-8 max-w-md",children:"Sign in to track your listening history, view your stats, and get personalized recommendations."}),(0,M.jsx)(A.$,{size:"lg",onClick:()=>window.dispatchEvent(new Event("show-login-modal")),className:"bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90",children:"Sign In"})]})});var G}},19742:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(21639).A)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},29521:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(21639).A)("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},44919:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(21639).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},91140:(e,s,t)=>{t.d(s,{BT:()=>y,Wu:()=>g,ZB:()=>j,Zp:()=>h,aR:()=>u});var a=t(27051),l=t(53986),r=t(65043),i=t(99766),n=t(70579);const c=["className"],d=["className"],o=["className","children"],x=["className"],m=["className"],p=["className"],h=r.forwardRef((e,s)=>{let{className:t}=e,r=(0,l.A)(e,c);return(0,n.jsx)("div",(0,a.A)({ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",t)},r))});h.displayName="Card";const u=r.forwardRef((e,s)=>{let{className:t}=e,r=(0,l.A)(e,d);return(0,n.jsx)("div",(0,a.A)({ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t)},r))});u.displayName="CardHeader";const j=r.forwardRef((e,s)=>{let{className:t,children:r}=e,c=(0,l.A)(e,o);return(0,n.jsx)("h3",(0,a.A)((0,a.A)({ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t)},c),{},{children:r}))});j.displayName="CardTitle";const y=r.forwardRef((e,s)=>{let{className:t}=e,r=(0,l.A)(e,x);return(0,n.jsx)("p",(0,a.A)({ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t)},r))});y.displayName="CardDescription";const g=r.forwardRef((e,s)=>{let{className:t}=e,r=(0,l.A)(e,m);return(0,n.jsx)("div",(0,a.A)({ref:s,className:(0,i.cn)("p-6 pt-0",t)},r))});g.displayName="CardContent";r.forwardRef((e,s)=>{let{className:t}=e,r=(0,l.A)(e,p);return(0,n.jsx)("div",(0,a.A)({ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t)},r))}).displayName="CardFooter"}}]);
//# sourceMappingURL=374.211b1a39.chunk.js.map