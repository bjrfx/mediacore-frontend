"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[322],{1140:(e,a,t)=>{t.d(a,{BT:()=>f,Wu:()=>y,ZB:()=>g,Zp:()=>p,aR:()=>x});var s=t(7051),r=t(3986),i=t(5043),n=t(9766),d=t(579);const l=["className"],c=["className"],o=["className","children"],u=["className"],m=["className"],h=["className"],p=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,l);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",t)},i))});p.displayName="Card";const x=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,c);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t)},i))});x.displayName="CardHeader";const g=i.forwardRef((e,a)=>{let{className:t,children:i}=e,l=(0,r.A)(e,o);return(0,d.jsx)("h3",(0,s.A)((0,s.A)({ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t)},l),{},{children:i}))});g.displayName="CardTitle";const f=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,u);return(0,d.jsx)("p",(0,s.A)({ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t)},i))});f.displayName="CardDescription";const y=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,m);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("p-6 pt-0",t)},i))});y.displayName="CardContent";i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,h);return(0,d.jsx)("div",(0,s.A)({ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t)},i))}).displayName="CardFooter"},1555:(e,a,t)=>{t.d(a,{E:()=>l});var s=t(7051),r=t(3986),i=(t(5043),t(9766)),n=t(579);const d=["className"];function l(e){let{className:a}=e,t=(0,r.A)(e,d);return(0,n.jsx)("div",(0,s.A)({className:(0,i.cn)("animate-pulse rounded-md bg-muted",a)},t))}},2264:(e,a,t)=>{t.d(a,{p:()=>c});var s=t(7051),r=t(3986),i=t(5043),n=t(9766),d=t(579);const l=["className","type"],c=i.forwardRef((e,a)=>{let{className:t,type:i}=e,c=(0,r.A)(e,l);return(0,d.jsx)("input",(0,s.A)({type:i,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",t),ref:a},c))});c.displayName="Input"},3416:(e,a,t)=>{t.d(a,{T:()=>c});var s=t(7051),r=t(3986),i=t(5043),n=t(9766),d=t(579);const l=["className"],c=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,l);return(0,d.jsx)("textarea",(0,s.A)({className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a},i))});c.displayName="Textarea"},4505:(e,a,t)=>{t.d(a,{O0:()=>o,ic:()=>u});var s=t(7051),r=t(9722),i=t(3550);const n="https://test.mediacoreapi.masakalirestrobar.ca",d="mc_3f177f8a673446ba8ee152728d877b00";console.log("[API] Base URL:",n);const l=r.A.create({baseURL:n,timeout:3e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{var a;return console.log("[API] ".concat(null===(a=e.method)||void 0===a?void 0:a.toUpperCase()," ").concat(e.baseURL).concat(e.url)),e},e=>(console.error("[API Request Error]",e),Promise.reject(e))),l.interceptors.response.use(e=>(console.log("[API] Response:",e.status),e),e=>{var a,t,s;return console.error("[API Error]",{status:null===(a=e.response)||void 0===a?void 0:a.status,data:null===(t=e.response)||void 0===t?void 0:t.data,message:e.message,url:null===(s=e.config)||void 0===s?void 0:s.url}),Promise.reject(e)});const c=async()=>{const e=await(0,i.p9)();return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},o={healthCheck:async()=>(await l.get("/health")).data,getMedia:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:a,limit:t=50,orderBy:s="createdAt",order:r="desc"}=e,i=new URLSearchParams({limit:String(t),orderBy:s,order:r});a&&i.append("type",a);return(await l.get("/api/feed?".concat(i),{headers:{"x-api-key":d}})).data},getMediaById:async e=>(await l.get("/api/media/".concat(e),{headers:{"x-api-key":d}})).data,getSettings:async()=>(await l.get("/api/settings",{headers:{"x-api-key":d}})).data,getArtists:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{limit:a=50,orderBy:t="createdAt",order:s="desc"}=e,r=new URLSearchParams({limit:String(a),orderBy:t,order:s});return(await l.get("/api/artists?".concat(r),{headers:{"x-api-key":d}})).data},getArtistById:async e=>(await l.get("/api/artists/".concat(e),{headers:{"x-api-key":d}})).data,getArtistAlbums:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{orderBy:t="releaseDate",order:s="desc"}=a,r=new URLSearchParams({orderBy:t,order:s});return(await l.get("/api/artists/".concat(e,"/albums?").concat(r),{headers:{"x-api-key":d}})).data},getArtistMedia:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:t,orderBy:s="createdAt",order:r="desc"}=a,i=new URLSearchParams({orderBy:s,order:r});t&&i.append("type",t);return(await l.get("/api/artists/".concat(e,"/media?").concat(i),{headers:{"x-api-key":d}})).data},getAlbums:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{artistId:a,limit:t=50,orderBy:s="releaseDate",order:r="desc"}=e,i=new URLSearchParams({limit:String(t),orderBy:s,order:r});a&&i.append("artistId",a);return(await l.get("/api/albums?".concat(i),{headers:{"x-api-key":d}})).data},getAlbumById:async e=>(await l.get("/api/albums/".concat(e),{headers:{"x-api-key":d}})).data,getAlbumMedia:async e=>(await l.get("/api/albums/".concat(e,"/media"),{headers:{"x-api-key":d}})).data},u={uploadMedia:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"video",r=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0;const c=await(0,i.p9)(),o=new FormData;o.append("file",e),o.append("title",a),o.append("subtitle",t),o.append("type",s),n&&o.append("artistId",n),d&&o.append("albumId",d),console.log("[API] Upload:",{fileName:e.name,fileType:e.type,title:a,type:s,artistId:n,albumId:d});return(await l.post("/admin/media",o,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(r&&e.total){const a=Math.round(100*e.loaded/e.total);r(a)}}})).data},updateMedia:async(e,a)=>{const t=await c();return(await l.put("/admin/media/".concat(e),a,{headers:t})).data},deleteMedia:async function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=await c();return(await l.delete("/admin/media/".concat(e,"?deleteFile=").concat(a),{headers:t})).data},createArtist:async e=>{const a=await c();return(await l.post("/admin/artists",e,{headers:a})).data},updateArtist:async(e,a)=>{const t=await c();return(await l.put("/admin/artists/".concat(e),a,{headers:t})).data},deleteArtist:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await c();return(await l.delete("/admin/artists/".concat(e,"?cascade=").concat(a),{headers:t})).data},createAlbum:async e=>{const a=await c();return(await l.post("/admin/albums",e,{headers:a})).data},updateAlbum:async(e,a)=>{const t=await c();return(await l.put("/admin/albums/".concat(e),a,{headers:t})).data},deleteAlbum:async e=>{const a=await c();return(await l.delete("/admin/albums/".concat(e),{headers:a})).data},addMediaToAlbum:async(e,a,t)=>{const s=await c();return(await l.post("/admin/albums/".concat(e,"/media"),{mediaId:a,trackNumber:t},{headers:s})).data},removeMediaFromAlbum:async(e,a)=>{const t=await c();return(await l.delete("/admin/albums/".concat(e,"/media/").concat(a),{headers:t})).data},reorderAlbumTracks:async(e,a)=>{const t=await c();return(await l.put("/admin/albums/".concat(e,"/media/reorder"),{tracks:a},{headers:t})).data},generateApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read_only",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await c();return(await l.post("/admin/generate-key",(0,s.A)({name:e,accessType:a},t),{headers:r})).data},getApiKeys:async()=>{const e=await c();return(await l.get("/admin/api-keys",{headers:e})).data},deleteApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await c();return(await l.delete("/admin/api-keys/".concat(e,"?hardDelete=").concat(a),{headers:t})).data},getSettings:async()=>{const e=await c();return(await l.get("/api/settings",{headers:e})).data},updateSettings:async e=>{const a=await c();return(await l.put("/admin/settings",e,{headers:a})).data},getDashboard:async()=>{const e=await c();return(await l.get("/admin/analytics/dashboard",{headers:e})).data},getAnalyticsSummary:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const a=await c();return(await l.get("/admin/analytics/summary?days=".concat(e),{headers:a})).data},getRealTimeStats:async()=>{const e=await c();return(await l.get("/admin/analytics/realtime",{headers:e})).data},getApiKeyStats:async e=>{const a=await c(),t=e?"/admin/analytics/api-keys?keyId=".concat(e):"/admin/analytics/api-keys";return(await l.get(t,{headers:a})).data},getUsers:async()=>{const e=await c();return(await l.get("/admin/users",{headers:e})).data},getUserById:async e=>{const a=await c();return(await l.get("/admin/users/".concat(e),{headers:a})).data},updateUserRole:async(e,a)=>{const t=await c();return(await l.put("/admin/users/".concat(e,"/role"),{role:a},{headers:t})).data},updateUserStatus:async(e,a)=>{const t=await c();return(await l.put("/admin/users/".concat(e,"/status"),{disabled:a},{headers:t})).data},deleteUser:async e=>{const a=await c();return(await l.delete("/admin/users/".concat(e),{headers:a})).data}}},5949:(e,a,t)=>{t.d(a,{E:()=>o});var s=t(7051),r=t(3986),i=(t(5043),t(917)),n=t(9766),d=t(579);const l=["className","variant"],c=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/20 text-green-500",warning:"border-transparent bg-yellow-500/20 text-yellow-500"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:t}=e,i=(0,r.A)(e,l);return(0,d.jsx)("div",(0,s.A)({className:(0,n.cn)(c({variant:t}),a)},i))}},7322:(e,a,t)=>{t.r(a),t.d(a,{default:()=>D});var s=t(7051),r=t(5043),i=t(6931),n=t(3248),d=t(7097),l=t(5087),c=t(7170),o=t(2284),u=t(8186),m=t(9829),h=t(4830),p=t(9292),x=t(9855),g=t(4105),f=t(4265),y=t(4505),v=t(8717),b=t(1140),j=t(2264),w=t(3390),N=t(5949),A=t(1555),k=t(9690),C=t(5598),S=t(7484),R=t(9766),U=t(9938),B=t(3416),I=t(579);const M=e=>{let{children:a,className:t}=e;return(0,I.jsx)("div",{className:(0,R.cn)("w-full overflow-auto",t),children:(0,I.jsx)("table",{className:"w-full caption-bottom text-sm",children:a})})},P=e=>{let{children:a}=e;return(0,I.jsx)("thead",{children:a})},T=e=>{let{children:a}=e;return(0,I.jsx)("tbody",{children:a})},L=e=>{let{children:a,className:t}=e;return(0,I.jsx)("tr",{className:(0,R.cn)("border-b transition-colors hover:bg-muted/50",t),children:a})},F=e=>{let{children:a,className:t}=e;return(0,I.jsx)("th",{className:(0,R.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground",t),children:a})},E=e=>{let{children:a,className:t}=e;return(0,I.jsx)("td",{className:(0,R.cn)("p-4 align-middle",t),children:a})};function D(){const e=(0,n.jE)(),{addToast:a}=(0,v.j_)(),[t,D]=(0,r.useState)(""),[z,$]=(0,r.useState)("all"),[_,q]=(0,r.useState)("table"),[K,O]=(0,r.useState)(null),[V,X]=(0,r.useState)(!1),[Z,J]=(0,r.useState)(!1),[Q,G]=(0,r.useState)(null),[W,Y]=(0,r.useState)({title:"",subtitle:""}),{data:H,isLoading:ee,error:ae}=(0,i.I)({queryKey:["admin-media"],queryFn:()=>y.O0.getMedia({limit:500})}),te=(0,d.n)({mutationFn:e=>{let{id:a,data:t}=e;return y.ic.updateMedia(a,t)},onSuccess:()=>{e.invalidateQueries(["media"]),X(!1),O(null),a({message:"Media updated successfully",type:"success"})},onError:e=>{a({message:e.message||"Failed to update media",type:"error"})}}),se=(0,d.n)({mutationFn:e=>{let{id:a,deleteFile:t}=e;return y.ic.deleteMedia(a,t)},onSuccess:()=>{e.invalidateQueries(["media"]),J(!1),G(null),a({message:"Media deleted successfully",type:"success"})},onError:e=>{a({message:e.message||"Failed to delete media",type:"error"})}}),re=(null===H||void 0===H?void 0:H.data)||[],ie="all"===z?re:re.filter(e=>e.type===z),ne=t?ie.filter(e=>{var a,s;return(null===(a=e.title)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(s=e.subtitle)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase()))}):ie,de=e=>{O(e),Y({title:e.title,subtitle:e.subtitle||""}),X(!0)},le=e=>{G(e),J(!0)},ce=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Q&&se.mutate({id:Q.id,deleteFile:e})};return(0,I.jsxs)("div",{className:"space-y-6",children:[(0,I.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("h2",{className:"text-2xl font-bold",children:"Media Library"}),(0,I.jsx)("p",{className:"text-muted-foreground",children:"Manage your uploaded media files"})]}),(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[(0,I.jsx)(w.$,{variant:"table"===_?"secondary":"ghost",size:"icon",onClick:()=>q("table"),children:(0,I.jsx)(o.A,{className:"h-4 w-4"})}),(0,I.jsx)(w.$,{variant:"grid"===_?"secondary":"ghost",size:"icon",onClick:()=>q("grid"),children:(0,I.jsx)(g.A,{className:"h-4 w-4"})})]})]}),(0,I.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,I.jsxs)("div",{className:"relative flex-1",children:[(0,I.jsx)(p.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,I.jsx)(j.p,{placeholder:"Search media...",value:t,onChange:e=>D(e.target.value),className:"pl-10"})]}),(0,I.jsx)(k.tU,{value:z,onValueChange:$,children:(0,I.jsxs)(k.j7,{children:[(0,I.jsx)(k.Xi,{value:"all",children:"All"}),(0,I.jsx)(k.Xi,{value:"video",children:"Videos"}),(0,I.jsx)(k.Xi,{value:"audio",children:"Audio"})]})})]}),(0,I.jsxs)("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[(0,I.jsxs)("span",{children:[ne.length," items shown"]}),(0,I.jsx)("span",{children:"\u2022"}),(0,I.jsxs)("span",{children:[re.filter(e=>"video"===e.type).length," videos total"]}),(0,I.jsx)("span",{children:"\u2022"}),(0,I.jsxs)("span",{children:[re.filter(e=>"audio"===e.type).length," audio total"]})]}),ee?(0,I.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,a)=>(0,I.jsx)(A.E,{className:"h-16 w-full"},a))}):ae?(0,I.jsx)("div",{className:"text-center py-12 text-destructive",children:"Failed to load media. Please try again."}):0===ne.length?(0,I.jsxs)("div",{className:"text-center py-12",children:[(0,I.jsx)(c.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,I.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No media found"}),(0,I.jsx)("p",{className:"text-muted-foreground",children:t?"Try a different search term":"Upload your first media file"})]}):"table"===_?(0,I.jsx)(b.Zp,{children:(0,I.jsxs)(M,{children:[(0,I.jsx)(P,{children:(0,I.jsxs)(L,{children:[(0,I.jsx)(F,{children:"Media"}),(0,I.jsx)(F,{children:"Type"}),(0,I.jsx)(F,{className:"hidden md:table-cell",children:"Size"}),(0,I.jsx)(F,{className:"hidden md:table-cell",children:"Date"}),(0,I.jsx)(F,{className:"text-right",children:"Actions"})]})}),(0,I.jsx)(T,{children:ne.map(e=>(0,I.jsxs)(L,{children:[(0,I.jsx)(E,{children:(0,I.jsxs)("div",{className:"flex items-center gap-3",children:[(0,I.jsx)("div",{className:(0,R.cn)("w-10 h-10 rounded shrink-0","bg-gradient-to-br ".concat((0,R.O3)(e.id))),children:e.thumbnail&&(0,I.jsx)("img",{src:e.thumbnail,alt:"",className:"w-full h-full object-cover rounded"})}),(0,I.jsxs)("div",{className:"min-w-0",children:[(0,I.jsx)("p",{className:"font-medium truncate",children:e.title}),(0,I.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:e.subtitle||"No description"})]})]})}),(0,I.jsx)(E,{children:(0,I.jsxs)(N.E,{variant:"video"===e.type?"default":"secondary",children:["video"===e.type?(0,I.jsx)(c.A,{className:"h-3 w-3 mr-1"}):(0,I.jsx)(m.A,{className:"h-3 w-3 mr-1"}),e.type]})}),(0,I.jsx)(E,{className:"hidden md:table-cell",children:(0,R.v7)(e.fileSize)}),(0,I.jsx)(E,{className:"hidden md:table-cell",children:(0,R.Yq)(e.createdAt)}),(0,I.jsx)(E,{className:"text-right",children:(0,I.jsxs)(S.rI,{children:[(0,I.jsx)(S.ty,{asChild:!0,children:(0,I.jsx)(w.$,{variant:"ghost",size:"iconSm",children:(0,I.jsx)(u.A,{className:"h-4 w-4"})})}),(0,I.jsxs)(S.SQ,{align:"end",children:[(0,I.jsxs)(S._2,{onClick:()=>window.open(e.fileUrl,"_blank"),children:[(0,I.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"View"]}),(0,I.jsxs)(S._2,{onClick:()=>de(e),children:[(0,I.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,I.jsx)(S.mB,{}),(0,I.jsxs)(S._2,{onClick:()=>le(e),className:"text-destructive",children:[(0,I.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id))})]})}):(0,I.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:ne.map(e=>(0,I.jsxs)(b.Zp,{className:"group overflow-hidden",children:[(0,I.jsxs)("div",{className:(0,R.cn)("aspect-square relative","bg-gradient-to-br ".concat((0,R.O3)(e.id))),children:[e.thumbnail&&(0,I.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}),(0,I.jsxs)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,I.jsx)(w.$,{size:"icon",variant:"secondary",onClick:()=>window.open(e.fileUrl,"_blank"),children:(0,I.jsx)(h.A,{className:"h-4 w-4"})}),(0,I.jsx)(w.$,{size:"icon",variant:"secondary",onClick:()=>de(e),children:(0,I.jsx)(f.A,{className:"h-4 w-4"})}),(0,I.jsx)(w.$,{size:"icon",variant:"destructive",onClick:()=>le(e),children:(0,I.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,I.jsx)(N.E,{className:"absolute top-2 left-2",variant:"video"===e.type?"default":"secondary",children:e.type})]}),(0,I.jsxs)(b.Wu,{className:"p-3",children:[(0,I.jsx)("p",{className:"font-medium truncate",children:e.title}),(0,I.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,R.v7)(e.fileSize)})]})]},e.id))}),(0,I.jsx)(C.lG,{open:V,onOpenChange:X,children:(0,I.jsxs)(C.Cf,{children:[(0,I.jsxs)(C.c7,{children:[(0,I.jsx)(C.L3,{children:"Edit Media"}),(0,I.jsx)(C.rr,{children:"Update the media metadata"})]}),(0,I.jsxs)("div",{className:"space-y-4 py-4",children:[(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsx)(U.J,{children:"Title"}),(0,I.jsx)(j.p,{value:W.title,onChange:e=>Y(a=>(0,s.A)((0,s.A)({},a),{},{title:e.target.value}))})]}),(0,I.jsxs)("div",{className:"space-y-2",children:[(0,I.jsx)(U.J,{children:"Description"}),(0,I.jsx)(B.T,{value:W.subtitle,onChange:e=>Y(a=>(0,s.A)((0,s.A)({},a),{},{subtitle:e.target.value}))})]})]}),(0,I.jsxs)(C.Es,{children:[(0,I.jsx)(w.$,{variant:"ghost",onClick:()=>X(!1),children:"Cancel"}),(0,I.jsx)(w.$,{onClick:()=>{K&&te.mutate({id:K.id,data:W})},disabled:te.isPending,children:te.isPending?"Saving...":"Save"})]})]})}),(0,I.jsx)(C.lG,{open:Z,onOpenChange:J,children:(0,I.jsxs)(C.Cf,{children:[(0,I.jsxs)(C.c7,{children:[(0,I.jsx)(C.L3,{children:"Delete Media"}),(0,I.jsxs)(C.rr,{children:['Are you sure you want to delete "',null===Q||void 0===Q?void 0:Q.title,'"?']})]}),(0,I.jsx)("div",{className:"py-4",children:(0,I.jsx)("p",{className:"text-sm text-muted-foreground",children:"This action cannot be undone. You can choose to keep the file on the server or delete it completely."})}),(0,I.jsxs)(C.Es,{className:"gap-2",children:[(0,I.jsx)(w.$,{variant:"ghost",onClick:()=>J(!1),children:"Cancel"}),(0,I.jsx)(w.$,{variant:"outline",onClick:()=>ce(!1),disabled:se.isPending,children:"Keep File"}),(0,I.jsx)(w.$,{variant:"destructive",onClick:()=>ce(!0),disabled:se.isPending,children:se.isPending?"Deleting...":"Delete All"})]})]})})]})}},9690:(e,a,t)=>{t.d(a,{Xi:()=>p,av:()=>x,j7:()=>h,tU:()=>m});var s=t(7051),r=t(3986),i=t(5043),n=t(7127),d=t(9766),l=t(579);const c=["className"],o=["className"],u=["className"],m=n.bL,h=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,c);return(0,l.jsx)(n.B8,(0,s.A)({ref:a,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t)},i))});h.displayName=n.B8.displayName;const p=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,o);return(0,l.jsx)(n.l9,(0,s.A)({ref:a,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t)},i))});p.displayName=n.l9.displayName;const x=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,u);return(0,l.jsx)(n.UC,(0,s.A)({ref:a,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t)},i))});x.displayName=n.UC.displayName},9938:(e,a,t)=>{t.d(a,{J:()=>m});var s=t(7051),r=t(3986),i=t(5043),n=t(5131),d=t(917),l=t(9766),c=t(579);const o=["className"],u=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,r.A)(e,o);return(0,c.jsx)(n.b,(0,s.A)({ref:a,className:(0,l.cn)(u(),t)},i))});m.displayName=n.b.displayName}}]);
//# sourceMappingURL=322.6cdd3e9e.chunk.js.map