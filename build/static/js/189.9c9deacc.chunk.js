/*! For license information please see 189.9c9deacc.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[189],{2264:(e,a,t)=>{t.d(a,{p:()=>c});var s=t(7051),n=t(3986),i=t(5043),r=t(9766),o=t(579);const d=["className","type"],c=i.forwardRef((e,a)=>{let{className:t,type:i}=e,c=(0,n.A)(e,d);return(0,o.jsx)("input",(0,s.A)({type:i,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",t),ref:a},c))});c.displayName="Input"},2284:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(1639).A)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},4105:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(1639).A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},4505:(e,a,t)=>{t.d(a,{O0:()=>l,ic:()=>u});var s=t(7051),n=t(9722),i=t(3550);const r="https://test.mediacoreapi.masakalirestrobar.ca",o="mc_3f177f8a673446ba8ee152728d877b00";console.log("[API] Base URL:",r);const d=n.A.create({baseURL:r,timeout:3e4,headers:{"Content-Type":"application/json"}});d.interceptors.request.use(e=>{var a;return console.log("[API] ".concat(null===(a=e.method)||void 0===a?void 0:a.toUpperCase()," ").concat(e.baseURL).concat(e.url)),e},e=>(console.error("[API Request Error]",e),Promise.reject(e))),d.interceptors.response.use(e=>(console.log("[API] Response:",e.status),e),e=>{var a,t,s;return console.error("[API Error]",{status:null===(a=e.response)||void 0===a?void 0:a.status,data:null===(t=e.response)||void 0===t?void 0:t.data,message:e.message,url:null===(s=e.config)||void 0===s?void 0:s.url}),Promise.reject(e)});const c=async()=>{const e=await(0,i.p9)();return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},l={healthCheck:async()=>(await d.get("/health")).data,getMedia:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:a,limit:t=50,orderBy:s="createdAt",order:n="desc"}=e,i=new URLSearchParams({limit:String(t),orderBy:s,order:n});a&&i.append("type",a);return(await d.get("/api/feed?".concat(i),{headers:{"x-api-key":o}})).data},getMediaById:async e=>(await d.get("/api/media/".concat(e),{headers:{"x-api-key":o}})).data,getSettings:async()=>(await d.get("/api/settings",{headers:{"x-api-key":o}})).data,getArtists:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{limit:a=50,orderBy:t="createdAt",order:s="desc"}=e,n=new URLSearchParams({limit:String(a),orderBy:t,order:s});return(await d.get("/api/artists?".concat(n),{headers:{"x-api-key":o}})).data},getArtistById:async e=>(await d.get("/api/artists/".concat(e),{headers:{"x-api-key":o}})).data,getArtistAlbums:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{orderBy:t="releaseDate",order:s="desc"}=a,n=new URLSearchParams({orderBy:t,order:s});return(await d.get("/api/artists/".concat(e,"/albums?").concat(n),{headers:{"x-api-key":o}})).data},getArtistMedia:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:t,orderBy:s="createdAt",order:n="desc"}=a,i=new URLSearchParams({orderBy:s,order:n});t&&i.append("type",t);return(await d.get("/api/artists/".concat(e,"/media?").concat(i),{headers:{"x-api-key":o}})).data},getAlbums:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{artistId:a,limit:t=50,orderBy:s="releaseDate",order:n="desc"}=e,i=new URLSearchParams({limit:String(t),orderBy:s,order:n});a&&i.append("artistId",a);return(await d.get("/api/albums?".concat(i),{headers:{"x-api-key":o}})).data},getAlbumById:async e=>(await d.get("/api/albums/".concat(e),{headers:{"x-api-key":o}})).data,getAlbumMedia:async e=>(await d.get("/api/albums/".concat(e,"/media"),{headers:{"x-api-key":o}})).data},u={uploadMedia:async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"video",n=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;const c=await(0,i.p9)(),l=new FormData;l.append("file",e),l.append("title",a),l.append("subtitle",t),l.append("type",s),r&&l.append("artistId",r),o&&l.append("albumId",o),console.log("[API] Upload:",{fileName:e.name,fileType:e.type,title:a,type:s,artistId:r,albumId:o});return(await d.post("/admin/media",l,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(n&&e.total){const a=Math.round(100*e.loaded/e.total);n(a)}}})).data},updateMedia:async(e,a)=>{const t=await c();return(await d.put("/admin/media/".concat(e),a,{headers:t})).data},deleteMedia:async function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=await c();return(await d.delete("/admin/media/".concat(e,"?deleteFile=").concat(a),{headers:t})).data},createArtist:async e=>{const a=await c();return(await d.post("/admin/artists",e,{headers:a})).data},updateArtist:async(e,a)=>{const t=await c();return(await d.put("/admin/artists/".concat(e),a,{headers:t})).data},deleteArtist:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await c();return(await d.delete("/admin/artists/".concat(e,"?cascade=").concat(a),{headers:t})).data},createAlbum:async e=>{const a=await c();return(await d.post("/admin/albums",e,{headers:a})).data},updateAlbum:async(e,a)=>{const t=await c();return(await d.put("/admin/albums/".concat(e),a,{headers:t})).data},deleteAlbum:async e=>{const a=await c();return(await d.delete("/admin/albums/".concat(e),{headers:a})).data},addMediaToAlbum:async(e,a,t)=>{const s=await c();return(await d.post("/admin/albums/".concat(e,"/media"),{mediaId:a,trackNumber:t},{headers:s})).data},removeMediaFromAlbum:async(e,a)=>{const t=await c();return(await d.delete("/admin/albums/".concat(e,"/media/").concat(a),{headers:t})).data},reorderAlbumTracks:async(e,a)=>{const t=await c();return(await d.put("/admin/albums/".concat(e,"/media/reorder"),{tracks:a},{headers:t})).data},generateApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read_only",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=await c();return(await d.post("/admin/generate-key",(0,s.A)({name:e,accessType:a},t),{headers:n})).data},getApiKeys:async()=>{const e=await c();return(await d.get("/admin/api-keys",{headers:e})).data},deleteApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=await c();return(await d.delete("/admin/api-keys/".concat(e,"?hardDelete=").concat(a),{headers:t})).data},getSettings:async()=>{const e=await c();return(await d.get("/api/settings",{headers:e})).data},updateSettings:async e=>{const a=await c();return(await d.put("/admin/settings",e,{headers:a})).data},getDashboard:async()=>{const e=await c();return(await d.get("/admin/analytics/dashboard",{headers:e})).data},getAnalyticsSummary:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const a=await c();return(await d.get("/admin/analytics/summary?days=".concat(e),{headers:a})).data},getRealTimeStats:async()=>{const e=await c();return(await d.get("/admin/analytics/realtime",{headers:e})).data},getApiKeyStats:async e=>{const a=await c(),t=e?"/admin/analytics/api-keys?keyId=".concat(e):"/admin/analytics/api-keys";return(await d.get(t,{headers:a})).data},getUsers:async()=>{const e=await c();return(await d.get("/admin/users",{headers:e})).data},getUserById:async e=>{const a=await c();return(await d.get("/admin/users/".concat(e),{headers:a})).data},updateUserRole:async(e,a)=>{const t=await c();return(await d.put("/admin/users/".concat(e,"/role"),{role:a},{headers:t})).data},updateUserStatus:async(e,a)=>{const t=await c();return(await d.put("/admin/users/".concat(e,"/status"),{disabled:a},{headers:t})).data},deleteUser:async e=>{const a=await c();return(await d.delete("/admin/users/".concat(e),{headers:a})).data}}},7127:(e,a,t)=>{t.d(a,{B8:()=>L,UC:()=>q,bL:()=>_,l9:()=>P});var s=t(7051),n=t(3986),i=t(5043),r=t(858),o=t(1862),d=t(6711),c=t(2894),l=t(7914),u=t(4204),p=t(3642),m=t(4490),y=t(579);const g=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],h=["__scopeTabs","loop"],f=["__scopeTabs","value","disabled"],b=["__scopeTabs","value","forceMount","children"];var v="Tabs",[w,x]=(0,o.A)(v,[d.RG]),A=(0,d.RG)(),[j,k]=w(v),N=i.forwardRef((e,a)=>{const{__scopeTabs:t,value:i,onValueChange:r,defaultValue:o,orientation:d="horizontal",dir:c,activationMode:h="automatic"}=e,f=(0,n.A)(e,g),b=(0,u.jH)(c),[w,x]=(0,p.i)({prop:i,onChange:r,defaultProp:null!==o&&void 0!==o?o:"",caller:v});return(0,y.jsx)(j,{scope:t,baseId:(0,m.B)(),value:w,onValueChange:x,orientation:d,dir:b,activationMode:h,children:(0,y.jsx)(l.sG.div,(0,s.A)((0,s.A)({dir:b,"data-orientation":d},f),{},{ref:a}))})});N.displayName=v;var C="TabsList",M=i.forwardRef((e,a)=>{const{__scopeTabs:t,loop:i=!0}=e,r=(0,n.A)(e,h),o=k(C,t),c=A(t);return(0,y.jsx)(d.bL,(0,s.A)((0,s.A)({asChild:!0},c),{},{orientation:o.orientation,dir:o.dir,loop:i,children:(0,y.jsx)(l.sG.div,(0,s.A)((0,s.A)({role:"tablist","aria-orientation":o.orientation},r),{},{ref:a}))}))});M.displayName=C;var I="TabsTrigger",T=i.forwardRef((e,a)=>{const{__scopeTabs:t,value:i,disabled:o=!1}=e,c=(0,n.A)(e,f),u=k(I,t),p=A(t),m=S(u.baseId,i),g=U(u.baseId,i),h=i===u.value;return(0,y.jsx)(d.q7,(0,s.A)((0,s.A)({asChild:!0},p),{},{focusable:!o,active:h,children:(0,y.jsx)(l.sG.button,(0,s.A)((0,s.A)({type:"button",role:"tab","aria-selected":h,"aria-controls":g,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:m},c),{},{ref:a,onMouseDown:(0,r.mK)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():u.onValueChange(i)}),onKeyDown:(0,r.mK)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&u.onValueChange(i)}),onFocus:(0,r.mK)(e.onFocus,()=>{const e="manual"!==u.activationMode;h||o||!e||u.onValueChange(i)})}))}))});T.displayName=I;var R="TabsContent",B=i.forwardRef((e,a)=>{const{__scopeTabs:t,value:r,forceMount:o,children:d}=e,u=(0,n.A)(e,b),p=k(R,t),m=S(p.baseId,r),g=U(p.baseId,r),h=r===p.value,f=i.useRef(h);return i.useEffect(()=>{const e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,y.jsx)(c.C,{present:o||h,children:t=>{let{present:n}=t;return(0,y.jsx)(l.sG.div,(0,s.A)((0,s.A)({"data-state":h?"active":"inactive","data-orientation":p.orientation,role:"tabpanel","aria-labelledby":m,hidden:!n,id:g,tabIndex:0},u),{},{ref:a,style:(0,s.A)((0,s.A)({},e.style),{},{animationDuration:f.current?"0s":void 0}),children:n&&d}))}})});function S(e,a){return"".concat(e,"-trigger-").concat(a)}function U(e,a){return"".concat(e,"-content-").concat(a)}B.displayName=R;var _=N,L=M,P=T,q=B},7189:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var s=t(5043),n=t(5475),i=t(6931),r=t(1228),o=t(6938),d=t(2284),c=t(9292),l=t(614),u=t(4105),p=t(4505),m=t(2539),y=t(588),g=t(2264),h=t(3390),f=t(9690),b=t(9766),v=t(579);const w=(e,a)=>{let t;return function(){for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];clearTimeout(t),t=setTimeout(()=>e(...n),a)}};function x(){const[e,a]=(0,n.ok)(),t=e.get("q")||"",x=e.get("type")||"all",[A,j]=(0,s.useState)(t),[k,N]=(0,s.useState)(t),[C,M]=(0,s.useState)(x),{viewMode:I,setViewMode:T}=(0,m.j_)(),R=(0,s.useMemo)(()=>w((e,t)=>{N(e),a(e?{q:e,type:t}:{})},300),[a]);(0,s.useEffect)(()=>{R(A,C)},[A,C,R]),(0,s.useEffect)(()=>{k&&a({q:k,type:C})},[C,k,a]);const{data:B,isLoading:S}=(0,i.I)({queryKey:["search",C],queryFn:()=>p.O0.getMedia({type:"all"===C?void 0:C,limit:100})}),U=(null===B||void 0===B?void 0:B.data)||[],_=k?U.filter(e=>{var a,t;return(null===(a=e.title)||void 0===a?void 0:a.toLowerCase().includes(k.toLowerCase()))||(null===(t=e.subtitle)||void 0===t?void 0:t.toLowerCase().includes(k.toLowerCase()))}):U;return(0,v.jsxs)("div",{className:"min-h-full px-6 py-4",children:[(0,v.jsxs)("div",{className:"sticky top-0 z-20 bg-background/80 backdrop-blur-lg -mx-6 px-6 py-4",children:[(0,v.jsx)("div",{className:"relative max-w-2xl mx-auto mb-6",children:(0,v.jsxs)("div",{className:"relative",children:[(0,v.jsx)(c.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,v.jsx)(g.p,{type:"text",placeholder:"Search for songs, videos, artists...",value:A,onChange:e=>j(e.target.value),className:"w-full pl-12 pr-12 h-12 bg-secondary rounded-full border-0 text-lg focus:ring-2 focus:ring-primary"}),(0,v.jsx)(o.N,{children:A&&(0,v.jsx)(r.P.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>{j(""),N(""),a({})},className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:(0,v.jsx)(l.A,{className:"h-5 w-5"})})})]})}),(0,v.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,v.jsx)(f.tU,{value:C,onValueChange:M,children:(0,v.jsxs)(f.j7,{className:"bg-transparent gap-2",children:[(0,v.jsx)(f.Xi,{value:"all",className:(0,b.cn)("rounded-full px-4 py-2 data-[state=active]:bg-white data-[state=active]:text-black","bg-secondary hover:bg-secondary/80"),children:"All"}),(0,v.jsx)(f.Xi,{value:"video",className:(0,b.cn)("rounded-full px-4 py-2 data-[state=active]:bg-white data-[state=active]:text-black","bg-secondary hover:bg-secondary/80"),children:"Videos"}),(0,v.jsx)(f.Xi,{value:"audio",className:(0,b.cn)("rounded-full px-4 py-2 data-[state=active]:bg-white data-[state=active]:text-black","bg-secondary hover:bg-secondary/80"),children:"Audio"})]})}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(h.$,{variant:"grid"===I?"secondary":"ghost",size:"icon",onClick:()=>T("grid"),children:(0,v.jsx)(u.A,{className:"h-4 w-4"})}),(0,v.jsx)(h.$,{variant:"list"===I?"secondary":"ghost",size:"icon",onClick:()=>T("list"),children:(0,v.jsx)(d.A,{className:"h-4 w-4"})})]})]})]}),(0,v.jsxs)("div",{className:"mt-6",children:[k&&(0,v.jsxs)(r.P.p,{initial:{opacity:0},animate:{opacity:1},className:"text-muted-foreground mb-4",children:[_.length,' results for "',k,'"']}),"grid"===I?(0,v.jsx)(y.hT,{media:_,isLoading:S,emptyMessage:k?'No results found for "'.concat(k,'"'):"Start typing to search..."}):(0,v.jsx)(y.bq,{media:_,isLoading:S,showDate:!0,emptyMessage:k?'No results found for "'.concat(k,'"'):"Start typing to search..."}),!k&&!S&&_.length>0&&(0,v.jsxs)("div",{className:"mt-8",children:[(0,v.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Browse All"}),"grid"===I?(0,v.jsx)(y.hT,{media:_}):(0,v.jsx)(y.bq,{media:_,showDate:!0})]})]})]})}},9690:(e,a,t)=>{t.d(a,{Xi:()=>y,av:()=>g,j7:()=>m,tU:()=>p});var s=t(7051),n=t(3986),i=t(5043),r=t(7127),o=t(9766),d=t(579);const c=["className"],l=["className"],u=["className"],p=r.bL,m=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,n.A)(e,c);return(0,d.jsx)(r.B8,(0,s.A)({ref:a,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t)},i))});m.displayName=r.B8.displayName;const y=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,n.A)(e,l);return(0,d.jsx)(r.l9,(0,s.A)({ref:a,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t)},i))});y.displayName=r.l9.displayName;const g=i.forwardRef((e,a)=>{let{className:t}=e,i=(0,n.A)(e,u);return(0,d.jsx)(r.UC,(0,s.A)({ref:a,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t)},i))});g.displayName=r.UC.displayName}}]);
//# sourceMappingURL=189.9c9deacc.chunk.js.map