{"version":3,"file":"static/js/2461.7ef6875b.chunk.js","mappings":"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","sources":["components/journal/MoodSelector.jsx","components/journal/AudioRecorder.jsx","components/journal/MediaPicker.jsx","components/journal/RichTextEditor.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { cn } from '../../lib/utils';\n\n// Mood value ranges: 0-20 Very Unpleasant, 20-40 Unpleasant, 40-60 Neutral, 60-80 Pleasant, 80-100 Very Pleasant\n\nconst MOOD_LABELS = [\n  { min: 0, max: 20, label: 'Very Unpleasant', color: 'from-red-500 to-red-600', emoji: 'ðŸ˜¢' },\n  { min: 20, max: 40, label: 'Unpleasant', color: 'from-orange-400 to-orange-500', emoji: 'ðŸ˜•' },\n  { min: 40, max: 60, label: 'Neutral', color: 'from-yellow-400 to-yellow-500', emoji: 'ðŸ˜' },\n  { min: 60, max: 80, label: 'Pleasant', color: 'from-lime-400 to-green-500', emoji: 'ðŸ™‚' },\n  { min: 80, max: 100, label: 'Very Pleasant', color: 'from-green-400 to-emerald-500', emoji: 'ðŸ˜Š' },\n];\n\nconst EMOTIONS = [\n  // Positive emotions\n  { name: 'Happy', emoji: 'ðŸ˜Š', category: 'positive' },\n  { name: 'Grateful', emoji: 'ðŸ™', category: 'positive' },\n  { name: 'Excited', emoji: 'ðŸŽ‰', category: 'positive' },\n  { name: 'Calm', emoji: 'ðŸ˜Œ', category: 'positive' },\n  { name: 'Proud', emoji: 'ðŸ’ª', category: 'positive' },\n  { name: 'Hopeful', emoji: 'âœ¨', category: 'positive' },\n  { name: 'Loved', emoji: 'â¤ï¸', category: 'positive' },\n  { name: 'Inspired', emoji: 'ðŸ’¡', category: 'positive' },\n  // Neutral emotions\n  { name: 'Thoughtful', emoji: 'ðŸ¤”', category: 'neutral' },\n  { name: 'Curious', emoji: 'ðŸ§', category: 'neutral' },\n  { name: 'Surprised', emoji: 'ðŸ˜®', category: 'neutral' },\n  { name: 'Nostalgic', emoji: 'ðŸ’­', category: 'neutral' },\n  // Negative emotions\n  { name: 'Anxious', emoji: 'ðŸ˜°', category: 'negative' },\n  { name: 'Sad', emoji: 'ðŸ˜¢', category: 'negative' },\n  { name: 'Frustrated', emoji: 'ðŸ˜¤', category: 'negative' },\n  { name: 'Tired', emoji: 'ðŸ˜´', category: 'negative' },\n  { name: 'Stressed', emoji: 'ðŸ˜«', category: 'negative' },\n  { name: 'Lonely', emoji: 'ðŸ¥º', category: 'negative' },\n];\n\nconst getMoodInfo = (value) => {\n  return MOOD_LABELS.find(m => value >= m.min && value <= m.max) || MOOD_LABELS[2];\n};\n\nconst MoodSlider = ({ value, onChange }) => {\n  const moodInfo = getMoodInfo(value);\n  const [isDragging, setIsDragging] = useState(false);\n  \n  return (\n    <div className=\"space-y-4\">\n      {/* Mood Emoji and Label */}\n      <div className=\"text-center\">\n        <motion.div\n          key={moodInfo.emoji}\n          initial={{ scale: 0.5, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          transition={{ type: 'spring', stiffness: 500, damping: 30 }}\n          className=\"text-6xl mb-2\"\n        >\n          {moodInfo.emoji}\n        </motion.div>\n        <motion.p\n          key={moodInfo.label}\n          initial={{ y: 10, opacity: 0 }}\n          animate={{ y: 0, opacity: 1 }}\n          className={cn(\n            'text-lg font-medium bg-gradient-to-r bg-clip-text text-transparent',\n            moodInfo.color\n          )}\n        >\n          {moodInfo.label}\n        </motion.p>\n      </div>\n      \n      {/* Custom Slider */}\n      <div className=\"relative px-2 py-4\">\n        {/* Track background with gradient */}\n        <div className=\"absolute inset-x-2 top-1/2 -translate-y-1/2 h-2 rounded-full bg-gradient-to-r from-red-500 via-yellow-400 to-green-500 opacity-30\" />\n        \n        {/* Active track */}\n        <motion.div\n          className={cn('absolute left-2 top-1/2 -translate-y-1/2 h-2 rounded-full bg-gradient-to-r', moodInfo.color)}\n          style={{ width: `${value}%` }}\n          animate={{ width: `${value}%` }}\n          transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n        />\n        \n        {/* Input slider (invisible but functional) */}\n        <input\n          type=\"range\"\n          min=\"0\"\n          max=\"100\"\n          value={value}\n          onChange={(e) => onChange(parseInt(e.target.value))}\n          onMouseDown={() => setIsDragging(true)}\n          onMouseUp={() => setIsDragging(false)}\n          onTouchStart={() => setIsDragging(true)}\n          onTouchEnd={() => setIsDragging(false)}\n          className=\"relative w-full h-8 appearance-none bg-transparent cursor-pointer z-10\n            [&::-webkit-slider-thumb]:appearance-none\n            [&::-webkit-slider-thumb]:w-6\n            [&::-webkit-slider-thumb]:h-6\n            [&::-webkit-slider-thumb]:rounded-full\n            [&::-webkit-slider-thumb]:bg-white\n            [&::-webkit-slider-thumb]:shadow-lg\n            [&::-webkit-slider-thumb]:shadow-black/20\n            [&::-webkit-slider-thumb]:cursor-grab\n            [&::-webkit-slider-thumb]:active:cursor-grabbing\n            [&::-webkit-slider-thumb]:transition-transform\n            [&::-webkit-slider-thumb]:hover:scale-110\n            [&::-moz-range-thumb]:w-6\n            [&::-moz-range-thumb]:h-6\n            [&::-moz-range-thumb]:rounded-full\n            [&::-moz-range-thumb]:bg-white\n            [&::-moz-range-thumb]:border-0\n            [&::-moz-range-thumb]:shadow-lg\n            [&::-moz-range-thumb]:cursor-grab\n          \"\n        />\n        \n        {/* Thumb glow effect */}\n        <motion.div\n          className={cn(\n            'absolute top-1/2 -translate-y-1/2 w-10 h-10 rounded-full blur-md opacity-50 pointer-events-none bg-gradient-to-r',\n            moodInfo.color\n          )}\n          style={{ left: `calc(${value}% - 20px + 8px)` }}\n          animate={{\n            scale: isDragging ? 1.5 : 1,\n            opacity: isDragging ? 0.7 : 0.5,\n          }}\n        />\n      </div>\n      \n      {/* Labels */}\n      <div className=\"flex justify-between text-xs text-muted-foreground px-2\">\n        <span>Very Unpleasant</span>\n        <span>Very Pleasant</span>\n      </div>\n    </div>\n  );\n};\n\nconst EmotionTag = ({ emotion, isSelected, onToggle }) => {\n  return (\n    <motion.button\n      type=\"button\"\n      onClick={() => onToggle(emotion.name)}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n      className={cn(\n        'flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200',\n        isSelected\n          ? 'bg-primary text-primary-foreground shadow-lg shadow-primary/25'\n          : 'bg-secondary/50 text-muted-foreground hover:bg-secondary hover:text-foreground'\n      )}\n    >\n      <span className=\"text-base\">{emotion.emoji}</span>\n      <span>{emotion.name}</span>\n      {isSelected && (\n        <motion.span\n          initial={{ scale: 0 }}\n          animate={{ scale: 1 }}\n          className=\"w-1.5 h-1.5 rounded-full bg-primary-foreground\"\n        />\n      )}\n    </motion.button>\n  );\n};\n\nexport default function MoodSelector({ mood, onChange, compact = false }) {\n  const [moodValue, setMoodValue] = useState(mood?.value ?? 50);\n  const [selectedEmotions, setSelectedEmotions] = useState(mood?.emotions ?? []);\n  const [showAllEmotions, setShowAllEmotions] = useState(false);\n  \n  // Sync with prop changes\n  useEffect(() => {\n    if (mood) {\n      setMoodValue(mood.value ?? 50);\n      setSelectedEmotions(mood.emotions ?? []);\n    }\n  }, [mood]);\n  \n  // Debounced onChange\n  const handleChange = useCallback((newValue, newEmotions) => {\n    onChange?.({ value: newValue, emotions: newEmotions });\n  }, [onChange]);\n  \n  const handleMoodChange = (value) => {\n    setMoodValue(value);\n    handleChange(value, selectedEmotions);\n  };\n  \n  const handleEmotionToggle = (emotionName) => {\n    const newEmotions = selectedEmotions.includes(emotionName)\n      ? selectedEmotions.filter(e => e !== emotionName)\n      : [...selectedEmotions, emotionName];\n    \n    setSelectedEmotions(newEmotions);\n    handleChange(moodValue, newEmotions);\n  };\n  \n  // Get suggested emotions based on mood value\n  const getSuggestedEmotions = () => {\n    if (moodValue >= 60) return EMOTIONS.filter(e => e.category === 'positive');\n    if (moodValue <= 40) return EMOTIONS.filter(e => e.category === 'negative');\n    return EMOTIONS.filter(e => e.category === 'neutral');\n  };\n  \n  const displayedEmotions = showAllEmotions ? EMOTIONS : getSuggestedEmotions();\n  \n  if (compact) {\n    const moodInfo = getMoodInfo(moodValue);\n    return (\n      <div className=\"flex items-center gap-3\">\n        <span className=\"text-2xl\">{moodInfo.emoji}</span>\n        <div className=\"flex flex-wrap gap-1\">\n          {selectedEmotions.slice(0, 3).map(emotionName => {\n            const emotion = EMOTIONS.find(e => e.name === emotionName);\n            return emotion ? (\n              <span key={emotionName} className=\"text-xs bg-secondary px-2 py-0.5 rounded-full\">\n                {emotion.emoji} {emotion.name}\n              </span>\n            ) : null;\n          })}\n          {selectedEmotions.length > 3 && (\n            <span className=\"text-xs text-muted-foreground\">+{selectedEmotions.length - 3}</span>\n          )}\n        </div>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <h3 className=\"text-lg font-semibold mb-1\">How are you feeling?</h3>\n        <p className=\"text-sm text-muted-foreground\">Move the slider and select emotions that describe your mood</p>\n      </div>\n      \n      {/* Mood Slider */}\n      <MoodSlider value={moodValue} onChange={handleMoodChange} />\n      \n      {/* Emotions Section */}\n      <div className=\"space-y-3\">\n        <div className=\"flex items-center justify-between\">\n          <h4 className=\"text-sm font-medium text-muted-foreground\">\n            {showAllEmotions ? 'All Emotions' : 'Suggested Emotions'}\n          </h4>\n          <button\n            type=\"button\"\n            onClick={() => setShowAllEmotions(!showAllEmotions)}\n            className=\"text-xs text-primary hover:underline\"\n          >\n            {showAllEmotions ? 'Show Suggested' : 'Show All'}\n          </button>\n        </div>\n        \n        <motion.div\n          layout\n          className=\"flex flex-wrap gap-2\"\n        >\n          <AnimatePresence mode=\"popLayout\">\n            {displayedEmotions.map((emotion) => (\n              <motion.div\n                key={emotion.name}\n                layout\n                initial={{ opacity: 0, scale: 0.8 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.8 }}\n                transition={{ duration: 0.2 }}\n              >\n                <EmotionTag\n                  emotion={emotion}\n                  isSelected={selectedEmotions.includes(emotion.name)}\n                  onToggle={handleEmotionToggle}\n                />\n              </motion.div>\n            ))}\n          </AnimatePresence>\n        </motion.div>\n      </div>\n      \n      {/* Selected emotions summary */}\n      {selectedEmotions.length > 0 && (\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"p-3 rounded-lg bg-secondary/30 text-sm text-muted-foreground\"\n        >\n          <span className=\"font-medium text-foreground\">Selected: </span>\n          {selectedEmotions.join(', ')}\n        </motion.div>\n      )}\n    </div>\n  );\n}\n\n// Export for use in other components\nexport { MOOD_LABELS, EMOTIONS, getMoodInfo };\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Mic, Square, Pause, Play, Trash2, Check } from 'lucide-react';\nimport { cn } from '../../lib/utils';\nimport { Button } from '../ui/button';\n\nconst formatTime = (seconds) => {\n  const mins = Math.floor(seconds / 60);\n  const secs = Math.floor(seconds % 60);\n  return `${mins}:${secs.toString().padStart(2, '0')}`;\n};\n\n// Audio visualizer bars\nconst AudioVisualizer = ({ isRecording, audioData }) => {\n  const bars = 20;\n  \n  return (\n    <div className=\"flex items-center justify-center gap-1 h-16\">\n      {Array.from({ length: bars }).map((_, i) => {\n        const height = isRecording\n          ? audioData?.[i] || Math.random() * 100\n          : 20;\n        \n        return (\n          <motion.div\n            key={i}\n            className={cn(\n              'w-1 rounded-full transition-colors',\n              isRecording ? 'bg-red-500' : 'bg-muted-foreground/30'\n            )}\n            animate={{\n              height: `${Math.max(8, height * 0.6)}px`,\n            }}\n            transition={{\n              duration: 0.1,\n              ease: 'easeOut',\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\n// Waveform display for recorded audio\nconst Waveform = ({ audioUrl, currentTime, duration, isPlaying }) => {\n  const [waveformData, setWaveformData] = useState([]);\n  const canvasRef = useRef(null);\n  \n  useEffect(() => {\n    // Generate fake waveform data for visual effect\n    // In production, you'd analyze the actual audio\n    const data = Array.from({ length: 50 }, () => Math.random() * 0.8 + 0.2);\n    setWaveformData(data);\n  }, [audioUrl]);\n  \n  const progress = duration > 0 ? currentTime / duration : 0;\n  \n  return (\n    <div className=\"relative h-12 w-full flex items-center gap-0.5\">\n      {waveformData.map((value, i) => {\n        const isPlayed = i / waveformData.length <= progress;\n        return (\n          <motion.div\n            key={i}\n            className={cn(\n              'flex-1 rounded-full transition-colors duration-150',\n              isPlayed ? 'bg-primary' : 'bg-muted-foreground/30'\n            )}\n            style={{ height: `${value * 100}%` }}\n            initial={{ scaleY: 0 }}\n            animate={{ scaleY: 1 }}\n            transition={{ delay: i * 0.01 }}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default function AudioRecorder({ onSave, onCancel, existingAudio }) {\n  const [isRecording, setIsRecording] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [recordingTime, setRecordingTime] = useState(0);\n  const [audioBlob, setAudioBlob] = useState(null);\n  const [audioUrl, setAudioUrl] = useState(existingAudio?.url || null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [playbackTime, setPlaybackTime] = useState(0);\n  const [duration, setDuration] = useState(existingAudio?.duration || 0);\n  const [audioData, setAudioData] = useState([]);\n  \n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const audioRef = useRef(null);\n  const timerRef = useRef(null);\n  const analyzerRef = useRef(null);\n  const animationFrameRef = useRef(null);\n  \n  // Cleanup\n  useEffect(() => {\n    return () => {\n      if (timerRef.current) clearInterval(timerRef.current);\n      if (animationFrameRef.current) cancelAnimationFrame(animationFrameRef.current);\n      if (audioUrl && !existingAudio) URL.revokeObjectURL(audioUrl);\n    };\n  }, [audioUrl, existingAudio]);\n  \n  // Audio analysis for visualizer\n  const startAnalyzer = useCallback((stream) => {\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    const analyzer = audioContext.createAnalyser();\n    const source = audioContext.createMediaStreamSource(stream);\n    \n    analyzer.fftSize = 64;\n    source.connect(analyzer);\n    analyzerRef.current = analyzer;\n    \n    const updateVisualization = () => {\n      if (!isRecording) return;\n      \n      const dataArray = new Uint8Array(analyzer.frequencyBinCount);\n      analyzer.getByteFrequencyData(dataArray);\n      setAudioData(Array.from(dataArray));\n      \n      animationFrameRef.current = requestAnimationFrame(updateVisualization);\n    };\n    \n    updateVisualization();\n  }, [isRecording]);\n  \n  // Start recording\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      \n      mediaRecorderRef.current = new MediaRecorder(stream);\n      audioChunksRef.current = [];\n      \n      mediaRecorderRef.current.ondataavailable = (event) => {\n        audioChunksRef.current.push(event.data);\n      };\n      \n      mediaRecorderRef.current.onstop = () => {\n        const blob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\n        setAudioBlob(blob);\n        const url = URL.createObjectURL(blob);\n        setAudioUrl(url);\n        \n        // Get duration\n        const audio = new Audio(url);\n        audio.onloadedmetadata = () => {\n          setDuration(audio.duration);\n        };\n        \n        // Stop all tracks\n        stream.getTracks().forEach(track => track.stop());\n      };\n      \n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n      setIsPaused(false);\n      setRecordingTime(0);\n      \n      // Start timer\n      timerRef.current = setInterval(() => {\n        setRecordingTime(prev => prev + 1);\n      }, 1000);\n      \n      // Start visualizer\n      startAnalyzer(stream);\n      \n    } catch (error) {\n      console.error('Error accessing microphone:', error);\n      alert('Could not access microphone. Please check permissions.');\n    }\n  };\n  \n  // Pause recording\n  const pauseRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      if (isPaused) {\n        mediaRecorderRef.current.resume();\n        timerRef.current = setInterval(() => {\n          setRecordingTime(prev => prev + 1);\n        }, 1000);\n      } else {\n        mediaRecorderRef.current.pause();\n        clearInterval(timerRef.current);\n      }\n      setIsPaused(!isPaused);\n    }\n  };\n  \n  // Stop recording\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop();\n      clearInterval(timerRef.current);\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n      setIsRecording(false);\n      setIsPaused(false);\n    }\n  };\n  \n  // Play/pause recorded audio\n  const togglePlayback = () => {\n    if (!audioRef.current) {\n      audioRef.current = new Audio(audioUrl);\n      \n      audioRef.current.ontimeupdate = () => {\n        setPlaybackTime(audioRef.current.currentTime);\n      };\n      \n      audioRef.current.onended = () => {\n        setIsPlaying(false);\n        setPlaybackTime(0);\n      };\n    }\n    \n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  };\n  \n  // Delete recording\n  const deleteRecording = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current = null;\n    }\n    if (audioUrl && !existingAudio) {\n      URL.revokeObjectURL(audioUrl);\n    }\n    setAudioUrl(null);\n    setAudioBlob(null);\n    setPlaybackTime(0);\n    setDuration(0);\n    setIsPlaying(false);\n    setRecordingTime(0);\n  };\n  \n  // Save recording\n  const handleSave = () => {\n    if (audioBlob) {\n      onSave?.(audioBlob, duration);\n    }\n  };\n  \n  return (\n    <div className=\"space-y-4\">\n      <AnimatePresence mode=\"wait\">\n        {!audioUrl ? (\n          // Recording UI\n          <motion.div\n            key=\"recording\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            className=\"space-y-4\"\n          >\n            {/* Visualizer */}\n            <AudioVisualizer isRecording={isRecording} audioData={audioData} />\n            \n            {/* Time display */}\n            <div className=\"text-center\">\n              <motion.span\n                className={cn(\n                  'text-3xl font-mono font-medium',\n                  isRecording && 'text-red-500'\n                )}\n                animate={{ opacity: isRecording && !isPaused ? [1, 0.5] : 1 }}\n                transition={{ duration: 0.5, repeat: isRecording && !isPaused ? Infinity : 0, repeatType: 'reverse' }}\n              >\n                {formatTime(recordingTime)}\n              </motion.span>\n              {isRecording && (\n                <motion.p\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  className=\"text-sm text-muted-foreground mt-1\"\n                >\n                  {isPaused ? 'Paused' : 'Recording...'}\n                </motion.p>\n              )}\n            </div>\n            \n            {/* Controls */}\n            <div className=\"flex items-center justify-center gap-4\">\n              {!isRecording ? (\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  onClick={startRecording}\n                  className=\"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-colors\"\n                >\n                  <Mic className=\"w-7 h-7 text-white\" />\n                </motion.button>\n              ) : (\n                <>\n                  <motion.button\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                    onClick={pauseRecording}\n                    className=\"w-12 h-12 rounded-full bg-secondary flex items-center justify-center hover:bg-secondary/80 transition-colors\"\n                  >\n                    {isPaused ? (\n                      <Play className=\"w-5 h-5 ml-0.5\" />\n                    ) : (\n                      <Pause className=\"w-5 h-5\" />\n                    )}\n                  </motion.button>\n                  \n                  <motion.button\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                    onClick={stopRecording}\n                    className=\"w-16 h-16 rounded-full bg-red-500 flex items-center justify-center shadow-lg shadow-red-500/30 hover:bg-red-600 transition-colors\"\n                  >\n                    <Square className=\"w-6 h-6 text-white fill-white\" />\n                  </motion.button>\n                </>\n              )}\n            </div>\n            \n            {/* Cancel button */}\n            <div className=\"text-center\">\n              <Button variant=\"ghost\" onClick={onCancel} className=\"text-muted-foreground\">\n                Cancel\n              </Button>\n            </div>\n          </motion.div>\n        ) : (\n          // Playback UI\n          <motion.div\n            key=\"playback\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n            className=\"space-y-4\"\n          >\n            {/* Waveform */}\n            <div className=\"p-4 rounded-xl bg-secondary/30\">\n              <Waveform\n                audioUrl={audioUrl}\n                currentTime={playbackTime}\n                duration={duration}\n                isPlaying={isPlaying}\n              />\n              \n              {/* Time indicators */}\n              <div className=\"flex justify-between text-xs text-muted-foreground mt-2\">\n                <span>{formatTime(playbackTime)}</span>\n                <span>{formatTime(duration)}</span>\n              </div>\n            </div>\n            \n            {/* Playback controls */}\n            <div className=\"flex items-center justify-center gap-4\">\n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={deleteRecording}\n                className=\"w-10 h-10 rounded-full bg-secondary flex items-center justify-center hover:bg-destructive hover:text-destructive-foreground transition-colors\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n              </motion.button>\n              \n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={togglePlayback}\n                className=\"w-14 h-14 rounded-full bg-primary flex items-center justify-center shadow-lg shadow-primary/30 hover:bg-primary/90 transition-colors\"\n              >\n                {isPlaying ? (\n                  <Pause className=\"w-6 h-6 text-primary-foreground\" />\n                ) : (\n                  <Play className=\"w-6 h-6 text-primary-foreground ml-0.5\" />\n                )}\n              </motion.button>\n              \n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={handleSave}\n                className=\"w-10 h-10 rounded-full bg-primary flex items-center justify-center hover:bg-primary/90 transition-colors\"\n              >\n                <Check className=\"w-4 h-4 text-primary-foreground\" />\n              </motion.button>\n            </div>\n            \n            {/* Actions */}\n            <div className=\"flex items-center justify-center gap-2\">\n              <Button variant=\"ghost\" size=\"sm\" onClick={deleteRecording}>\n                Re-record\n              </Button>\n              <Button variant=\"ghost\" size=\"sm\" onClick={onCancel}>\n                Cancel\n              </Button>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n\n// Compact audio player for viewing entries\nexport function AudioPlayer({ audioUrl, duration, name }) {\n  const audioRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  \n  const togglePlayback = () => {\n    if (!audioRef.current) {\n      audioRef.current = new Audio(audioUrl);\n      \n      audioRef.current.ontimeupdate = () => {\n        setCurrentTime(audioRef.current.currentTime);\n      };\n      \n      audioRef.current.onended = () => {\n        setIsPlaying(false);\n        setCurrentTime(0);\n      };\n    }\n    \n    if (isPlaying) {\n      audioRef.current.pause();\n    } else {\n      audioRef.current.play();\n    }\n    setIsPlaying(!isPlaying);\n  };\n  \n  useEffect(() => {\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause();\n      }\n    };\n  }, []);\n  \n  const progress = duration > 0 ? (currentTime / duration) * 100 : 0;\n  \n  return (\n    <motion.div\n      whileHover={{ scale: 1.02 }}\n      className=\"flex items-center gap-3 p-3 rounded-xl bg-secondary/50 cursor-pointer\"\n      onClick={togglePlayback}\n    >\n      <button className=\"w-10 h-10 rounded-full bg-primary flex items-center justify-center shrink-0\">\n        {isPlaying ? (\n          <Pause className=\"w-4 h-4 text-primary-foreground\" />\n        ) : (\n          <Play className=\"w-4 h-4 text-primary-foreground ml-0.5\" />\n        )}\n      </button>\n      \n      <div className=\"flex-1 min-w-0\">\n        <p className=\"text-sm font-medium truncate\">{name || 'Voice Recording'}</p>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex-1 h-1 rounded-full bg-muted overflow-hidden\">\n            <motion.div\n              className=\"h-full bg-primary\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n          <span className=\"text-xs text-muted-foreground shrink-0\">\n            {formatTime(currentTime)} / {formatTime(duration)}\n          </span>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n","import React, { useState, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  Image as ImageIcon, \n  Camera, \n  MapPin, \n  X, \n  Plus, \n  Loader2,\n  Navigation,\n  CheckCircle2\n} from 'lucide-react';\nimport { cn } from '../../lib/utils';\nimport { Button } from '../ui/button';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from '../ui/dialog';\n\n// Image preview component\nconst ImagePreview = ({ src, onRemove, index }) => {\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, scale: 0.8 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.8 }}\n      className=\"relative aspect-square rounded-xl overflow-hidden group\"\n    >\n      <img\n        src={src}\n        alt={`Attachment ${index + 1}`}\n        className=\"w-full h-full object-cover\"\n      />\n      <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n        <motion.button\n          whileHover={{ scale: 1.1 }}\n          whileTap={{ scale: 0.9 }}\n          onClick={onRemove}\n          className=\"w-8 h-8 rounded-full bg-destructive flex items-center justify-center\"\n        >\n          <X className=\"w-4 h-4 text-white\" />\n        </motion.button>\n      </div>\n    </motion.div>\n  );\n};\n\n// Camera capture component\nconst CameraCapture = ({ onCapture, onClose }) => {\n  const videoRef = useRef(null);\n  const [stream, setStream] = useState(null);\n  const [isReady, setIsReady] = useState(false);\n  const [capturedImage, setCapturedImage] = useState(null);\n  \n  const startCamera = useCallback(async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: { facingMode: 'environment' }\n      });\n      setStream(mediaStream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n        videoRef.current.onloadedmetadata = () => {\n          setIsReady(true);\n        };\n      }\n    } catch (error) {\n      console.error('Error accessing camera:', error);\n      alert('Could not access camera. Please check permissions.');\n      onClose();\n    }\n  }, [onClose]);\n  \n  const stopCamera = useCallback(() => {\n    if (stream) {\n      stream.getTracks().forEach(track => track.stop());\n      setStream(null);\n    }\n  }, [stream]);\n  \n  React.useEffect(() => {\n    startCamera();\n    return () => stopCamera();\n  }, []);\n  \n  const capturePhoto = () => {\n    if (videoRef.current && isReady) {\n      const canvas = document.createElement('canvas');\n      canvas.width = videoRef.current.videoWidth;\n      canvas.height = videoRef.current.videoHeight;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(videoRef.current, 0, 0);\n      \n      canvas.toBlob((blob) => {\n        const url = URL.createObjectURL(blob);\n        setCapturedImage({ blob, url });\n      }, 'image/jpeg', 0.9);\n    }\n  };\n  \n  const confirmCapture = () => {\n    if (capturedImage) {\n      onCapture(capturedImage.blob);\n      stopCamera();\n      onClose();\n    }\n  };\n  \n  const retake = () => {\n    if (capturedImage) {\n      URL.revokeObjectURL(capturedImage.url);\n      setCapturedImage(null);\n    }\n  };\n  \n  return (\n    <div className=\"space-y-4\">\n      <div className=\"relative aspect-[4/3] rounded-xl overflow-hidden bg-black\">\n        {!capturedImage ? (\n          <>\n            <video\n              ref={videoRef}\n              autoPlay\n              playsInline\n              muted\n              className=\"w-full h-full object-cover\"\n            />\n            {!isReady && (\n              <div className=\"absolute inset-0 flex items-center justify-center\">\n                <Loader2 className=\"w-8 h-8 animate-spin text-white\" />\n              </div>\n            )}\n          </>\n        ) : (\n          <img\n            src={capturedImage.url}\n            alt=\"Captured\"\n            className=\"w-full h-full object-cover\"\n          />\n        )}\n      </div>\n      \n      <div className=\"flex items-center justify-center gap-4\">\n        {!capturedImage ? (\n          <>\n            <Button variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={capturePhoto}\n              disabled={!isReady}\n              className=\"w-16 h-16 rounded-full bg-white border-4 border-primary flex items-center justify-center disabled:opacity-50\"\n            >\n              <div className=\"w-12 h-12 rounded-full bg-primary\" />\n            </motion.button>\n          </>\n        ) : (\n          <>\n            <Button variant=\"outline\" onClick={retake}>\n              Retake\n            </Button>\n            <Button onClick={confirmCapture}>\n              <CheckCircle2 className=\"w-4 h-4 mr-2\" />\n              Use Photo\n            </Button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Location picker component\nconst LocationPicker = ({ location, onChange, onClose }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [currentLocation, setCurrentLocation] = useState(location);\n  \n  const getCurrentLocation = async () => {\n    setIsLoading(true);\n    try {\n      const position = await new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(resolve, reject, {\n          enableHighAccuracy: true,\n          timeout: 10000,\n        });\n      });\n      \n      const { latitude, longitude } = position.coords;\n      \n      // Reverse geocoding using Nominatim (free)\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`\n      );\n      const data = await response.json();\n      \n      const locationData = {\n        name: data.display_name?.split(',').slice(0, 3).join(',') || 'Current Location',\n        lat: latitude,\n        lng: longitude,\n        fullAddress: data.display_name,\n      };\n      \n      setCurrentLocation(locationData);\n    } catch (error) {\n      console.error('Error getting location:', error);\n      alert('Could not get your location. Please check permissions.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  const handleSave = () => {\n    onChange(currentLocation);\n    onClose();\n  };\n  \n  const handleClear = () => {\n    setCurrentLocation(null);\n    onChange(null);\n    onClose();\n  };\n  \n  return (\n    <div className=\"space-y-4\">\n      {/* Current Location Button */}\n      <motion.button\n        whileHover={{ scale: 1.02 }}\n        whileTap={{ scale: 0.98 }}\n        onClick={getCurrentLocation}\n        disabled={isLoading}\n        className=\"w-full flex items-center gap-3 p-4 rounded-xl bg-primary/10 hover:bg-primary/20 transition-colors text-left\"\n      >\n        <div className=\"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center\">\n          {isLoading ? (\n            <Loader2 className=\"w-5 h-5 animate-spin text-primary\" />\n          ) : (\n            <Navigation className=\"w-5 h-5 text-primary\" />\n          )}\n        </div>\n        <div>\n          <p className=\"font-medium\">Use Current Location</p>\n          <p className=\"text-sm text-muted-foreground\">Automatically detect your location</p>\n        </div>\n      </motion.button>\n      \n      {/* Current selection */}\n      {currentLocation && (\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"p-4 rounded-xl bg-secondary/50 space-y-2\"\n        >\n          <div className=\"flex items-start gap-3\">\n            <MapPin className=\"w-5 h-5 text-primary shrink-0 mt-0.5\" />\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"font-medium\">{currentLocation.name}</p>\n              {currentLocation.fullAddress && (\n                <p className=\"text-sm text-muted-foreground truncate\">\n                  {currentLocation.fullAddress}\n                </p>\n              )}\n            </div>\n          </div>\n        </motion.div>\n      )}\n      \n      {/* Actions */}\n      <div className=\"flex items-center justify-end gap-2 pt-2\">\n        {currentLocation && (\n          <Button variant=\"ghost\" onClick={handleClear}>\n            Remove Location\n          </Button>\n        )}\n        <Button variant=\"outline\" onClick={onClose}>\n          Cancel\n        </Button>\n        <Button onClick={handleSave} disabled={!currentLocation}>\n          Save Location\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default function MediaPicker({ \n  images = [], \n  location,\n  onAddImage, \n  onRemoveImage,\n  onLocationChange,\n  maxImages = 10 \n}) {\n  const fileInputRef = useRef(null);\n  const [showCamera, setShowCamera] = useState(false);\n  const [showLocation, setShowLocation] = useState(false);\n  \n  const handleFileSelect = async (event) => {\n    const files = Array.from(event.target.files);\n    \n    for (const file of files) {\n      if (images.length >= maxImages) break;\n      \n      if (file.type.startsWith('image/')) {\n        onAddImage?.(file);\n      }\n    }\n    \n    // Reset input\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n  \n  const handleCameraCapture = (blob) => {\n    const file = new File([blob], `photo_${Date.now()}.jpg`, { type: 'image/jpeg' });\n    onAddImage?.(file);\n  };\n  \n  return (\n    <div className=\"space-y-4\">\n      {/* Image grid */}\n      {images.length > 0 && (\n        <motion.div layout className=\"grid grid-cols-3 gap-2\">\n          <AnimatePresence mode=\"popLayout\">\n            {images.map((image, index) => (\n              <ImagePreview\n                key={image.id}\n                src={image.url}\n                index={index}\n                onRemove={() => onRemoveImage?.(image.id)}\n              />\n            ))}\n          </AnimatePresence>\n        </motion.div>\n      )}\n      \n      {/* Location badge */}\n      {location && (\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"flex items-center gap-2 text-sm\"\n        >\n          <MapPin className=\"w-4 h-4 text-primary\" />\n          <span className=\"text-muted-foreground truncate\">{location.name}</span>\n          <button\n            onClick={() => onLocationChange?.(null)}\n            className=\"text-muted-foreground hover:text-foreground\"\n          >\n            <X className=\"w-3 h-3\" />\n          </button>\n        </motion.div>\n      )}\n      \n      {/* Action buttons */}\n      <div className=\"flex items-center gap-2 flex-wrap\">\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\"image/*\"\n          multiple\n          onChange={handleFileSelect}\n          className=\"hidden\"\n        />\n        \n        <motion.button\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n          onClick={() => fileInputRef.current?.click()}\n          disabled={images.length >= maxImages}\n          className={cn(\n            'flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-colors',\n            'bg-secondary/50 hover:bg-secondary text-muted-foreground hover:text-foreground',\n            'disabled:opacity-50 disabled:cursor-not-allowed'\n          )}\n        >\n          <ImageIcon className=\"w-4 h-4\" />\n          Add Photo\n        </motion.button>\n        \n        <motion.button\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n          onClick={() => setShowCamera(true)}\n          disabled={images.length >= maxImages}\n          className={cn(\n            'flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-colors',\n            'bg-secondary/50 hover:bg-secondary text-muted-foreground hover:text-foreground',\n            'disabled:opacity-50 disabled:cursor-not-allowed'\n          )}\n        >\n          <Camera className=\"w-4 h-4\" />\n          Camera\n        </motion.button>\n        \n        <motion.button\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n          onClick={() => setShowLocation(true)}\n          className={cn(\n            'flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-colors',\n            location\n              ? 'bg-primary/10 text-primary hover:bg-primary/20'\n              : 'bg-secondary/50 hover:bg-secondary text-muted-foreground hover:text-foreground'\n          )}\n        >\n          <MapPin className=\"w-4 h-4\" />\n          {location ? 'Edit Location' : 'Add Location'}\n        </motion.button>\n      </div>\n      \n      {/* Camera Dialog */}\n      <Dialog open={showCamera} onOpenChange={setShowCamera}>\n        <DialogContent className=\"sm:max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Take a Photo</DialogTitle>\n          </DialogHeader>\n          <CameraCapture\n            onCapture={handleCameraCapture}\n            onClose={() => setShowCamera(false)}\n          />\n        </DialogContent>\n      </Dialog>\n      \n      {/* Location Dialog */}\n      <Dialog open={showLocation} onOpenChange={setShowLocation}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle>Add Location</DialogTitle>\n          </DialogHeader>\n          <LocationPicker\n            location={location}\n            onChange={onLocationChange}\n            onClose={() => setShowLocation(false)}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\n// Compact location display\nexport function LocationBadge({ location, onClick }) {\n  if (!location) return null;\n  \n  return (\n    <motion.button\n      whileHover={{ scale: 1.02 }}\n      onClick={onClick}\n      className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-secondary/50 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n    >\n      <MapPin className=\"w-3.5 h-3.5\" />\n      <span className=\"truncate max-w-[200px]\">{location.name}</span>\n    </motion.button>\n  );\n}\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { \n  Bold, \n  Italic, \n  Heading1, \n  Heading2, \n  List, \n  ListOrdered,\n  Quote,\n  Undo,\n  Redo\n} from 'lucide-react';\nimport { cn } from '../../lib/utils';\n\n// Simple formatting toolbar button\nconst ToolbarButton = ({ icon: Icon, isActive, onClick, title }) => {\n  return (\n    <motion.button\n      type=\"button\"\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n      onClick={onClick}\n      title={title}\n      className={cn(\n        'w-8 h-8 rounded-lg flex items-center justify-center transition-colors',\n        isActive\n          ? 'bg-primary text-primary-foreground'\n          : 'text-muted-foreground hover:text-foreground hover:bg-secondary'\n      )}\n    >\n      <Icon className=\"w-4 h-4\" />\n    </motion.button>\n  );\n};\n\n// Formatting toolbar\nconst FormattingToolbar = ({ onFormat, activeFormats }) => {\n  const tools = [\n    { icon: Bold, command: 'bold', title: 'Bold (Ctrl+B)' },\n    { icon: Italic, command: 'italic', title: 'Italic (Ctrl+I)' },\n    { icon: Heading1, command: 'h1', title: 'Heading 1' },\n    { icon: Heading2, command: 'h2', title: 'Heading 2' },\n    { icon: List, command: 'ul', title: 'Bullet List' },\n    { icon: ListOrdered, command: 'ol', title: 'Numbered List' },\n    { icon: Quote, command: 'blockquote', title: 'Quote' },\n  ];\n  \n  return (\n    <motion.div\n      initial={{ opacity: 0, y: -10 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"flex items-center gap-1 p-1 rounded-xl bg-secondary/50 backdrop-blur-sm\"\n    >\n      {tools.map((tool, index) => (\n        <React.Fragment key={tool.command}>\n          <ToolbarButton\n            icon={tool.icon}\n            isActive={activeFormats.includes(tool.command)}\n            onClick={() => onFormat(tool.command)}\n            title={tool.title}\n          />\n          {index === 1 && <div className=\"w-px h-6 bg-border mx-1\" />}\n          {index === 3 && <div className=\"w-px h-6 bg-border mx-1\" />}\n        </React.Fragment>\n      ))}\n    </motion.div>\n  );\n};\n\nexport default function RichTextEditor({\n  content = '',\n  placeholder = 'Start writing...',\n  onChange,\n  onPlainTextChange,\n  autoFocus = false,\n  showToolbar = true,\n  minHeight = '200px',\n}) {\n  const editorRef = useRef(null);\n  const [activeFormats, setActiveFormats] = useState([]);\n  const [isFocused, setIsFocused] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(!content);\n  \n  // Initialize content\n  useEffect(() => {\n    if (editorRef.current && content && editorRef.current.innerHTML !== content) {\n      editorRef.current.innerHTML = content;\n      setIsEmpty(!content || content === '<br>' || content === '<p><br></p>');\n    }\n  }, [content]);\n  \n  // Auto focus\n  useEffect(() => {\n    if (autoFocus && editorRef.current) {\n      editorRef.current.focus();\n    }\n  }, [autoFocus]);\n  \n  // Check active formats\n  const checkActiveFormats = useCallback(() => {\n    const formats = [];\n    \n    if (document.queryCommandState('bold')) formats.push('bold');\n    if (document.queryCommandState('italic')) formats.push('italic');\n    \n    const selection = window.getSelection();\n    if (selection.rangeCount > 0) {\n      const parentElement = selection.getRangeAt(0).commonAncestorContainer;\n      const element = parentElement.nodeType === 3 ? parentElement.parentElement : parentElement;\n      \n      if (element?.closest('h1')) formats.push('h1');\n      if (element?.closest('h2')) formats.push('h2');\n      if (element?.closest('ul')) formats.push('ul');\n      if (element?.closest('ol')) formats.push('ol');\n      if (element?.closest('blockquote')) formats.push('blockquote');\n    }\n    \n    setActiveFormats(formats);\n  }, []);\n  \n  // Handle input\n  const handleInput = useCallback(() => {\n    if (!editorRef.current) return;\n    \n    const html = editorRef.current.innerHTML;\n    const plainText = editorRef.current.innerText || '';\n    \n    setIsEmpty(!plainText.trim());\n    onChange?.(html);\n    onPlainTextChange?.(plainText);\n    checkActiveFormats();\n  }, [onChange, onPlainTextChange, checkActiveFormats]);\n  \n  // Format text\n  const handleFormat = useCallback((command) => {\n    editorRef.current?.focus();\n    \n    switch (command) {\n      case 'bold':\n        document.execCommand('bold', false);\n        break;\n      case 'italic':\n        document.execCommand('italic', false);\n        break;\n      case 'h1':\n        document.execCommand('formatBlock', false, '<h1>');\n        break;\n      case 'h2':\n        document.execCommand('formatBlock', false, '<h2>');\n        break;\n      case 'ul':\n        document.execCommand('insertUnorderedList', false);\n        break;\n      case 'ol':\n        document.execCommand('insertOrderedList', false);\n        break;\n      case 'blockquote':\n        document.execCommand('formatBlock', false, '<blockquote>');\n        break;\n      default:\n        break;\n    }\n    \n    handleInput();\n  }, [handleInput]);\n  \n  // Keyboard shortcuts\n  const handleKeyDown = useCallback((e) => {\n    if (e.ctrlKey || e.metaKey) {\n      switch (e.key.toLowerCase()) {\n        case 'b':\n          e.preventDefault();\n          handleFormat('bold');\n          break;\n        case 'i':\n          e.preventDefault();\n          handleFormat('italic');\n          break;\n        default:\n          break;\n      }\n    }\n  }, [handleFormat]);\n  \n  // Selection change\n  useEffect(() => {\n    const handleSelectionChange = () => {\n      if (isFocused) {\n        checkActiveFormats();\n      }\n    };\n    \n    document.addEventListener('selectionchange', handleSelectionChange);\n    return () => document.removeEventListener('selectionchange', handleSelectionChange);\n  }, [isFocused, checkActiveFormats]);\n  \n  // Paste handler - strip formatting\n  const handlePaste = useCallback((e) => {\n    e.preventDefault();\n    const text = e.clipboardData.getData('text/plain');\n    document.execCommand('insertText', false, text);\n  }, []);\n  \n  return (\n    <div className=\"relative\">\n      {/* Toolbar */}\n      {showToolbar && isFocused && (\n        <div className=\"sticky top-0 z-10 pb-3\">\n          <FormattingToolbar\n            onFormat={handleFormat}\n            activeFormats={activeFormats}\n          />\n        </div>\n      )}\n      \n      {/* Editor */}\n      <div className=\"relative\">\n        {/* Placeholder */}\n        {isEmpty && !isFocused && (\n          <div className=\"absolute inset-0 pointer-events-none text-muted-foreground text-lg\">\n            {placeholder}\n          </div>\n        )}\n        \n        {/* Editable content */}\n        <div\n          ref={editorRef}\n          contentEditable\n          suppressContentEditableWarning\n          onInput={handleInput}\n          onKeyDown={handleKeyDown}\n          onFocus={() => setIsFocused(true)}\n          onBlur={() => setIsFocused(false)}\n          onPaste={handlePaste}\n          className={cn(\n            'outline-none text-lg leading-relaxed',\n            'prose prose-invert prose-lg max-w-none',\n            'prose-headings:font-semibold prose-headings:mb-4 prose-headings:mt-6',\n            'prose-h1:text-3xl prose-h2:text-2xl',\n            'prose-p:mb-4',\n            'prose-ul:mb-4 prose-ol:mb-4',\n            'prose-li:mb-1',\n            'prose-blockquote:border-l-4 prose-blockquote:border-primary prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-muted-foreground',\n            'caret-primary',\n            '[&:empty]:before:content-[attr(data-placeholder)] [&:empty]:before:text-muted-foreground',\n            // Smooth caret animation\n            'selection:bg-primary/30'\n          )}\n          style={{ minHeight }}\n          data-placeholder={placeholder}\n        />\n        \n        {/* Focus indicator */}\n        <motion.div\n          className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-primary origin-left\"\n          initial={{ scaleX: 0 }}\n          animate={{ scaleX: isFocused ? 1 : 0 }}\n          transition={{ duration: 0.2 }}\n        />\n      </div>\n    </div>\n  );\n}\n\n// Read-only renderer for viewing entries\nexport function RichTextRenderer({ content, className }) {\n  return (\n    <div\n      className={cn(\n        'prose prose-invert prose-lg max-w-none',\n        'prose-headings:font-semibold prose-headings:mb-4 prose-headings:mt-6',\n        'prose-h1:text-3xl prose-h2:text-2xl',\n        'prose-p:mb-4',\n        'prose-ul:mb-4 prose-ol:mb-4',\n        'prose-li:mb-1',\n        'prose-blockquote:border-l-4 prose-blockquote:border-primary prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-muted-foreground',\n        className\n      )}\n      dangerouslySetInnerHTML={{ __html: content }}\n    />\n  );\n}\n\n// Simple title input (iOS Journal style)\nexport function TitleInput({ value, onChange, placeholder = 'Title' }) {\n  const inputRef = useRef(null);\n  \n  return (\n    <input\n      ref={inputRef}\n      type=\"text\"\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      placeholder={placeholder}\n      className={cn(\n        'w-full bg-transparent outline-none',\n        'text-2xl font-semibold placeholder:text-muted-foreground',\n        'caret-primary'\n      )}\n    />\n  );\n}\n"],"names":["MOOD_LABELS","min","max","label","color","emoji","EMOTIONS","name","category","getMoodInfo","value","find","m","MoodSlider","_ref","onChange","moodInfo","isDragging","setIsDragging","useState","_jsxs","className","children","_jsx","motion","div","initial","scale","opacity","animate","transition","type","stiffness","damping","p","y","cn","style","width","concat","e","parseInt","target","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","left","EmotionTag","_ref2","emotion","isSelected","onToggle","button","onClick","whileHover","whileTap","span","MoodSelector","_ref3","_mood$value","_mood$emotions","mood","compact","moodValue","setMoodValue","selectedEmotions","setSelectedEmotions","emotions","showAllEmotions","setShowAllEmotions","useEffect","_mood$value2","_mood$emotions2","handleChange","useCallback","newValue","newEmotions","handleEmotionToggle","emotionName","includes","filter","displayedEmotions","slice","map","length","layout","AnimatePresence","mode","exit","duration","join","formatTime","seconds","mins","Math","floor","secs","toString","padStart","AudioVisualizer","isRecording","audioData","Array","from","_","i","height","random","ease","Waveform","audioUrl","currentTime","isPlaying","waveformData","setWaveformData","useRef","data","progress","isPlayed","scaleY","delay","AudioRecorder","onSave","onCancel","existingAudio","setIsRecording","isPaused","setIsPaused","recordingTime","setRecordingTime","audioBlob","setAudioBlob","setAudioUrl","url","setIsPlaying","playbackTime","setPlaybackTime","setDuration","setAudioData","mediaRecorderRef","audioChunksRef","audioRef","timerRef","analyzerRef","animationFrameRef","current","clearInterval","cancelAnimationFrame","URL","revokeObjectURL","startAnalyzer","stream","audioContext","window","AudioContext","webkitAudioContext","analyzer","createAnalyser","source","createMediaStreamSource","fftSize","connect","updateVisualization","dataArray","Uint8Array","frequencyBinCount","getByteFrequencyData","requestAnimationFrame","deleteRecording","pause","Trash2","togglePlayback","Audio","ontimeupdate","onended","play","Pause","Play","handleSave","Check","Button","variant","size","repeat","Infinity","repeatType","_Fragment","pauseRecording","resume","setInterval","prev","stopRecording","stop","Square","async","navigator","mediaDevices","getUserMedia","audio","MediaRecorder","ondataavailable","event","push","onstop","blob","Blob","createObjectURL","onloadedmetadata","getTracks","forEach","track","start","error","console","alert","Mic","AudioPlayer","_ref4","setCurrentTime","ImagePreview","src","onRemove","index","alt","X","CameraCapture","onCapture","onClose","videoRef","setStream","isReady","setIsReady","capturedImage","setCapturedImage","startCamera","mediaStream","video","facingMode","srcObject","stopCamera","React","ref","autoPlay","playsInline","muted","Loader2","retake","confirmCapture","CheckCircle2","capturePhoto","canvas","document","createElement","videoWidth","videoHeight","getContext","drawImage","toBlob","disabled","LocationPicker","location","isLoading","setIsLoading","searchQuery","setSearchQuery","currentLocation","setCurrentLocation","_data$display_name","position","Promise","resolve","reject","geolocation","getCurrentPosition","enableHighAccuracy","timeout","latitude","longitude","coords","response","fetch","json","locationData","display_name","split","lat","lng","fullAddress","Navigation","MapPin","handleClear","MediaPicker","images","onAddImage","onRemoveImage","onLocationChange","maxImages","fileInputRef","showCamera","setShowCamera","showLocation","setShowLocation","image","id","accept","multiple","files","file","startsWith","_fileInputRef$current","click","ImageIcon","Camera","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","File","Date","now","ToolbarButton","icon","Icon","isActive","title","FormattingToolbar","onFormat","activeFormats","tools","Bold","command","Italic","Heading1","Heading2","List","ListOrdered","Quote","tool","RichTextEditor","content","placeholder","onPlainTextChange","autoFocus","showToolbar","minHeight","editorRef","setActiveFormats","isFocused","setIsFocused","isEmpty","setIsEmpty","innerHTML","focus","checkActiveFormats","formats","queryCommandState","selection","getSelection","rangeCount","parentElement","getRangeAt","commonAncestorContainer","element","nodeType","closest","handleInput","html","plainText","innerText","trim","handleFormat","_editorRef$current","execCommand","handleKeyDown","ctrlKey","metaKey","key","toLowerCase","preventDefault","handleSelectionChange","addEventListener","removeEventListener","handlePaste","text","clipboardData","getData","contentEditable","suppressContentEditableWarning","onInput","onKeyDown","onFocus","onBlur","onPaste","scaleX","TitleInput","_ref5","inputRef"],"ignoreList":[],"sourceRoot":""}