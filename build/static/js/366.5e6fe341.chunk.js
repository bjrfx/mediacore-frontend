"use strict";(self.webpackChunkmediacore_frontend=self.webpackChunkmediacore_frontend||[]).push([[366],{1140:(e,a,s)=>{s.d(a,{BT:()=>v,Wu:()=>f,ZB:()=>g,Zp:()=>p,aR:()=>h});var t=s(7051),r=s(3986),i=s(5043),n=s(9766),d=s(579);const l=["className"],c=["className"],o=["className","children"],m=["className"],u=["className"],x=["className"],p=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,l);return(0,d.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300",s)},i))});p.displayName="Card";const h=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,c);return(0,d.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s)},i))});h.displayName="CardHeader";const g=i.forwardRef((e,a)=>{let{className:s,children:i}=e,l=(0,r.A)(e,o);return(0,d.jsx)("h3",(0,t.A)((0,t.A)({ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s)},l),{},{children:i}))});g.displayName="CardTitle";const v=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,m);return(0,d.jsx)("p",(0,t.A)({ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s)},i))});v.displayName="CardDescription";const f=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,u);return(0,d.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("p-6 pt-0",s)},i))});f.displayName="CardContent";i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,x);return(0,d.jsx)("div",(0,t.A)({ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",s)},i))}).displayName="CardFooter"},1366:(e,a,s)=>{s.r(a),s.d(a,{default:()=>T});var t=s(5043),r=s(6931),i=s(3248),n=s(7097),d=s(1228),l=s(1861),c=s(5088),o=s(2629),m=s(5327),u=s(8992),x=s(516),p=s(9292),h=s(8384),g=s(4025),v=s(2489),f=s(9855),y=s(254),N=s(746),j=s(4459),w=s(7118),b=s(4505),A=s(8717),k=s(1140),U=s(2264),C=s(3390),R=s(3972),E=s(5949),S=s(1555),D=s(7484),I=s(5598),B=s(2353),F=s(9766),P=s(6604),L=s(579);function T(){var e,a,s;const T=(0,i.jE)(),{addToast:M}=(0,A.j_)(),[V,Z]=(0,t.useState)(""),[_,q]=(0,t.useState)(null),[$,z]=(0,t.useState)(!1),[K,O]=(0,t.useState)(!1),[W,Y]=(0,t.useState)(!1),[Q,G]=(0,t.useState)(null),[H,J]=(0,t.useState)(null),{data:X,isLoading:ee,refetch:ae,isRefetching:se,error:te}=(0,r.I)({queryKey:["admin","users"],queryFn:()=>b.ic.getUsers(),retry:1}),re=(null===X||void 0===X||null===(e=X.data)||void 0===e?void 0:e.users)||(null===X||void 0===X?void 0:X.data)||[],ie=(0,n.n)({mutationFn:e=>{let{uid:a,role:s}=e;return b.ic.updateUserRole(a,s)},onSuccess:(e,a)=>{T.invalidateQueries(["admin","users"]),Y(!1),J(null),M({message:"User role updated to ".concat(a.role),type:"success"})},onError:e=>{var a,s;M({message:(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to update user role",type:"error"})}}),ne=(0,n.n)({mutationFn:e=>{let{uid:a,disabled:s}=e;return b.ic.updateUserStatus(a,s)},onSuccess:(e,a)=>{T.invalidateQueries(["admin","users"]),M({message:"User ".concat(a.disabled?"disabled":"enabled"," successfully"),type:"success"})},onError:e=>{var a,s;M({message:(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to update user status",type:"error"})}}),de=(0,n.n)({mutationFn:e=>b.ic.deleteUser(e),onSuccess:()=>{T.invalidateQueries(["admin","users"]),O(!1),G(null),M({message:"User deleted successfully",type:"success"})},onError:e=>{var a,s;M({message:(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||"Failed to delete user",type:"error"})}}),le=re.filter(e=>{var a,s,t;const r=V.toLowerCase();return(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(r))||(null===(s=e.displayName)||void 0===s?void 0:s.toLowerCase().includes(r))||(null===(t=e.uid)||void 0===t?void 0:t.toLowerCase().includes(r))}),ce=re.filter(e=>{var a;return"admin"===e.role||(null===(a=e.customClaims)||void 0===a?void 0:a.admin)}).length,oe=e=>{J(e),Y(!0)},me=e=>{ne.mutate({uid:e.uid,disabled:!e.disabled})},ue=e=>{var a;return"admin"===e.role||(null===(a=e.customClaims)||void 0===a?void 0:a.admin)},xe=(e,a)=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):(null===a||void 0===a?void 0:a.charAt(0).toUpperCase())||"?",pe=e=>{if(!e)return"Never";const a=new Date-new Date(e),s=Math.floor(a/6e4),t=Math.floor(a/36e5),r=Math.floor(a/864e5);return s<60?"".concat(s,"m ago"):t<24?"".concat(t,"h ago"):r<7?"".concat(r,"d ago"):(0,F.Yq)(e)};var he,ge;return te?(0,L.jsxs)("div",{className:"space-y-6",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("h2",{className:"text-2xl font-bold",children:"Users"}),(0,L.jsx)("p",{className:"text-muted-foreground",children:"View and manage Firebase authenticated users"})]}),(0,L.jsx)(k.Zp,{children:(0,L.jsxs)(k.Wu,{className:"py-12 text-center",children:[(0,L.jsx)(l.A,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),(0,L.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load users"}),(0,L.jsx)("p",{className:"text-muted-foreground mb-4",children:(null===(he=te.response)||void 0===he||null===(ge=he.data)||void 0===ge?void 0:ge.message)||te.message||"An error occurred"}),(0,L.jsxs)(C.$,{onClick:()=>ae(),children:[(0,L.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})]}):(0,L.jsxs)("div",{className:"space-y-6",children:[(0,L.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("h2",{className:"text-2xl font-bold",children:"Users"}),(0,L.jsx)("p",{className:"text-muted-foreground",children:"View and manage Firebase authenticated users"})]}),(0,L.jsxs)(C.$,{variant:"outline",onClick:()=>ae(),disabled:se,children:[(0,L.jsx)(x.A,{className:(0,F.cn)("h-4 w-4 mr-2",se&&"animate-spin")}),"Refresh"]})]}),(0,L.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[{title:"Total Users",value:re.length,icon:w.A,color:"text-blue-500"},{title:"Admins",value:ce,icon:o.A,color:"text-yellow-500"},{title:"Verified",value:re.filter(e=>e.emailVerified).length,icon:y.A,color:"text-green-500"},{title:"Unverified",value:re.filter(e=>!e.emailVerified).length,icon:N.A,color:"text-orange-500"},{title:"Disabled",value:re.filter(e=>e.disabled).length,icon:v.A,color:"text-red-500"}].map((e,a)=>(0,L.jsx)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},children:(0,L.jsx)(k.Zp,{children:(0,L.jsx)(k.Wu,{className:"p-4",children:ee?(0,L.jsx)(S.E,{className:"h-16"}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,L.jsx)(e.icon,{className:"h-4 w-4 ".concat(e.color)}),(0,L.jsx)("span",{className:"text-sm text-muted-foreground",children:e.title})]}),(0,L.jsx)("p",{className:"text-2xl font-bold",children:e.value})]})})})},e.title))}),(0,L.jsx)(k.Zp,{children:(0,L.jsx)(k.Wu,{className:"p-4",children:(0,L.jsxs)("div",{className:"relative",children:[(0,L.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,L.jsx)(U.p,{placeholder:"Search by name, email, or UID...",value:V,onChange:e=>Z(e.target.value),className:"pl-10"})]})})}),(0,L.jsxs)(k.Zp,{children:[(0,L.jsx)(k.aR,{children:(0,L.jsxs)(k.ZB,{children:["Users (",le.length,")"]})}),(0,L.jsx)(k.Wu,{className:"p-0",children:(0,L.jsx)(P.F,{className:"h-[500px]",children:ee?(0,L.jsx)("div",{className:"space-y-4 p-4",children:Array.from({length:5}).map((e,a)=>(0,L.jsxs)("div",{className:"flex items-center gap-4",children:[(0,L.jsx)(S.E,{className:"h-10 w-10 rounded-full"}),(0,L.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,L.jsx)(S.E,{className:"h-4 w-1/3"}),(0,L.jsx)(S.E,{className:"h-3 w-1/4"})]})]},a))}):0===le.length?(0,L.jsxs)("div",{className:"text-center py-12",children:[(0,L.jsx)(w.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,L.jsx)("p",{className:"text-muted-foreground",children:V?"No users found matching your search":"No users registered yet"})]}):(0,L.jsx)("div",{className:"divide-y divide-border",children:le.map((e,a)=>{var s;return(0,L.jsxs)(d.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.02*a},className:"flex items-center gap-4 p-4 hover:bg-muted/50 transition-colors",children:[(0,L.jsxs)(R.eu,{className:"h-10 w-10",children:[(0,L.jsx)(R.BK,{src:e.photoURL,alt:e.displayName}),(0,L.jsx)(R.q5,{children:xe(e.displayName,e.email)})]}),(0,L.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,L.jsxs)("div",{className:"flex items-center gap-2",children:[(0,L.jsx)("p",{className:"font-medium truncate",children:e.displayName||"Unknown"}),ue(e)&&(0,L.jsx)(o.A,{className:"h-4 w-4 text-yellow-500"})]}),(0,L.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:e.email})]}),(0,L.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[ue(e)?(0,L.jsx)(E.E,{className:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",children:"Admin"}):(0,L.jsx)(E.E,{variant:"secondary",children:"User"}),e.emailVerified?(0,L.jsx)(E.E,{variant:"success",className:"text-xs",children:"Verified"}):(0,L.jsx)(E.E,{variant:"outline",className:"text-xs",children:"Unverified"}),e.disabled&&(0,L.jsx)(E.E,{variant:"destructive",className:"text-xs",children:"Disabled"})]}),(0,L.jsx)("div",{className:"hidden lg:flex flex-col items-end text-xs text-muted-foreground",children:(0,L.jsxs)("span",{className:"flex items-center gap-1",children:[(0,L.jsx)(c.A,{className:"h-3 w-3"}),pe(null===(s=e.metadata)||void 0===s?void 0:s.lastSignInTime)]})}),(0,L.jsxs)(D.rI,{children:[(0,L.jsx)(D.ty,{asChild:!0,children:(0,L.jsx)(C.$,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,L.jsx)(u.A,{className:"h-4 w-4"})})}),(0,L.jsxs)(D.SQ,{align:"end",children:[(0,L.jsxs)(D._2,{onClick:()=>(e=>{q(e),z(!0)})(e),children:[(0,L.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"View Details"]}),(0,L.jsx)(D.mB,{}),(0,L.jsx)(D._2,{onClick:()=>oe(e),children:ue(e)?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Remove Admin"]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Make Admin"]})}),(0,L.jsx)(D._2,{onClick:()=>me(e),children:e.disabled?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Enable User"]}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"Disable User"]})}),(0,L.jsx)(D.mB,{}),(0,L.jsx)(D._2,{onClick:()=>navigator.clipboard.writeText(e.uid),children:"Copy UID"}),(0,L.jsx)(D._2,{onClick:()=>navigator.clipboard.writeText(e.email),children:"Copy Email"}),(0,L.jsx)(D.mB,{}),(0,L.jsxs)(D._2,{className:"text-destructive focus:text-destructive",onClick:()=>(e=>{G(e),O(!0)})(e),children:[(0,L.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Delete User"]})]})]})]},e.uid)})})})})]}),(0,L.jsx)(I.lG,{open:$,onOpenChange:z,children:(0,L.jsxs)(I.Cf,{className:"max-w-md",children:[(0,L.jsxs)(I.c7,{children:[(0,L.jsx)(I.L3,{children:"User Details"}),(0,L.jsx)(I.rr,{children:"Detailed information about this user"})]}),_&&(0,L.jsxs)("div",{className:"space-y-6",children:[(0,L.jsxs)("div",{className:"flex items-center gap-4",children:[(0,L.jsxs)(R.eu,{className:"h-16 w-16",children:[(0,L.jsx)(R.BK,{src:_.photoURL,alt:_.displayName}),(0,L.jsx)(R.q5,{className:"text-xl",children:xe(_.displayName,_.email)})]}),(0,L.jsxs)("div",{children:[(0,L.jsxs)("div",{className:"flex items-center gap-2",children:[(0,L.jsx)("p",{className:"text-lg font-semibold",children:_.displayName||"Unknown"}),ue(_)&&(0,L.jsx)(o.A,{className:"h-5 w-5 text-yellow-500"})]}),(0,L.jsxs)("div",{className:"flex gap-2 mt-1",children:[ue(_)?(0,L.jsx)(E.E,{className:"bg-yellow-500/20 text-yellow-500 border-yellow-500/30",children:"Admin"}):(0,L.jsx)(E.E,{variant:"secondary",children:"User"}),_.emailVerified?(0,L.jsx)(E.E,{variant:"success",className:"text-xs",children:"Verified"}):(0,L.jsx)(E.E,{variant:"outline",className:"text-xs",children:"Unverified"}),_.disabled&&(0,L.jsx)(E.E,{variant:"destructive",className:"text-xs",children:"Disabled"})]})]})]}),(0,L.jsxs)("div",{className:"space-y-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Email"}),(0,L.jsxs)("p",{className:"flex items-center gap-2 mt-1",children:[(0,L.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"}),_.email]})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"UID"}),(0,L.jsx)("p",{className:"mt-1 font-mono text-sm break-all",children:_.uid})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Role"}),(0,L.jsx)("p",{className:"mt-1",children:ue(_)?"Administrator":"Regular User"})]}),(0,L.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Created"}),(0,L.jsx)("p",{className:"mt-1 text-sm",children:(0,F.Yq)(null===(a=_.metadata)||void 0===a?void 0:a.creationTime)})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Last Sign In"}),(0,L.jsx)("p",{className:"mt-1 text-sm",children:(0,F.Yq)(null===(s=_.metadata)||void 0===s?void 0:s.lastSignInTime)||"Never"})]})]}),_.providerData&&(0,L.jsxs)("div",{children:[(0,L.jsx)("label",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Sign-in Providers"}),(0,L.jsx)("div",{className:"flex gap-2 mt-2",children:_.providerData.map(e=>(0,L.jsx)(E.E,{variant:"secondary",children:e.providerId.replace(".com","")},e.providerId))})]})]}),(0,L.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,L.jsx)(C.$,{variant:"outline",className:"flex-1",onClick:()=>oe(_),children:ue(_)?"Remove Admin":"Make Admin"}),(0,L.jsx)(C.$,{variant:"outline",className:"flex-1",onClick:()=>{me(_),z(!1)},children:_.disabled?"Enable":"Disable"})]})]})]})}),(0,L.jsx)(B.Lt,{open:W,onOpenChange:Y,children:(0,L.jsxs)(B.EO,{children:[(0,L.jsxs)(B.wd,{children:[(0,L.jsx)(B.r7,{children:H&&ue(H)?"Remove Admin Privileges":"Grant Admin Privileges"}),(0,L.jsx)(B.$v,{children:H&&ue(H)?"Are you sure you want to remove admin privileges from ".concat((null===H||void 0===H?void 0:H.displayName)||(null===H||void 0===H?void 0:H.email),"? They will no longer be able to access the admin dashboard."):"Are you sure you want to make ".concat((null===H||void 0===H?void 0:H.displayName)||(null===H||void 0===H?void 0:H.email)," an admin? They will have full access to the admin dashboard and all management features.")})]}),(0,L.jsxs)(B.ck,{children:[(0,L.jsx)(B.Zr,{children:"Cancel"}),(0,L.jsx)(B.Rx,{onClick:()=>{return e=H&&ue(H)?"user":"admin",void(H&&ie.mutate({uid:H.uid,role:e}));var e},disabled:ie.isPending,children:ie.isPending?"Updating...":"Confirm"})]})]})}),(0,L.jsx)(B.Lt,{open:K,onOpenChange:O,children:(0,L.jsxs)(B.EO,{children:[(0,L.jsxs)(B.wd,{children:[(0,L.jsx)(B.r7,{children:"Delete User"}),(0,L.jsxs)(B.$v,{children:["Are you sure you want to delete"," ",(0,L.jsx)("span",{className:"font-semibold",children:(null===Q||void 0===Q?void 0:Q.displayName)||(null===Q||void 0===Q?void 0:Q.email)}),"? This action cannot be undone and will permanently remove the user from Firebase Authentication."]})]}),(0,L.jsxs)(B.ck,{children:[(0,L.jsx)(B.Zr,{children:"Cancel"}),(0,L.jsx)(B.Rx,{onClick:()=>{Q&&de.mutate(Q.uid)},disabled:de.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:de.isPending?"Deleting...":"Delete User"})]})]})})]})}},1555:(e,a,s)=>{s.d(a,{E:()=>l});var t=s(7051),r=s(3986),i=(s(5043),s(9766)),n=s(579);const d=["className"];function l(e){let{className:a}=e,s=(0,r.A)(e,d);return(0,n.jsx)("div",(0,t.A)({className:(0,i.cn)("animate-pulse rounded-md bg-muted",a)},s))}},2264:(e,a,s)=>{s.d(a,{p:()=>c});var t=s(7051),r=s(3986),i=s(5043),n=s(9766),d=s(579);const l=["className","type"],c=i.forwardRef((e,a)=>{let{className:s,type:i}=e,c=(0,r.A)(e,l);return(0,d.jsx)("input",(0,t.A)({type:i,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",s),ref:a},c))});c.displayName="Input"},2353:(e,a,s)=>{s.d(a,{$v:()=>k,EO:()=>j,Lt:()=>f,Rx:()=>U,Zr:()=>C,ck:()=>b,r7:()=>A,wd:()=>w});var t=s(7051),r=s(3986),i=s(5043),n=s(4796),d=s(9766),l=s(3390),c=s(579);const o=["className"],m=["className"],u=["className"],x=["className"],p=["className"],h=["className"],g=["className"],v=["className"],f=n.bL,y=(n.l9,n.ZL),N=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,o);return(0,c.jsx)(n.hJ,(0,t.A)((0,t.A)({className:(0,d.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s)},i),{},{ref:a}))});N.displayName=n.hJ.displayName;const j=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,m);return(0,c.jsxs)(y,{children:[(0,c.jsx)(N,{}),(0,c.jsx)(n.UC,(0,t.A)({ref:a,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s)},i))]})});j.displayName=n.UC.displayName;const w=e=>{let{className:a}=e,s=(0,r.A)(e,u);return(0,c.jsx)("div",(0,t.A)({className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",a)},s))};w.displayName="AlertDialogHeader";const b=e=>{let{className:a}=e,s=(0,r.A)(e,x);return(0,c.jsx)("div",(0,t.A)({className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a)},s))};b.displayName="AlertDialogFooter";const A=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,p);return(0,c.jsx)(n.hE,(0,t.A)({ref:a,className:(0,d.cn)("text-lg font-semibold",s)},i))});A.displayName=n.hE.displayName;const k=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,h);return(0,c.jsx)(n.VY,(0,t.A)({ref:a,className:(0,d.cn)("text-sm text-muted-foreground",s)},i))});k.displayName=n.VY.displayName;const U=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,g);return(0,c.jsx)(n.rc,(0,t.A)({ref:a,className:(0,d.cn)((0,l.r)(),s)},i))});U.displayName=n.rc.displayName;const C=i.forwardRef((e,a)=>{let{className:s}=e,i=(0,r.A)(e,v);return(0,c.jsx)(n.ZD,(0,t.A)({ref:a,className:(0,d.cn)((0,l.r)({variant:"outline"}),"mt-2 sm:mt-0",s)},i))});C.displayName=n.ZD.displayName},4505:(e,a,s)=>{s.d(a,{O0:()=>o,ic:()=>m});var t=s(7051),r=s(9722),i=s(3550);const n="https://test.mediacoreapi.masakalirestrobar.ca",d="mc_3f177f8a673446ba8ee152728d877b00";console.log("[API] Base URL:",n);const l=r.A.create({baseURL:n,timeout:3e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{var a;return console.log("[API] ".concat(null===(a=e.method)||void 0===a?void 0:a.toUpperCase()," ").concat(e.baseURL).concat(e.url)),e},e=>(console.error("[API Request Error]",e),Promise.reject(e))),l.interceptors.response.use(e=>(console.log("[API] Response:",e.status),e),e=>{var a,s,t;return console.error("[API Error]",{status:null===(a=e.response)||void 0===a?void 0:a.status,data:null===(s=e.response)||void 0===s?void 0:s.data,message:e.message,url:null===(t=e.config)||void 0===t?void 0:t.url}),Promise.reject(e)});const c=async()=>{const e=await(0,i.p9)();return{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}},o={healthCheck:async()=>(await l.get("/health")).data,getMedia:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:a,limit:s=50,orderBy:t="createdAt",order:r="desc"}=e,i=new URLSearchParams({limit:String(s),orderBy:t,order:r});a&&i.append("type",a);return(await l.get("/api/feed?".concat(i),{headers:{"x-api-key":d}})).data},getMediaById:async e=>(await l.get("/api/media/".concat(e),{headers:{"x-api-key":d}})).data,getSettings:async()=>(await l.get("/api/settings",{headers:{"x-api-key":d}})).data,getArtists:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{limit:a=50,orderBy:s="createdAt",order:t="desc"}=e,r=new URLSearchParams({limit:String(a),orderBy:s,order:t});return(await l.get("/api/artists?".concat(r),{headers:{"x-api-key":d}})).data},getArtistById:async e=>(await l.get("/api/artists/".concat(e),{headers:{"x-api-key":d}})).data,getArtistAlbums:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{orderBy:s="releaseDate",order:t="desc"}=a,r=new URLSearchParams({orderBy:s,order:t});return(await l.get("/api/artists/".concat(e,"/albums?").concat(r),{headers:{"x-api-key":d}})).data},getArtistMedia:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:s,orderBy:t="createdAt",order:r="desc"}=a,i=new URLSearchParams({orderBy:t,order:r});s&&i.append("type",s);return(await l.get("/api/artists/".concat(e,"/media?").concat(i),{headers:{"x-api-key":d}})).data},getAlbums:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{artistId:a,limit:s=50,orderBy:t="releaseDate",order:r="desc"}=e,i=new URLSearchParams({limit:String(s),orderBy:t,order:r});a&&i.append("artistId",a);return(await l.get("/api/albums?".concat(i),{headers:{"x-api-key":d}})).data},getAlbumById:async e=>(await l.get("/api/albums/".concat(e),{headers:{"x-api-key":d}})).data,getAlbumMedia:async e=>(await l.get("/api/albums/".concat(e,"/media"),{headers:{"x-api-key":d}})).data},m={uploadMedia:async function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"video",r=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0;const c=await(0,i.p9)(),o=new FormData;o.append("file",e),o.append("title",a),o.append("subtitle",s),o.append("type",t),n&&o.append("artistId",n),d&&o.append("albumId",d),console.log("[API] Upload:",{fileName:e.name,fileType:e.type,title:a,type:t,artistId:n,albumId:d});return(await l.post("/admin/media",o,{headers:{Authorization:"Bearer ".concat(c),"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(r&&e.total){const a=Math.round(100*e.loaded/e.total);r(a)}}})).data},updateMedia:async(e,a)=>{const s=await c();return(await l.put("/admin/media/".concat(e),a,{headers:s})).data},deleteMedia:async function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=await c();return(await l.delete("/admin/media/".concat(e,"?deleteFile=").concat(a),{headers:s})).data},createArtist:async e=>{const a=await c();return(await l.post("/admin/artists",e,{headers:a})).data},updateArtist:async(e,a)=>{const s=await c();return(await l.put("/admin/artists/".concat(e),a,{headers:s})).data},deleteArtist:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=await c();return(await l.delete("/admin/artists/".concat(e,"?cascade=").concat(a),{headers:s})).data},createAlbum:async e=>{const a=await c();return(await l.post("/admin/albums",e,{headers:a})).data},updateAlbum:async(e,a)=>{const s=await c();return(await l.put("/admin/albums/".concat(e),a,{headers:s})).data},deleteAlbum:async e=>{const a=await c();return(await l.delete("/admin/albums/".concat(e),{headers:a})).data},addMediaToAlbum:async(e,a,s)=>{const t=await c();return(await l.post("/admin/albums/".concat(e,"/media"),{mediaId:a,trackNumber:s},{headers:t})).data},removeMediaFromAlbum:async(e,a)=>{const s=await c();return(await l.delete("/admin/albums/".concat(e,"/media/").concat(a),{headers:s})).data},reorderAlbumTracks:async(e,a)=>{const s=await c();return(await l.put("/admin/albums/".concat(e,"/media/reorder"),{tracks:a},{headers:s})).data},generateApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read_only",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await c();return(await l.post("/admin/generate-key",(0,t.A)({name:e,accessType:a},s),{headers:r})).data},getApiKeys:async()=>{const e=await c();return(await l.get("/admin/api-keys",{headers:e})).data},deleteApiKey:async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=await c();return(await l.delete("/admin/api-keys/".concat(e,"?hardDelete=").concat(a),{headers:s})).data},getSettings:async()=>{const e=await c();return(await l.get("/api/settings",{headers:e})).data},updateSettings:async e=>{const a=await c();return(await l.put("/admin/settings",e,{headers:a})).data},getDashboard:async()=>{const e=await c();return(await l.get("/admin/analytics/dashboard",{headers:e})).data},getAnalyticsSummary:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const a=await c();return(await l.get("/admin/analytics/summary?days=".concat(e),{headers:a})).data},getRealTimeStats:async()=>{const e=await c();return(await l.get("/admin/analytics/realtime",{headers:e})).data},getApiKeyStats:async e=>{const a=await c(),s=e?"/admin/analytics/api-keys?keyId=".concat(e):"/admin/analytics/api-keys";return(await l.get(s,{headers:a})).data},getUsers:async()=>{const e=await c();return(await l.get("/admin/users",{headers:e})).data},getUserById:async e=>{const a=await c();return(await l.get("/admin/users/".concat(e),{headers:a})).data},updateUserRole:async(e,a)=>{const s=await c();return(await l.put("/admin/users/".concat(e,"/role"),{role:a},{headers:s})).data},updateUserStatus:async(e,a)=>{const s=await c();return(await l.put("/admin/users/".concat(e,"/status"),{disabled:a},{headers:s})).data},deleteUser:async e=>{const a=await c();return(await l.delete("/admin/users/".concat(e),{headers:a})).data}}},5949:(e,a,s)=>{s.d(a,{E:()=>o});var t=s(7051),r=s(3986),i=(s(5043),s(917)),n=s(9766),d=s(579);const l=["className","variant"],c=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500/20 text-green-500",warning:"border-transparent bg-yellow-500/20 text-yellow-500"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:s}=e,i=(0,r.A)(e,l);return(0,d.jsx)("div",(0,t.A)({className:(0,n.cn)(c({variant:s}),a)},i))}}}]);
//# sourceMappingURL=366.5e6fe341.chunk.js.map